(this["webpackJsonpfeed-the-hungry"]=this["webpackJsonpfeed-the-hungry"]||[]).push([[0],{103:function(e,a,t){e.exports=t.p+"static/media/Delivery.af41986f.png"},104:function(e,a,t){e.exports=t.p+"static/media/Pickup.011b01ba.png"},105:function(e,a,t){e.exports=t.p+"static/media/kosher.a05262d3.png"},106:function(e,a,t){e.exports=t.p+"static/media/gluten_free.c5a3deab.png"},107:function(e,a,t){e.exports=t.p+"static/media/vegan.b5cece1e.png"},108:function(e,a,t){e.exports=t.p+"static/media/vegetarian.b27bed4d.png"},109:function(e,a,t){e.exports=t.p+"static/media/halal.6694f867.png"},110:function(e,a,t){e.exports=t.p+"static/media/404.1a53adde.svg"},111:function(e,a,t){e.exports=t.p+"static/media/ServingNow_Logo_Green.6649427f.png"},112:function(e,a,t){e.exports=t.p+"static/media/empty-cart.545cd479.png"},120:function(e,a,t){e.exports=t.p+"static/media/farmers-market.7128b6c5.jpg"},123:function(e,a,t){e.exports=t.p+"static/media/failed-order.fcc8c2fa.svg"},124:function(e,a,t){e.exports=t.p+"static/media/home-image-5.108ad175.webp"},125:function(e,a,t){e.exports=t.p+"static/media/home-image-4.5943da98.webp"},126:function(e,a,t){e.exports=t.p+"static/media/home-image-3.ac541f1e.jpg"},127:function(e,a,t){e.exports=t.p+"static/media/home-image-2.f9ee49cc.webp"},128:function(e,a,t){e.exports=t.p+"static/media/home-image-1.6dea3313.webp"},133:function(e,a,t){e.exports=t(244)},138:function(e,a,t){},140:function(e,a,t){},141:function(e,a,t){e.exports=t.p+"static/media/loading.d317a4d9.png"},166:function(e,a,t){},168:function(e,a,t){},183:function(e,a,t){},242:function(e,a,t){},243:function(e,a,t){},244:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(31),c=t.n(r),l=(t(138),t(86),t(4)),i=t(7),o=t(15),m=(t(139),t(140),t(30),t(45),t(141),t(8)),u=t(10),d=t(63),p=t(103),f=t.n(p),E=t(104),v=t.n(E),g=t(16),b=t(105),h=t.n(b),N=t(106),y=t.n(N),k=t(107),w=t.n(k),x=t(108),_=t.n(x),O=t(109),S=t.n(O),j={faShippingFast:u.u,faCube:u.k,faMapPin:u.q,faClock:u.j,faMapMarkerAlt:u.p,faCalendarAlt:u.b,faCheckCircle:u.d,faCheck:u.c,faStar:u.x,faSearch:u.t,faShoppingCart:u.w,faPlus:u.s,faMinus:u.r,faChevronUp:u.h,faChevronDown:u.e,Delivery:f.a,Pickup:v.a,faTimes:u.z,faLongArrowAltLeft:u.n,faTrashAlt:u.A,faCircleNotch:u.i,Kosher:h.a,GlutenFree:y.a,Vegan:w.a,Vegetarian:_.a,Halal:S.a,faShoppingBasket:u.v,faLongArrowAltRight:u.o,faChevronLeft:u.f,faChevronRight:u.g,faWalking:u.D,faTruck:u.B,faEnvelope:u.l,faLock:u.m,faBoxOpen:u.a,MarkerIcon:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:41;return new g.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-".concat(e,".png"),shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[a,t],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})},faUserCircle:u.C,faStarOfLife:u.y,faFacebookF:d.a,faTwitter:d.c,faLinkedinIn:d.b};var C=function(){return s.a.createElement("div",{className:"not-found-page"},s.a.createElement("div",{className:"not-found-page-body"},s.a.createElement("div",{className:"not-found-page-content"},s.a.createElement("div",{className:"icon"},s.a.createElement(m.a,{icon:j.faCircleNotch,style:{fontSize:50},spin:!0})),s.a.createElement("div",{className:"space-1"}),s.a.createElement("p",{className:"title is-6 has-text-grey"},"Page is loading..."))))},I=t(19),D=t.n(I),A=t(29),V=t(18),z=t.n(V),L=function(e){var a=Object(n.useState)(e),t=Object(l.a)(a,2),s=t[0],r=t[1],c=Object(n.useState)(!0),i=Object(l.a)(c,2),o=i[0],m=i[1],u=Object(n.useState)(!1),d=Object(l.a)(u,2),p=d[0],f=d[1],E=Object(n.useState)({}),v=Object(l.a)(E,2),g=v[0],b=v[1];return Object(n.useEffect)((function(){var e=!1;new AbortController;return function(){var a=Object(A.a)(D.a.mark((function a(){var t,n;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch(s);case 3:return t=a.sent,a.next=6,t.json();case 6:n=a.sent,console.log("fetch data"),e||b(n),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),f(!0);case 14:return a.prev=14,console.log("loading done"),m(!1),a.finish(14);case 18:case"end":return a.stop()}}),a,null,[[0,11,14,18]])})));return function(){return a.apply(this,arguments)}}()(),function(){e=!0}}),[s]),{isLoading:o,hasError:p,setUrl:r,data:g}},F=t(110),P=t.n(F);var T=function(){return s.a.createElement("div",{className:"not-found-page"},s.a.createElement("div",{className:"not-found-page-body"},s.a.createElement("figure",{className:"image is-128x128"},s.a.createElement("img",{src:P.a,alt:"Not Found"})),s.a.createElement("div",{className:"not-found-page-content"},s.a.createElement("p",{className:"title is-6 has-text-grey"},"Oh no! the page you are looking for doesn't exist."),s.a.createElement(i.b,{to:"/"},s.a.createElement("button",{className:"button is-green"},s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:j.faLongArrowAltLeft})),s.a.createElement("span",null,"Back Home"))))))},M=t(251),U=t(252),R=t(250),B=t(253);t(165),t(166);var J=function(e,a,t,n,s){var r=Math.PI*e/180,c=Math.PI*t/180,l=a-n,i=Math.PI*l/180,o=Math.sin(r)*Math.sin(c)+Math.cos(r)*Math.cos(c)*Math.cos(i);return o=60*(o=180*(o=Math.acos(o))/Math.PI)*1.1515,"K"===s&&(o*=1.609344),"M"===s&&(o*=.8684),o},q=Object(n.createContext)();var G=function(e){var a=e.userLocation,t=e.bankLocation,r=e.marker,c=Object(n.useState)(j.MarkerIcon("green")),m=Object(l.a)(c,2),u=m[0],d=m[1],p=Object(o.j)(),f=p.path;p.url;Object(n.useEffect)((function(){r.activeMarker===t.foodbank_id?d(j.MarkerIcon("black",26,42)):d(j.MarkerIcon("green"))}),[r.activeMarker]);var E=Math.round(10*J(a[0],a[1],t.fb_latitude,t.fb_longitude,"M"))/10;return s.a.createElement(R.a,{position:[t.fb_latitude,t.fb_longitude],icon:u,onClick:function(){return r.setActiveMarker(t.foodbank_id)},onMouseOver:function(){return r.setActiveMarker(t.foodbank_id)},onMouseOut:function(){return r.setActiveMarker(null)}},s.a.createElement(B.a,{closeOnClick:!0,closeButton:!1,autoPanPadding:[50,50]},s.a.createElement("article",{className:"media marker-popup"},s.a.createElement("figure",{className:"media-left"},s.a.createElement("p",{className:"image is-48x48"},s.a.createElement("img",{src:t.fb_logo}))),s.a.createElement("div",{className:"media-content"},s.a.createElement("div",{className:"content"},s.a.createElement("p",null,s.a.createElement(i.b,{to:"".concat(f,"/").concat(t.foodbank_id,"/products")},s.a.createElement("strong",null,t.fb_name)),s.a.createElement("br",null),t.foodbank_address,s.a.createElement("br",null),E," miles"))))))},H=function(e){var a=e.marker,t=e.banks,r=Object(n.useContext)(q).position;return console.log(r),s.a.createElement(M.a,{center:r,zoom:11},s.a.createElement(U.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r?s.a.createElement(R.a,{position:r,icon:j.MarkerIcon("red")},s.a.createElement(B.a,null,s.a.createElement("div",{className:"marker-popup"},s.a.createElement("p",{className:"title has-font-14"},"Your Location"),s.a.createElement("p",{className:"subtitle has-font-14"}," ","(",r[0],",",r[1],")"," ")))):s.a.createElement("div",{className:"loading"},"Cannot load current location."),Array.isArray(t)?t.map((function(e){return s.a.createElement(G,{key:e.foodbank_id,userLocation:r,bankLocation:e,marker:a})})):s.a.createElement(G,{userLocation:r,bankLocation:t,marker:a}))};var W=Object(o.k)((function(e){var a=e.marker,t=e.banks,n=Object(o.g)();return(new Date).getDay(),s.a.createElement("div",{className:"banks"},t.map((function(e){return s.a.createElement("div",{key:e.foodbank_id,className:"card bank-card",onMouseEnter:function(){return a.setActiveMarker(e.foodbank_id)},onMouseLeave:function(){return a.setActiveMarker("")},onClick:function(){return n.push("/banks/".concat(e.foodbank_id,"/products"))}},s.a.createElement("div",{className:"card-content"},s.a.createElement("div",{className:"media"},s.a.createElement("div",{className:"media-left"},s.a.createElement("figure",{className:"image bank-logo"},s.a.createElement("img",{src:e.fb_logo,alt:"Bank's Logo"}))),s.a.createElement("div",{className:"media-content"},s.a.createElement("p",{className:"title is-6 has-text-grey-dark",style:{paddingBottom:"1rem",marginBottom:"1rem",borderBottom:"1px solid hsl(0, 0%, 48%)"}},e.fb_name),s.a.createElement("div",{className:"buttons are-small",style:{marginBottom:0}},e.delivery_pickup.includes("delivery")&&s.a.createElement("button",{className:"button delivery-btn"},"Delivery"),e.delivery_pickup.includes("pickup")&&s.a.createElement("button",{className:"button pickup-btn"},"Pick Up"))))))})))}));var Y=function(){var e=Object(n.useState)(""),a=Object(l.a)(e,2);return{activeMarker:a[0],setActiveMarker:a[1]}};var $=function(e,a){var t={};return a.forEach((function(a){t[a[e]]=a})),Object.values(t)},K=function(){var e=L("https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/foodbankinfo"),a=e.data,t=e.isLoading,n=e.hasError,r=Y();if(t)return s.a.createElement(C,null);if(n)return s.a.createElement(T,null);var c=Object.keys(a).length?$("foodbank_id",a.result.result):[];return s.a.createElement("div",{className:"banks-page-bd"},s.a.createElement("div",{className:"columns",style:{marginTop:0}},s.a.createElement("div",{className:"column has-no-padding"},s.a.createElement("div",{className:"bank-list"},s.a.createElement(W,{marker:r,banks:c}))),s.a.createElement("div",{className:"column has-no-padding"},s.a.createElement("div",{className:"sticky"},s.a.createElement(H,{marker:r,banks:c})))))},Z=(t(167),function(){return new URLSearchParams(Object(o.h)().search)});function Q(e){var a=e.str,t=Object(o.i)().bankId;return s.a.createElement("div",{className:"tags-container no-overflow"},a?a.split(";").map((function(e){return s.a.createElement(i.b,{key:e,to:"banks/".concat(t,"/products?type=").concat(e),className:"item-tag subtitle has-margin-left-12",alt:""},"#",e)})):"")}function X(e){var a=e.item,t=e.orderType,n=ee(a,t);return s.a.createElement("div",null,s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control item-actions"},s.a.createElement("button",{className:"button is-small",onClick:n.decrease,disabled:0===n.value},"-"),s.a.createElement("input",{type:"text",className:"input is-small",value:n.value,readOnly:!0}),s.a.createElement("button",{className:"button is-small",onClick:n.increase,disabled:!a.delivery_pickup.includes(t.orderType)||0===a.quantity||n.value>=a.food_id_limit},"+"))),s.a.createElement("div",{className:"space-1-5"}),0===a.quantity&&s.a.createElement("p",{className:"p is-danger"},"Out of stock"),n.value>=a.food_id_limit&&s.a.createElement("p",{className:"help is-danger"},"Limit is ",a.food_id_limit))}var ee=function(e,a){var t=Object(o.i)().bankId,s=Object(n.useContext)(q),r=Object(n.useState)((function(){var a=JSON.parse(window.localStorage.getItem("cart")),n=a&&a.bankId===t?a.items.find((function(a){return a.info.food_id===e.food_id})):{};return n&&n.amount?n.amount:0})),c=Object(l.a)(r,2),i=c[0],m=c[1],u=function(e){var a=0;return e.forEach((function(e){a+=e.amount})),a};return Object(n.useEffect)((function(){var n=JSON.parse(window.localStorage.getItem("cart"))||{bankId:"",items:[]},r=n.items?n.items:[];if(n.bankId&&n.bankId===t){var c=r.find((function(a){return a.info.food_id===e.food_id}));c&&i>0?c.amount=i:c&&0===i?r.splice(r.indexOf(c),1):!c&&i>0&&r.push({info:e,amount:i}),window.localStorage.setItem("cart",JSON.stringify({bankId:t,total:u(r),items:r}))}else n.bankId&&n.bankId!=t&&i>0?((r=[]).push({info:e,amount:i}),window.localStorage.setItem("cart",JSON.stringify({bankId:t,total:u(r),items:r}))):n.bankId&&n.bankId!=t?window.localStorage.setItem("cart",JSON.stringify(n)):n.bankId||window.localStorage.setItem("cart",JSON.stringify({bankId:t,total:u(r),items:r}));var l=ae(r,"delivery_pickup","delivery"),o=ae(r,"delivery_pickup","pickup");l.length>0?a.setOrderType("delivery"):o.length>0?a.setOrderType("pickup"):a.setOrderType(""),s.setCartTotal(u(r))}),[i]),{value:i,increase:function(){m(i+1)},decrease:function(){m(i-1)},zero:function(){m(0)}}},ae=function(e,a,t){return e.filter((function(e){return e.info[a]===t}))},te=function(e,a,t){return e.filter((function(e){return e[a].includes(t)}))},ne=Object(o.k)((function(e){var a=e.inventory,t=e.orderType,n=Z();return console.log(a),n.get("type")&&(a=te(a,"fl_food_type",n.get("type"))),s.a.createElement("div",{className:"inventory"},a.map((function(e){return s.a.createElement("div",{key:e.food_id,className:e.delivery_pickup.includes(t.orderType)?"card item":" card item has-opacity-0-6"},s.a.createElement("div",{className:"card-content has-no-padding item-content"},s.a.createElement("div",{className:"item-image-container"},s.a.createElement("img",{src:e.fl_image,className:"item-image",alt:"Placeholder image"})),s.a.createElement("div",{className:"item-info"},s.a.createElement("p",{className:"title has-text-grey-light is-7 item-brand"},e.fl_brand),s.a.createElement("p",{className:"subtitle is-6 is-bold no-overflow"},e.food_name),s.a.createElement("p",{className:"subtitle is-7 has-text-grey no-overflow"},e.fl_package_type," (",e.food_unit,")"),s.a.createElement(X,{item:e,orderType:t}))),s.a.createElement("div",{className:"card-footer"},s.a.createElement("div",{className:"item-price"},s.a.createElement("span",{className:"subtitle has-font-13 has-text-grey"},"$",e.fl_value_in_dollars)),s.a.createElement("div",{className:"item-tags"},s.a.createElement(Q,{str:e.fl_food_type}))))})))}));var se=Object(o.k)((function(e){var a=e.obj,t=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];return s.a.createElement("div",{className:"bank-info-content no-overflow"},s.a.createElement("div",{className:"schedule-days"},s.a.createElement("div",{className:"title has-font-13 capitalized"},"Days"),t.map((function(e){return s.a.createElement("p",{key:e,className:"subtitle has-font-13 capitalized"},e.substring(0,3))}))),s.a.createElement("div",{className:"schedule-hours"},s.a.createElement("div",{className:"title has-font-13 capitalized"},"Delivery Hours"),t.map((function(e){return s.a.createElement("p",{key:"".concat(e,"_time"),className:"subtitle has-font-13 has-text-grey capitalized"},a["fb_".concat(e,"_time_delivery")])}))),s.a.createElement("div",{className:"schedule-hours"},s.a.createElement("div",{className:"title has-font-13 capitalized"},"Pick Up Hours"),t.map((function(e){return s.a.createElement("p",{key:"".concat(e,"_time"),className:"subtitle has-font-13 has-text-grey capitalized"},a["fb_".concat(e,"_time_order")])}))))}));var re=Object(o.k)((function(e){var a=e.obj,t=Y();return s.a.createElement("section",{className:"hero"},s.a.createElement("div",{className:"bank-banner"},s.a.createElement("div",{className:"bank-banner-left"},s.a.createElement("div",{className:"bank-banner-info"},s.a.createElement("figure",{className:"image is-96x96"},s.a.createElement("img",{src:a.fb_logo,alt:""})),s.a.createElement("div",{className:"bank-info-wrapper has-no-margin"},s.a.createElement("p",{className:"title bank-title is-5"},a.fb_name," ")),s.a.createElement("div",{className:"bank-info-wrapper"},s.a.createElement("div",{className:"bank-info-icon"},s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:j.faMapMarkerAlt,style:{fontSize:16}}))),s.a.createElement("div",{className:"bank-info-content no-overflow"},s.a.createElement("p",{className:"subtitle is-bold bank-address has-font-13"},a.foodbank_address))),s.a.createElement("div",{className:"bank-info-wrapper"},s.a.createElement("div",{className:"bank-info-icon"},s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:j.faClock,style:{fontSize:16}}))),s.a.createElement(se,{obj:a})))),s.a.createElement("div",{className:"bank-banner-right"},s.a.createElement(H,{banks:a,marker:t}))))}));var ce=Object(o.k)((function(){var e=Object(o.i)().bankId,a=Z().get("type"),t=Object(n.useState)(a||"all"),r=Object(l.a)(t,2),c=r[0],m=r[1],u=function(e,a){e.preventDefault(),m(a)};return s.a.createElement("div",{className:"bank-filters"},s.a.createElement("div",{className:"tabs is-right"},s.a.createElement("ul",null,s.a.createElement("li",{className:"all"===c?"is-active":"",onClick:function(e){return u(e,"all")}},s.a.createElement(i.b,{to:"/banks/".concat(e,"/products")},s.a.createElement("span",{className:"icon is-small"},s.a.createElement("i",{className:"fas fa-image","aria-hidden":"true"})),s.a.createElement("span",null,"All"))),s.a.createElement("li",{className:"vegetarian"===c?"is-active":"",onClick:function(e){return u(e,"vegetarian")}},s.a.createElement(i.b,{to:"/banks/".concat(e,"/products?type=vegetarian")},s.a.createElement("span",{className:"icon is-small"},s.a.createElement("i",{className:"fas fa-image","aria-hidden":"true"})),s.a.createElement("span",null,"Vegetarian"))),s.a.createElement("li",{className:"vegan"===c?"is-active":"",onClick:function(e){return u(e,"vegan")}},s.a.createElement(i.b,{to:"/banks/".concat(e,"/products?type=vegan")},s.a.createElement("span",{className:"icon is-small"},s.a.createElement("i",{className:"fas fa-music","aria-hidden":"true"})),s.a.createElement("span",null,"Vegan"))),s.a.createElement("li",{className:"gluten-free"===c?"is-active":"",onClick:function(e){return u(e,"gluten-free")}},s.a.createElement(i.b,{to:"/banks/".concat(e,"/products?type=gluten-free")},s.a.createElement("span",{className:"icon is-small"},s.a.createElement("i",{className:"fas fa-film","aria-hidden":"true"})),s.a.createElement("span",null,"Gluten-free"))),s.a.createElement("li",{className:"kosher"===c?"is-active":"",onClick:function(e){return u(e,"kosher")}},s.a.createElement(i.b,{to:"/banks/".concat(e,"/products?type=kosher")},s.a.createElement("span",{className:"icon is-small"},s.a.createElement("i",{className:"far fa-file-alt","aria-hidden":"true"})),s.a.createElement("span",null,"Kosher"))))))})),le=function(e){var a=e.bank,t=a.inventory?a.inventory:[],r=oe(t,"delivery_pickup","delivery;pickup"),c=oe(t,"delivery_pickup","delivery"),o=oe(t,"delivery_pickup","pickup"),u=ie(a),d=Object(n.useState)(1),p=Object(l.a)(d,2),f=p[0],E=p[1];return window.addEventListener("storage",(function(){E(f+1)})),s.a.createElement("div",{className:"bank-page-bd"},s.a.createElement("div",{className:"bank-container"},s.a.createElement(re,{obj:a}),s.a.createElement(ce,null),s.a.createElement("div",{className:"bank-body"},r.length>0&&s.a.createElement("div",{className:"inventory-container"},s.a.createElement("div",{className:"inventory-title-container"},s.a.createElement("p",{className:"subtitle inventory-title"},"Delivery or Pickup")),s.a.createElement(ne,{key:f,inventory:r,orderType:u})),c.length>0&&s.a.createElement("div",{className:"inventory-container"},s.a.createElement("div",{className:"inventory-title-container"},s.a.createElement("p",{className:"subtitle inventory-title"},"Delivery Only")),s.a.createElement(ne,{key:f,inventory:c,orderType:u})),o.length>0&&s.a.createElement("div",{className:"inventory-container"},s.a.createElement("div",{className:"inventory-title-container"},s.a.createElement("p",{className:"subtitle inventory-title"},"Pick Up Only")),s.a.createElement(ne,{key:f,inventory:o,orderType:u}))),s.a.createElement("div",{className:"bank-actions"},s.a.createElement("button",{className:"button is-info"},s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:j.faLongArrowAltLeft})),s.a.createElement("span",null,"Return to Search Results")),s.a.createElement(i.b,{to:"/order/cart"},s.a.createElement("button",{className:"button is-success"},s.a.createElement("span",null,"Checkout Now"),s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:j.faLongArrowAltRight})))))))},ie=function(e){var a=Object(n.useState)(e),t=Object(l.a)(a,2),s=t[0],r=(t[1],Object(n.useState)("")),c=Object(l.a)(r,2),i=c[0],o=c[1];return Object(n.useEffect)((function(){o("")}),[s]),{orderType:i,setOrderType:o}},oe=function(e,a,t){return e.filter((function(e){return e[a]===t}))},me=s.a.memo((function(){var e=Object(o.i)().bankId,a="https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/foodbankinfonew/".concat(e),t=L(a),n=t.data,r=t.isLoading,c=t.hasError;return r?s.a.createElement(C,null):c||!n.result?s.a.createElement(T,null):(window.localStorage.setItem(e,JSON.stringify(n.result)),s.a.createElement(le,{bank:n.result}))})),ue=(t(168),t(111)),de=t.n(ue);function pe(e){var a=e.num;return s.a.createElement(i.b,{to:"/order/cart",alt:"cart button"},s.a.createElement("span",{className:"icon has-text-success"},s.a.createElement(m.a,{icon:j.faShoppingBasket})),s.a.createElement("span",{className:"has-padding-left-0-5 has-text-success"},a))}function fe(){return s.a.createElement("a",{role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"mainNavbar"},s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}))}var Ee=function(){Object(o.h)();var e=Object(o.g)(),a=Object(n.useContext)(q);a.setCartTotal((function(){var e=JSON.parse(window.localStorage.getItem("cart"));return e&&e.total?e.total:0}));var t=function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";a.preventDefault();var n=a.target.pathname?a.target.pathname:t;window.location.pathname===n?window.scrollTo({top:0,left:0,behavior:"smooth"}):(e.push("/"+n.split("/").pop()),window.scrollTo(0,0))};return s.a.createElement("nav",{className:"navbar is-fixed-top",role:"navigation","aria-label":"main navigation"},s.a.createElement("div",{className:"navbar-body"},s.a.createElement("div",{className:"navbar-brand "},s.a.createElement(i.b,{className:"navbar-item",to:"/"},s.a.createElement("img",{className:"logo",src:de.a,alt:"Logo"})),s.a.createElement("div",{className:"brand-text-container"},s.a.createElement("p",{className:"brand-text"},"SERVING NOW"),s.a.createElement("p",{className:"brand-sub-text"},"Fast, Fresh, and Free")),s.a.createElement(fe,null)),s.a.createElement("div",{id:"mainNavbar",className:"navbar-menu"},s.a.createElement("div",{className:"navbar-end"},s.a.createElement(i.b,{to:"/",className:"navbar-item navbar-item-text",onClick:t},"Home"),s.a.createElement(i.b,{to:"/about",className:"navbar-item navbar-item-text",onClick:t},"About Us"),s.a.createElement(i.b,{to:a.isAuth?"/admin":"/adminlogin",className:"navbar-item navbar-item-text",onClick:t},"Admin"),s.a.createElement(i.b,{to:a.isAuth?"/donate":"/donateform",className:"navbar-item navbar-item-text",onClick:t},"Donate"),s.a.createElement(i.b,{to:"/banks",className:"navbar-item",onClick:function(e){return t(e,"/feed-the-hungry/banks")}},s.a.createElement("button",{className:"button navbar-item-text is-success is-outlined"},"Get Food")),a.isAuth&&s.a.createElement("div",{className:"navbar-item navbar-item-text"},s.a.createElement(pe,{num:a.cartTotal})),a.isAuth?s.a.createElement(i.b,{to:"/login",className:"navbar-item navbar-item-text",onClick:function(){console.log(window),window.FB&&"Facebook"===JSON.parse(window.localStorage.getItem("userInfo")).social&&window.FB.logout(),window.localStorage.removeItem("userInfo"),a.setIsAuth(!1)}},"Logout"):s.a.createElement(i.b,{to:"/login",className:"navbar-item navbar-item-text"},s.a.createElement("span",{className:"icon has-text-success"},s.a.createElement(m.a,{icon:j.faUserCircle,style:{fontSize:22}})),s.a.createElement("span",{className:"has-padding-left-0-8"},"Login"))))))},ve=t(112),ge=t.n(ve);var be=function(){return s.a.createElement("div",{className:"not-found-page"},s.a.createElement("div",{className:"not-found-page-body"},s.a.createElement("figure",{className:"image is-128x128"},s.a.createElement("img",{src:ge.a,alt:"Not-found image"})),s.a.createElement("div",{className:"not-found-page-content"},s.a.createElement("p",{className:"title is-6 has-text-grey"},"Your cart is empty"),s.a.createElement(i.b,{to:"/"},s.a.createElement("button",{className:"button is-green"},s.a.createElement("span",null,"Shop Now"))))))},he=t(113),Ne=t.n(he);var ye=function(e){var a=e.foodItem;return s.a.createElement("div",{className:"card cart-item"},s.a.createElement("div",{className:"card-image cart-item-image"},s.a.createElement("img",{src:a.info.fl_image,alt:"Placeholder image"})),s.a.createElement("div",{className:"card-content no-overflow"},s.a.createElement("p",{className:"title is-7 has-text-grey-light item-brand"},a.info.fl_brand),s.a.createElement("p",{className:"subtitle is-6 is-bold"},a.info.food_name),s.a.createElement("span",{className:"tag"},s.a.createElement("span",{className:"subtitle is-7"},a.info.fl_package_type," x",a.amount)),"delivery"===a.info.delivery_pickup?s.a.createElement("p",{className:"subtitle is-7 is-bold has-text-danger"},"Delivery Only"):"","pickup"===a.info.delivery_pickup?s.a.createElement("p",{className:"subtitle is-7 is-bold has-text-danger"},"Pickup Only"):""))};var ke=function(e){var a=e.itemList,t=Object(n.useState)(0),r=Object(l.a)(t,2),c=r[0],i=r[1];return s.a.createElement("div",{style:{padding:"0 ".concat(60,"px")}},s.a.createElement(Ne.a,{requestToChangeActive:i,activeItemIndex:c,numberOfCards:4,gutter:20,leftChevron:s.a.createElement("button",{className:"button round-btn"},s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:j.faChevronLeft}))),rightChevron:s.a.createElement("button",{className:"button round-btn"},s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:j.faChevronRight}))),outsideChevron:!0,chevronWidth:60},a.map((function(e){return s.a.createElement(ye,{key:e.info.food_id,foodItem:e})}))))};var we=function(){return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),null},xe=t(117),_e=t.n(xe);function Oe(e){return/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(e)}function Se(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function je(e){var a=e.replace(/\D/g,"");return/^[2-9]\d{2}[2-9]\d{2}\d{4}$/.test(a)}function Ce(e){var a=e.toLowerCase();return a.includes("income")||a.includes("currency")}function Ie(e){return/^([0-9]{1,3},([0-9]{3},)*[0-9]{3}|[0-9]+)(.[0-9][0-9])?$/.test(e)}function De(e){return/^[1-9]\d*$/.test(e)}var Ae=function(e,a){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Object(n.useState)("checkbox"!==a&&"switch"!==a&&""),r=Object(l.a)(s,2),c=r[0],i=r[1],o=Object(n.useState)(!t),m=Object(l.a)(o,2),u=m[0],d=m[1],p=Object(n.useState)(""),f=Object(l.a)(p,2),E=f[0],v=f[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),h=b[0],N=b[1],y=Object(n.useState)({}),k=Object(l.a)(y,2),w=k[0],x=k[1],_=function(e){N(!0),i("checkbox"===e.target.type||"switch"===e.target.type?e.target.checked:e.target.value),"file"===e.target.type&&x(e.target.files[0])};Object(n.useEffect)((function(){console.log(c),S(c)?d(!0):d(!1)}),[c]);var O=function(){var e=new Date,a=e.getDate(),t=e.getMonth()+1;return a<10&&(a="0"+a),t<10&&(t="0"+t),e.getFullYear()+"-"+t+"-"+a},S=function(n){if(t&&0===n.length)return v(""),!1;if(n.length>0){if("zip"!==e.toLowerCase()||Oe(n))if("state"===e.toLowerCase()&&""===n)v("Invalid state");else if("tel"!==a||je(n))if("email"!==a||Se(n))if("number"===a&&Ce(e)&&!Ie(n))v("Invalid currency amount");else if("number"!==a||Ce(e)||De(n)){if(!("date of birth"===e.toLowerCase()&&O()<n))return v(""),!0;v("Invalid birthdate")}else v("Invalid amount");else v("Invalid email address");else v("Invalid phone number");else v("Invalid zip code");return!1}return v(""),!0},j=function(){i(""),v("")};return{error:E,setError:v,type:a,name:e,value:c,setValue:i,onChange:_,isRequired:t,resetinput:j,file:w,isValid:u,isOnChange:h}},Ve=(t(183),function(e){var a=e.props,t=e.icon,n=e.isDisabled,r=e.color,c=void 0===r?"":r,l=e.readOnly,i=void 0!==l&&l,o=function(e){"text"===e.target.type?e.target.type="date":e.target.type="text"};return"checkbox"===a.type?s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("label",{className:"checkbox level-item",style:{justifyContent:"flex-start"}},s.a.createElement("input",{type:a.type,onChange:a.onChange,value:a.value,disabled:n}),s.a.createElement("span",{className:"has-margin-left-0-5"},a.name),t&&s.a.createElement("span",{className:"icon has-margin-left-0-5"},s.a.createElement("img",{src:t,alt:""}))))):"switch"===a.type?s.a.createElement("div",{className:"field"},s.a.createElement("input",{id:a.name,type:"checkbox",name:"switchRoundedDefault",className:"switch is-rounded",value:a.value,onChange:a.onChange}),s.a.createElement("label",{htmlFor:a.name},a.name)):"tel"===a.type||"number"===a.type?s.a.createElement("div",{className:"field horizontal"},s.a.createElement("div",{className:"field-body"},s.a.createElement("div",{className:"field is-expanded"},s.a.createElement("div",{className:"field has-addons"},s.a.createElement("div",{className:"control"},"quantity"!==a.name.toLowerCase()&&s.a.createElement("a",{className:"button is-static"},"tel"===a.type?"+1":"$")),s.a.createElement("div",{className:"control is-expanded"},s.a.createElement("input",{type:"tel",className:a.isValid?"input":"input is-danger",onChange:a.onChange,value:a.value,placeholder:a.name,readOnly:i}))),s.a.createElement("p",{className:"help is-danger"},a.error),"tel"===a.type&&s.a.createElement("p",{className:"help"},"Do not enter the first zero")))):"textarea"===a.type?s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("textarea",{className:a.isValid?"textarea ".concat(c):"textarea is-danger ".concat(c),placeholder:a.name,onChange:a.onChange,value:a.value,readOnly:i})),s.a.createElement("p",{className:"help is-danger"},a.error)):s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:t?"control has-icons-right":"control"},"file"===a.type&&s.a.createElement("img",{id:"inputImg"}),s.a.createElement("input",Object.assign({className:a.isValid?"input ".concat(c):"input is-danger ".concat(c),type:"date"!==a.type?a.type:"text",onChange:a.onChange,value:a.value,placeholder:a.name},"date"===a.type?{onFocus:o,onBlur:o,max:function(){if("date of birth"!==a.name.toLowerCase())return null;var e=new Date,t=e.getDate(),n=e.getMonth()+1;return t<10&&(t="0"+t),n<10&&(n="0"+n),e.getFullYear()+"-"+n+"-"+t}()}:{},"file"===a.type?{accept:"image/*",onChange:function(e){a.onChange(e);var t=e.target.files[0],n=new FileReader,s=document.getElementById("inputImg");s.title=t.name,n.onload=function(e){s.src=e.target.result},n.readAsDataURL(t)}}:{},{readOnly:i})),t?s.a.createElement("span",{className:"icon is-right has-text-danger"},s.a.createElement(m.a,{icon:t})):""),s.a.createElement("p",{className:"help is-danger"},a.error))});var ze=function(e){var a=e.fname,t=e.lname,n=e.email,r=e.phone,c=e.switchUserInfo;return s.a.createElement("div",null,s.a.createElement(Ve,{props:c}),s.a.createElement("div",{className:"field horizontal"},s.a.createElement("div",{className:"field-body"},s.a.createElement(Ve,{props:a}),s.a.createElement(Ve,{props:t}))),s.a.createElement(Ve,{props:n}),s.a.createElement(Ve,{props:r}))},Le=function(){var e=Object(n.useState)([]),a=Object(l.a)(e,2),t=a[0],s=a[1];Object(n.useEffect)((function(){fetch("https://gist.githubusercontent.com/mshafrir/2646763/raw/8b0dbb93521f5d6889502305335104218454c2bf/states_hash.json").then((function(e){return e.json()})).then((function(e){return s(e)}))}),[]);return{data:t,contain:function(e){return t.filter((function(a){return a.name===e||a.abbreviation===e})).length>0}}};var Fe=function(e){var a=e.props,t=e.data,n=0;return s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control is-expanded"},s.a.createElement("div",{className:a.isValid?"select is-fullwidth":"select is-danger is-fullwidth"},s.a.createElement("select",{value:a.value,onChange:a.onChange},s.a.createElement("option",{key:n++,value:""},a.name),Object.keys(t).map((function(e){return s.a.createElement("option",{key:n++,value:e},t[e])}))))),s.a.createElement("p",{className:"help is-danger"},a.error))};var Pe=function(e){var a=e.street,t=e.city,n=e.state,r=e.zip,c=e.switchUserAddress,l=Le();return s.a.createElement("div",null,s.a.createElement(Ve,{props:c}),s.a.createElement(Ve,{props:a}),s.a.createElement(Ve,{props:t}),s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("div",{className:"field-body"},s.a.createElement(Fe,{props:n,data:l.data}),s.a.createElement(Ve,{props:r}))))};var Te=function(e){for(var a=e.items,t="",n=0;n<a.length-1;n++)t+=" "+a[n].info.food_name+",";return t+=" "+a[n].info.food_name,s.a.createElement("div",null,s.a.createElement("span",{className:"subtitle is-6 has-text-danger"},"Pick up is not available for the following item(s): "),s.a.createElement("span",{className:"subtitle is-6 "},t))},Me=function(e){var a=e.bank,t=e.items,n=(t.length>0&&t.filter((function(e){return e.info.delivery_pickup.includes("both")})),t.length>0?t.filter((function(e){return"delivery"===e.info.delivery_pickup})):[]);return t.filter((function(e){return"pickup"===e.info.delivery_pickup})),s.a.createElement("div",{className:"pickup-confirm"},s.a.createElement("p",{className:"title is-5"},"Pickup Address"),s.a.createElement("p",{className:"subtitle is-6"},a.foodbank_address),s.a.createElement("div",{className:"space-1"}),n.length>0?s.a.createElement(Te,{items:n}):"")},Ue=Object(n.forwardRef)((function(e,a){return s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control has-icons-right"},s.a.createElement("input",{ref:a,className:"input",type:"text",placeholder:e.placeholder,value:e.value,id:e.id,onClick:e.onClick,readOnly:!0,disabled:e.disabled}),s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement(m.a,{icon:j.faCalendarAlt}))))})),Re=t(32);var Be=function(e){var a=0;return e.forEach((function(e){a+=e.amount})),a};var Je=function(e){var a=e.bank,t=e.items,r=Object(o.g)(),c=Object(n.useContext)(q),i=Ae("First Name","text"),u=Ae("Last Name","text"),d=Ae("Phone Number","tel"),p=Ae("Email","email"),f=function(){var e=Object(n.useState)(null),a=Object(l.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)(!1),c=Object(l.a)(r,2),i=c[0],o=c[1];Object(n.useEffect)((function(){o(!!t)}),[t]);var m=Object(Re.default)(new Date,2);return{startDate:t,onChange:function(e){s(e)},minDate:m,isValid:i}}(),E=Ae("Street","text"),v=Ae("City","text"),g=Ae("Select a state","text"),b=Ae("Zip","text"),h=Ae("Use my current information","switch",!1),N=Ae("Use my current address","switch",!1),y=Ae("I want my delivery as soon as possible","checkbox",!1),k=t.filter((function(e){return"delivery"===e.info.delivery_pickup})),w=t.filter((function(e){return"pickup"===e.info.delivery_pickup})),x=Object(n.useState)(0===w.length?"delivery":"pickup"),_=Object(l.a)(x,2),O=_[0],S=_[1],C=function(){var e=!0;return i.isValid&&u.isValid&&d.isValid&&p.isValid||(console.log("customer details are invalid"),e=!1),"delivery"===O?(w.length>0&&(e=!1),E.isValid&&v.isValid&&g.isValid&&b.isValid||(e=!1),y.value||f.isValid||(e=!1)):"pickup"===O&&k.length>0&&(e=!1),e}(),I=JSON.parse(window.localStorage.getItem("userInfo"));return Object(n.useEffect)((function(){h.value&&I?(i.setValue(I.firstName),u.setValue(I.lastName),d.setValue(I.phoneNumber.replace(/\D/g,"")),p.setValue(I.email)):(i.setValue(""),u.setValue(""),d.setValue(""),p.setValue(""))}),[h.value]),Object(n.useEffect)((function(){N.value&&I?(E.setValue(I.address1),v.setValue(I.city),g.setValue(I.state),b.setValue(I.zip)):(E.setValue(""),v.setValue(""),g.setValue(""),b.setValue(""))}),[N.value]),s.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),C){var n=f.startDate?function(e){var a=e.getHours(),t=e.getMinutes(),n=a>=12?"pm":"am",s=(a=(a%=12)?a:12)+":"+(t=t<10?"0"+t:t)+" "+n;return(e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()+" "+s).toUpperCase()}(f.startDate):"ASAP",s=JSON.parse(window.localStorage.getItem("userInfo")),l=Be(t),i={isSent:!1,order_id:"",customer_id:s?s.userID:"",phone:d.value.replace(/\D/g,""),email:p.value,street:E.value,city:v.value,state:g.value,zipcode:b.value.toString(),totalAmount:l,delivery_note:"",kitchen_id:a.foodbank_id,kitchen_name:a.fb_name,kitchen_address:a.foodbank_address,longitude:c.position[1],latitude:c.position[0],delivery_date:n,order_type:O,ordered_items:t};window.localStorage.setItem("unconfirmed_order",JSON.stringify(i)),r.push("/order/cart/confirm")}else console.log("Some inputs are invalid")}},s.a.createElement("div",{className:"delivery-confirm"},s.a.createElement("p",{className:"title is-5"},"Customer Information"),s.a.createElement(ze,{fname:i,lname:u,email:p,phone:d,switchUserInfo:h}),s.a.createElement("div",{className:"divider"}),s.a.createElement("p",{className:"title is-5"},"Delivery Method"),s.a.createElement("div",{className:"tabs is-toggle is-fullwidth is-medium"},s.a.createElement("ul",null,s.a.createElement("li",{className:"delivery"===O?"is-active":"",onClick:function(){return S("delivery")}},s.a.createElement("a",null,s.a.createElement("span",{className:"uppercase"},"Delivery"))),s.a.createElement("li",{className:"pickup"===O?"is-active":"",onClick:function(){return S("pickup")}},s.a.createElement("a",null,s.a.createElement("span",{className:"uppercase"},"Pick Up"))))),"delivery"===O?s.a.createElement("div",null,s.a.createElement("p",{className:"title is-5"},"Delivery Address"),s.a.createElement(Pe,{street:E,city:v,state:g,zip:b,switchUserAddress:N}),s.a.createElement("div",{className:"divider"}),s.a.createElement("p",{className:"title is-5"},"Delivery Options"),s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("div",{className:"field-body"},s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement(_e.a,{selected:!0===y.value?null:f.startDate,value:f.startDate,onChange:function(e){return f.onChange(e)},minDate:f.minDate,showTimeSelect:!0,customInput:s.a.createElement(Ue,null),dateFormat:"MMMM d, yyyy h:mm aa",placeholderText:!0===y.value?"No date selected":"Select a date and time",disabled:!0===y.value}))),s.a.createElement("div",{className:"right-most"},s.a.createElement(Ve,{props:y}))))):s.a.createElement(Me,{bank:a,items:t})),s.a.createElement("div",{className:"space-1"}),s.a.createElement("div",{className:"field right-most"},s.a.createElement("div",{className:"control"},s.a.createElement("button",{className:"button is-success",disabled:!C},s.a.createElement("span",{className:"uppercase"},"Place Order"),s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:j.faLongArrowAltRight}))))),s.a.createElement("div",{className:"space-2-5"}))};t(242);var qe=function(e){var a=e.bankId;console.log("checkout with api");var t="https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/foodbankinfonew/".concat(a),n=L(t),r=n.data,c=n.isLoading,l=n.hasError,i=r.result;return c?s.a.createElement(C,null):l?s.a.createElement(T,null):s.a.createElement(He,{bank:i})},Ge=function(e){var a=e.bank;return s.a.createElement(He,{bank:a})},He=function(e){var a=e.bank,t=JSON.parse(window.localStorage.getItem("cart"))||{},r=t.items?t.items:[],c=Object(n.useState)(1),i=Object(l.a)(c,2),o=i[0],m=i[1];return window.addEventListener("storage",(function(){m(o+1)})),0===r.length?s.a.createElement(be,null):s.a.createElement("div",{className:"checkout-page"},s.a.createElement("div",{className:"checkout-page-layer"},s.a.createElement(we,null),s.a.createElement("div",{className:"checkout-page-content"},s.a.createElement("div",{className:"checkout-page-title"},s.a.createElement("p",{className:"title is-4"},a.fb_name)),s.a.createElement("div",{key:o,className:"checkout-page-body"},s.a.createElement("div",{className:"order-items"},s.a.createElement(ke,{itemList:r})),s.a.createElement("div",{className:"order-confirm fade-in-quick"},s.a.createElement(Je,{bank:a,items:r}))))))},We=function(){var e=JSON.parse(window.localStorage.getItem("cart"));if(!e)return s.a.createElement(be,null);var a=e.bankId,t=JSON.parse(window.localStorage.getItem(a));return t?s.a.createElement(Ge,{bank:t}):s.a.createElement(qe,{bankId:a})},Ye=t(120),$e=t.n(Ye);var Ke=function(e,a){var t=Object(n.useState)(""),s=Object(l.a)(t,2),r=s[0],c=s[1],i=Object(n.useState)(""),o=Object(l.a)(i,2),m=o[0],u=o[1];return{error:m,setError:u,type:a,name:e,value:r,setValue:c,onChange:function(e){c(e.target.value),(e.target.value||m&&!e.target.value)&&u("")},checkInputs:function(){if(0===r.length)u(" ");else if(r.length>0){if("email"!==a||/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(r).toLowerCase()))return u(""),!0;u("Please use a valid email address")}return!1}}},Ze=function(e){var a=e.props,t=e.icon;return s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control has-icons-right"},s.a.createElement("input",{className:a.error.length?"input is-danger":"input",type:a.type,onChange:a.onChange,value:a.value,placeholder:a.name}),t&&s.a.createElement("span",{className:"icon is-right"},s.a.createElement(m.a,{icon:t}))),s.a.createElement("p",{className:"help is-danger"},a.error))},Qe=t(121),Xe=t.n(Qe),ea=t(122),aa=t.n(ea);var ta=function(e){var a="https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/social/",t=Object(n.useContext)(q),r=Object(o.g)(),c=e.loginStatus,m=Object(n.useState)(null),u=Object(l.a)(m,2),d=u[0],p=u[1],f=Ke("Email","email"),E=Ke("Password","password"),v=function(e){console.log("Data:",e),z.a.get(a+e.email).then((function(a){if(console.log(a),a.data){var t=a.data.result.result;if(t.length)if(console.log("Exists"),e.social===t[0].social_media){var n=t[0].user_id;console.log(n),z.a.post("https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/socialacc/"+n).then((function(a){console.log(a);var t=a.data.result.result,n={firstName:t[0].user_first_name,lastName:t[0].user_last_name,phoneNumber:t[0].user_phone,address1:t[0].user_address1,address2:t[0].user_address2,city:t[0].user_city,state:t[0].user_state,zip:t[0].user_zipcode,email:t[0].user_email,joinDate:t[0].user_join_date,userID:t[0].user_id,loginID:a.data.login_attempt_log.login_id,sessionID:a.data.login_attempt_log.session_id,isCustomer:t[0].user_is_customer,isDonor:t[0].user_is_donor,isAdmin:t[0].user_is_admin,isFoodbank:t[0].user_is_foodbank,social:e.social,loginType:c};h(n)}))}else p("Your account is registered as a ".concat(t[0].social_media," user"));else console.log("No exist"),r.push({pathname:"/signup/social",state:{lastname:e.last_name,firstname:e.first_name,email:e.email,social:e.social,accessToken:e.access,refreshToken:e.refresh,signupStatus:c}})}})).catch((function(e){console.log(e.response)}))},g=function(){var e=Object(A.a)(D.a.mark((function e(a){var t,n,s,r,c,l,i;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.email){for(console.log("User has tried to login through Facebook.."),t=a.email,n=a.accessToken,s=a.id,r=a.name.split(" "),c=r[r.length-1],l="",i=0;i<r.length-1;i++)l+=r[i]+" ";l=l.slice(0,-1),v({email:t,access:n,refresh:s,first_name:l,last_name:c,social:"Facebook"})}case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),b=function(){var e=Object(A.a)(D.a.mark((function e(a){var t,n,s,r,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.profileObj&&(console.log("User has tried to login through Google.."),t=a.profileObj.email,n=a.accessToken,s=a.googleId,r=a.profileObj.givenName,c=a.profileObj.familyName,v({email:t,access:n,refresh:s,first_name:r,last_name:c,social:"Google"}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),h=function(e){var a=e.loginType,n="customer"===a?"/banks":"donor"===a?"/donate":"admin"===a?"/admin":"/foodbank";t.setIsAuth(!0),window.localStorage.setItem("userInfo",JSON.stringify(e)),r.push(n)};return s.a.createElement("form",{onSubmit:function(e){e.preventDefault()},style:{width:"400px",maxWidth:"100%",margin:"auto"}},s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"has-text-centered has-margin-bottom-0-5"},s.a.createElement("span",{className:"has-margins-0-5"},s.a.createElement(Xe.a,{appId:"235300190881746",autoLoad:!1,fields:"name,email,picture",onClick:"return false",callback:g,size:"small",textButton:"Login",icon:"fa-facebook-square"})),s.a.createElement("span",{className:"has-margins-0-5"},s.a.createElement(aa.a,{clientId:"1031017519051-tuc2hrq6otb40imvmmc9mucecu2u7ggj.apps.googleusercontent.com",buttonText:"Login",onSuccess:b,onFailure:b,isSignedIn:!1,disable:!1,cookiePolicy:"single_host_origin"}))),s.a.createElement(Ze,{props:f,icon:j.faEnvelope}),s.a.createElement(Ze,{props:E,icon:j.faLock}),d&&s.a.createElement("p",{className:"has-text-centered has-text-danger"},d),s.a.createElement("div",{className:"has-text-centered"},s.a.createElement("button",{className:"button is-success has-margins-0-5",type:"button",onClick:function(){console.log("User has tried to login.."),f.checkInputs()&E.checkInputs()?(console.log("we did it!"),z.a.get(a+f.value).then((function(e){var a=e.data.result.result;if(e.data&&a.length)p("Your account is registered as a ".concat(a[0].social_media," user"));else{var t={email:f.value,password:E.value};z.a.post("https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/login",t).then((function(e){console.log("response:",e);var a=e.data.result.result;if(200===e.status&&e.data.auth_success)if(a[0].user_email_verified){var t={firstName:a[0].user_first_name,lastName:a[0].user_last_name,phoneNumber:a[0].user_phone,address1:a[0].user_address1,address2:a[0].user_address2,city:a[0].user_city,state:a[0].user_state,zip:a[0].user_zipcode,email:a[0].user_email,joinDate:a[0].user_join_date,userID:a[0].user_id,loginID:e.data.login_attempt_log.login_id,sessionID:e.data.login_attempt_log.session_id,isCustomer:a[0].user_is_customer,isDonor:a[0].user_is_donor,isAdmin:a[0].user_is_admin,isFoodbank:a[0].user_is_foodbank,loginType:c};console.log("what"),h(t)}else p("Please verify your email address before logging in")})).catch((function(e){console.log(e.response?e.response:e),500===e.response.status?p("Failed to connect to the server, please try again later"):401!==e.response.status||e.response.data.auth_success?400===e.response.status?p("User does not exist, please create an account"):p("Error ".concat(d.response.status," :"),e.data.message):p("Invalid email or password")}))}})).catch((function(e){console.log(e.response)}))):(p("Please fill out your login information"),console.log("User has failed to login..",f.error))}},"Login"),"customer"===c&&s.a.createElement(i.b,{to:"/signup"},s.a.createElement("button",{className:"button is-success has-margins-0-5",type:"button"},"Sign Up")))))};var na=function(){return s.a.createElement("div",{className:"login-signup-page"},s.a.createElement("figure",{className:"image is-3by1 has-margin-bottom-0-5",style:{width:"100%"}},s.a.createElement("img",{alt:"placeholder",src:$e.a})),s.a.createElement(ta,{loginStatus:"customer"}))},sa=(Object(n.forwardRef)((function(e,a){var t={vegan:Ae("Vegan","checkbox"),vegetarian:Ae("Vegetarian","checkbox"),glutenFree:Ae("Gluten Free","checkbox"),kosher:Ae("Kosher","checkbox"),halal:Ae("Halal","checkbox"),none:Ae("None","checkbox")},r=Object(n.useState)("hidden"),c=Object(l.a)(r,2),i=c[0],o=c[1],m=[t.vegan.value,t.vegetarian.value,t.glutenFree.value,t.kosher.value,t.halal.value],u=t.vegan.value||t.vegetarian.value||t.glutenFree.value||t.kosher.value||t.halal.value,d=!!t.none.value;return Object(n.useImperativeHandle)(a,(function(){return{checkValues:function(){t.none.value||u||o("")},valid:function(){return t.none.value||u},restrictions:m}})),s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",{className:"is-light-gray"}),s.a.createElement("p",{className:"right-most",title:"Substitutions allow users to choose different items that align with their dietary restrictions to add to their total cart."},"* Opt for substitutions."),s.a.createElement("p",{className:"subtitle is-3 has-text-centered has-text-black"},"Dietary Restrictions*"),s.a.createElement(Ve,{props:t.vegan,icon:j.Vegan,isDisabled:d}),s.a.createElement(Ve,{props:t.vegetarian,icon:j.Vegetarian,isDisabled:d}),s.a.createElement(Ve,{props:t.glutenFree,icon:j.GlutenFree,isDisabled:d}),s.a.createElement(Ve,{props:t.kosher,icon:j.Kosher,isDisabled:d}),s.a.createElement(Ve,{props:t.halal,icon:j.Halal,isDisabled:d}),s.a.createElement(Ve,{props:t.none,isDisabled:u}),s.a.createElement("div",{className:""!==i||!t.none.value&&!0!==u?i:"hidden"},s.a.createElement("article",{className:"message is-danger error-msg"},s.a.createElement("div",{className:"message-body"},"Please select any dietary restrictions you have. If none are applicable, please select N/A."))))})),t(84)),ra=Object(n.forwardRef)((function(e,a){var t={a_firstName:Ae("First Name","text"),a_lastName:Ae("Last Name","text"),a_dob:Ae("Date of Birth","date")},r=Object(n.useState)([]),c=Object(l.a)(r,2),i=c[0],o=c[1],m=Object(n.useState)(!1),u=Object(l.a)(m,2),d=u[0],p=u[1],f=function(){for(var e in t)t[e].resetinput();p(!1)};return Object(n.useImperativeHandle)(a,(function(){return{persons:i}})),s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"has-text-centered"},d?s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:"button is-success has-margins-0-5",onClick:f},"Cancel"),s.a.createElement("button",{className:"button is-success has-margins-0-5",onClick:function(){var e=[t.a_firstName.value,t.a_lastName.value,t.a_dob.value],a=!0;for(var n in t)t[n].isValid||(a=!1);a&&(i.push(e),o(Object(sa.a)(i)),f(),console.log(i))}},"Save")):s.a.createElement("button",{className:"button is-success has-margins-0-5",onClick:function(){return p(!0)}},"Add a Family Member")),d&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Ve,{props:t.a_firstName}),s.a.createElement(Ve,{props:t.a_lastName}),s.a.createElement(Ve,{props:t.a_dob})),s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"column"},i.map((function(e,a){return s.a.createElement("p",{key:a},e[0]+" "+e[1]," ",s.a.createElement("button",{onClick:function(){return function(e){i.splice(e,1),console.log(e),console.log(i),o(Object(sa.a)(i))}(a)}}," X "))})))))}));var ca=function(e){var a=Le(),t=Object(o.g)(),r=Object(n.useRef)(),c=Object(o.h)(),i=e.signupStatus,m=e.isSocial,u={firstName:Ae("First Name","text"),lastName:Ae("Last Name","text"),dob:Ae("Date of Birth","date"),phoneNumber:Ae("Phone Number","tel"),email:Ae("Email Address","email"),emailConfirm:Ae("Confirm Email","email",!m),password:Ae("Password","password",!m),passwordConfirm:Ae("Confirm Password","password",!m),address_1:Ae("Address 1","text","customer"!==i),address_2:Ae("Address 2","text",!1),city:Ae("City","text","customer"!==i),state:Ae("State","text","customer"!==i),zip:Ae("Zip","text","customer"!==i),license:Ae("Drivers License","text",!1),licenseImg:Ae("License Image","file",!1),monthlyIncome:Ae("Monthly Income","number",!1)},d=Object(n.useState)(),p=Object(l.a)(d,2),f=p[0],E=p[1],v=Object(n.useState)(),g=Object(l.a)(v,2),b=g[0],h=g[1],N=Object(n.useState)(),y=Object(l.a)(N,2),k=y[0],w=y[1];function x(e){u.email.setValue(e.email),u.firstName.setValue(e.firstname?e.firstname:""),u.lastName.setValue(e.lastname?e.lastname:""),E(e.accessToken),h(e.refreshToken),w(e.social)}Object(n.useEffect)((function(){!function(){var e=Object(A.a)(D.a.mark((function e(a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m||!a){e.next=3;break}return e.next=3,x(a);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()(c.state)}),[]);var _=function(e){return console.log(e,i),e===i?1:0};return m&&!c.state?s.a.createElement(T,null):s.a.createElement("form",{onSubmit:function(e){e.preventDefault()},onKeyPress:function(e){13===e.which&&e.preventDefault()},style:{width:"720px",maxWidth:"100%",margin:"auto"}},s.a.createElement("div",{className:"column has-text-black"},s.a.createElement("div",null,s.a.createElement("div",{className:"columns has-margin-top-1"},s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:u.firstName})),s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:u.lastName}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-8"},s.a.createElement(Ve,{props:u.phoneNumber})),s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:u.dob}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:u.email,readOnly:!!m})),!m&&s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:u.emailConfirm}))),!m&&s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:u.password})),s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:u.passwordConfirm})))),s.a.createElement("hr",{className:"is-light-gray"}),s.a.createElement("div",null,"customer"===i&&s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"subtitle is-3 has-margin-top-1 has-text-centered has-text-black"},"Would you like to add a permanent address?"),s.a.createElement("p",{className:"subtitle is-4 has-text-centered has-text-black"},"Or ",s.a.createElement("u",null,"use my current location")," instead.")),s.a.createElement("p",{className:"subtitle is-4 has-margin-top-1 has-text-centered has-text-black"},"Add An Address"),s.a.createElement("div",{className:"columns has-margin-top-1"},s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:u.address_1})),s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:u.address_2}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:u.city})),s.a.createElement("div",{className:"column"},s.a.createElement(Fe,{props:u.state,data:a.data})),s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:u.zip})))),"customer"===i&&s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",{className:"is-light-gray"}),s.a.createElement("div",null,s.a.createElement("p",{className:"subtitle is-3 has-margin-top-1 has-text-centered has-text-black"},"Additional Personal Information"),s.a.createElement("div",{className:"columns has-margin-top-1"},s.a.createElement(ra,{ref:r}),s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:u.license}),s.a.createElement("div",{className:"box"},s.a.createElement(Ve,{props:u.licenseImg})))),s.a.createElement(Ve,{props:u.monthlyIncome}))),s.a.createElement("div",{className:"has-text-centered"},s.a.createElement("button",{className:"button is-success has-margin-top-1 has-margin-bottom-0-5",type:"button",onClick:function(){console.log("User has tried to sign up..");var e=function(){for(var e in u)if(console.log(e,u[e].isValid),!u[e].isValid)return!1;return!0}();if(!m&&e&&(u.email.value!==u.emailConfirm.value&&(console.log("Email mismatch."),e=!1),u.password.value!==u.passwordConfirm.value&&(console.log("Password mismatch."),e=!1)),e){var a={};for(var n in u)"file"!==u[n].type?a[n]=u[n].value:a[n]=u[n].file;a.persons=r.current?r.current.persons:[],console.log("Data:",a),console.log("we did it!");var s={first_name:u.firstName.value,last_name:u.lastName.value,address1:u.address_1.value,address2:u.address_2.value,city:u.city.value,state:u.state.value,zipcode:u.zip.value,phone:u.phoneNumber.value.replace(/\D/g,""),email:u.email.value,password:u.password.value,user_is_customer:_("customer"),user_is_donor:_("donor"),user_is_admin:_("admin"),user_is_foodbank:_("foodbank")};m&&(delete s.password,s.access_token=f,s.refresh_token=b,s.social_media=k),console.log("Test:",s),z.a.post(m?"https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/socialsignup":"https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/signup",s).then((function(e){if(console.log(e),200===e.status){var a=m?"/login":"/signup/verify";t.push(a)}})).catch((function(e){console.log(e.response)}))}else console.log("Sign up failed...")}},"Sign Up"))))};var la=function(){return s.a.createElement("div",{className:"login-signup-page signup-background-image"},s.a.createElement("p",{className:"subtitle is-1 has-margin-top-1 has-text-centered has-text-black"},"Sign Up"),s.a.createElement(ca,{signupStatus:"customer"}))};var ia=function(){return s.a.createElement("div",{className:"login-signup-page signup-background-image"},s.a.createElement(ca,{signupStatus:"customer",isSocial:!0}))},oa=function(){return s.a.createElement("div",{className:"login-signup-page"},s.a.createElement("div",{className:"tile is-ancestor"},s.a.createElement("div",{className:"tile is-parent has-margin-top-1"},s.a.createElement("article",{className:"tile box is-child notification is-primary"},s.a.createElement("h6",{className:"has-text-white has-text-centered"},"You have successfully created a Feed The Hungry account!",s.a.createElement("br",null),s.a.createElement("br",null),"A confirmation email has been sent to your email address with instructions to help you complete your registration.",s.a.createElement("br",null),s.a.createElement("br",null),"Thank you.")))))};var ma=function(){var e=Ae("First Name","text"),a=Ae("Last Name","text"),t=Ae("Email Address","email"),n=Ae("Phone Number","tel"),r=Ae("Donation Details","textarea");return s.a.createElement("form",{className:"has-text-left",onSubmit:function(e){e.preventDefault()},style:{width:"480px",maxWidth:"100%",margin:"auto"}},s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:e,errorOnSubmit:!0})),s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:a}))),s.a.createElement(Ve,{props:t}),s.a.createElement(Ve,{props:n}),s.a.createElement(Ve,{props:r}),s.a.createElement("div",{className:"has-text-centered"},s.a.createElement("button",{className:"button is-success has-margins-0-5",onClick:function(){console.log("User has tried to submit donation.."),e.isValid&&a.isValid&&t.isValid&&n.isValid?console.log("we did it!"):console.log("User has failed to submit..")}},"Submit"))))};var ua=function(){var e=Object(n.useState)(!0),a=Object(l.a)(e,2),t=a[0],r=a[1];return s.a.createElement("div",{className:"donate-page has-text-centered"},s.a.createElement("p",{className:"subtitle is-2 has-text-black"},"Donate Now!"),s.a.createElement("div",{className:"columns",style:{width:"100%",margin:"auto"}},s.a.createElement("div",{className:"column is-half"},s.a.createElement("div",{className:"card donate-card"},s.a.createElement("p",{className:"subtitle is-3 has-text-black"},"Quick Donation"),s.a.createElement("p",null,"Make donations without signing in!"),s.a.createElement(ma,null))),s.a.createElement("div",{className:"column is-half"},t?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"card donate-card"},s.a.createElement("p",{className:"subtitle is-3 has-text-black"},"Login now!"),s.a.createElement("p",null,"New to Feed the Hungry? ",s.a.createElement("a",{href:"#",onClick:function(){return r(!t)}},s.a.createElement("u",null,"Create an account")),"."),s.a.createElement(ta,{loginStatus:"donor"}))):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"card donate-card"},s.a.createElement("p",{className:"subtitle is-3 has-text-black"},"Sign up now!"),s.a.createElement("p",null,"Already have an account? ",s.a.createElement("a",{href:"#",onClick:function(){return r(!t)}},s.a.createElement("u",null,"Sign in")),"."),s.a.createElement("div",{className:"has-text-left"},s.a.createElement(ca,{signupStatus:"donor"})))))))};var da=function(e){var a=e.userInfo,t=Le(),r=Ae("Address 1","text"),c=Ae("Address 2","text",!1),i=Ae("City","text"),o=Ae("State","text"),m=Ae("Zip","text"),u=Object(n.useState)(!1),d=Object(l.a)(u,2),p=d[0],f=d[1];return Object(n.useEffect)((function(){a.address1&&a.city&&a.state&&a.zip&&f(!0)}),[]),s.a.createElement("form",{onSubmit:function(e){e.preventDefault()},style:{width:"720px",margin:"auto"}},s.a.createElement("p",null,"WORK IN PROGRESS (BASED ON LOGIN TYPE, ASK FOR CERTAIN EXTRA INFO)"),s.a.createElement("div",{className:"column has-text-left"},!p&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:r})),s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:c}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:i})),s.a.createElement("div",{className:"column"},s.a.createElement(Fe,{props:o,data:t.data})),s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:m}))))),s.a.createElement("button",{className:"button is-success",type:"button",onClick:function(t){if(p||r.isValid&&c.isValid&&i.isValid&&o.isValid&&m.isValid){console.log("Inputs are valid");var n="https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/edit_user_status/".concat(a.userID,"?");z.a.get(n+"user_is_donor=1&"+'user_address1="'.concat(r.value,'"&')+'user_address2="'.concat(c.value,'"&')+'user_city="'.concat(i.value,'"&')+'user_state="'.concat(o.value,'"&')+'user_zipcode="'.concat(m.value,'"')).then((function(){a.isDonor=1,a.address1=r.value,a.address2=c.value,a.city=i.value,a.state=o.value,a.zip=m.value,window.localStorage.setItem("userInfo",JSON.stringify(a)),e.setValue(1)}))}}},"Submit"))};var pa=function(){var e=[{id:"700-00001",bank:"Lord's Pantry",type:"Canned Beans",amount:3,date_sent:"2020-03-27",date_received:"2020-04-01"},{id:"700-00002",bank:"Lord's Pantry",type:"Cash",amount:24.99,date_sent:"2020-04-06",date_received:"2020-04-08"}];return s.a.createElement(s.a.Fragment,null,e.length?s.a.createElement("table",{className:"table is-striped is-hoverable is-fullwidth has-text-centered"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"has-text-centered"},"Donation ID"),s.a.createElement("th",{className:"has-text-centered"},"Food Bank"),s.a.createElement("th",{className:"has-text-centered"},"Type"),s.a.createElement("th",{className:"has-text-centered"},"Value"),s.a.createElement("th",{className:"has-text-centered"},"Date Sent"),s.a.createElement("th",{className:"has-text-centered"},"Date Received"))),s.a.createElement("tbody",null,e.map((function(e,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",{className:"has-text-centered"},e.id),s.a.createElement("td",{className:"has-text-centered"},e.bank),s.a.createElement("td",{className:"has-text-centered"},e.type),s.a.createElement("td",{className:"has-text-centered"},e.amount),s.a.createElement("td",{className:"has-text-centered"},e.date_sent),s.a.createElement("td",{className:"has-text-centered"},e.date_received))})))):s.a.createElement("p",{className:"is-size-4 is-italic has-text-grey-light"},"Donation history not found..."))};function fa(e){var a=Ae("Produce Name","text"),t=Ae("Quantity","number"),n=Ae("Expiration Date","date"),r=Ae("Donation Receiver","text"),c=Ae("Donation Currency","number"),l=Ae("Additional Information","textarea",!1);return s.a.createElement("form",{onSubmit:e.handleSubmit,style:{width:"720px",maxWidth:"100%",margin:"auto"}},"produce"===e.name?s.a.createElement("div",{className:"has-text-left"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:r})),s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:a}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:t})),s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:n})),s.a.createElement("div",{className:"column"},"Checkbox [N/A]")),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:l})))):s.a.createElement("div",{className:"has-text-left"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:r})),s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:c}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:l})))),s.a.createElement("button",{className:"button is-success has-margins-0-5",name:"cancel",type:"button",onClick:e.handleClick},"Cancel"),s.a.createElement("button",{className:"button is-success has-margins-0-5",type:"button",onClick:function(){console.log("Submitted ".concat(e.name," donation.."))}},"Submit"))}var Ea=function(){var e=Object(n.useState)(0),a=Object(l.a)(e,2),t=a[0],r=a[1],c=function(e){var a=e.target.name;r("cancel"===a?0:"produce"===a?1:2)};return s.a.createElement("div",{style:{marginTop:"15vh"}},0===t&&s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"is-size-4 is-italic"},"What would you like to donate?"),s.a.createElement("button",{className:"button is-text has-margins-0-5",onClick:c,name:"produce"},"Produce"),s.a.createElement("button",{className:"button is-text has-margins-0-5",onClick:c,name:"cash"},"Cash")),0!==t&&s.a.createElement(fa,{name:1===t?"produce":"cash",handleClick:c,handleSubmit:function(e){e.preventDefault()}}))};var va=function(){var e=JSON.parse(window.localStorage.getItem("userInfo")),a=Object(n.useState)(0),t=Object(l.a)(a,2),r=t[0],c=t[1],i=Object(n.useState)(!0),o=Object(l.a)(i,2),m=o[0],u=o[1],d=Object(n.useState)(e.isDonor),p=Object(l.a)(d,2),f=p[0],E=p[1];Object(n.useEffect)((function(){var a="https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/edit_user_status/".concat(e.userID,"?");e.isDonor?u(!1):e.address1&&e.city&&e.state&&e.zip?(e.isDonor=1,z.a.get(a+"user_is_donor=1").then((function(a){console.log(a),E(1),u(!1),window.localStorage.setItem("userInfo",JSON.stringify(e))})).catch((function(e){console.log(e.response)}))):u(!1)}),[]);var v=function(e){console.log(e.target.name);var a=e.target.name;c("donate"===a?0:"volunteer"===a?1:2)};return!m&&s.a.createElement("div",{className:"donate-page has-text-centered"},f?s.a.createElement(s.a.Fragment,null,s.a.createElement("nav",{className:"level is-mobile"},s.a.createElement("p",{className:"level-item has-text-centered",style:{margin:"0"}},s.a.createElement("button",{name:"donate",className:"button is-fullwidth is-success"+(0===r?" is-active":""),onClick:v},"Make Donation")),s.a.createElement("p",{className:"level-item has-text-centered",style:{margin:"0"}},s.a.createElement("button",{name:"volunteer",className:"button is-fullwidth is-success"+(1===r?" is-active":""),onClick:v},"Volunteer")),s.a.createElement("p",{className:"level-item has-text-centered",style:{margin:"0"}},s.a.createElement("button",{name:"history",className:"button is-fullwidth is-success"+(2===r?" is-active":""),onClick:v},"History"))),0===r&&s.a.createElement(Ea,null),1===r&&s.a.createElement("div",{className:"column"},"List of food banks requiring volunteers",s.a.createElement("br",null),"OR",s.a.createElement("br",null),"Fill form (location, contact info, etc) and based on form inputs, a nearby food bank in need will choose from a queue of volunteers"),2===r&&s.a.createElement(pa,null)):s.a.createElement(da,{type:"donor",userInfo:e,setValue:E}))},ga=t(85),ba=t(123),ha=t.n(ba);var Na=function(){return s.a.createElement("div",{className:"not-found-page"},s.a.createElement("div",{className:"not-found-page-body"},s.a.createElement("figure",{className:"image is-128x128"},s.a.createElement("img",{src:ha.a,alt:"Not-found image"})),s.a.createElement("div",{className:"not-found-page-content"},s.a.createElement("p",{className:"title is-6 has-text-grey"},"Oh no! A problem occurred when we were trying to process your order."),s.a.createElement("p",{className:"subtitle is-bold is-6 has-text-grey "},"Your order could not be placed."),s.a.createElement("div",{className:"space-1-5"}),s.a.createElement(i.b,{to:"/"},s.a.createElement("button",{className:"button is-danger"},s.a.createElement("span",null,"Contact Support"))))))};var ya=function(e){var a=e.initialUrl,t=e.unconfirmed_order,r=e.order,c=Object(n.useState)(a),i=Object(l.a)(c,2),o=i[0],m=(i[1],Object(n.useState)(t)),u=Object(l.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)(!1),E=Object(l.a)(f,2),v=E[0],g=E[1],b=Object(n.useState)(!1),h=Object(l.a)(b,2),N=h[0],y=h[1],k=Object(n.useContext)(q);return Object(n.useEffect)((function(){var e=function(){var e=Object(A.a)(D.a.mark((function e(){var a,t,n,s;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,z.a.post(o,r);case 4:return a=e.sent,e.next=7,a.data;case 7:t=e.sent,n=JSON.parse(window.localStorage.getItem("userInfo")),s="https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/edit_user_status/".concat(n.userID,"?"),n.isCustomer||(n.isCustomer=1,z.a.get(s+"user_is_customer=1").then((function(){window.localStorage.setItem("userInfo",JSON.stringify(n))})).catch((function(e){console.log(e.response)}))),window.localStorage.removeItem("cart"),k.setCartTotal(0),p((function(e){return Object(ga.a)(Object(ga.a)({},e),{},{isSent:!0,order_id:t.result.order_id})})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),y(!0);case 20:return e.prev=20,g(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[0,16,20,23]])})));return function(){return e.apply(this,arguments)}}();d.isSent||e()}),[o]),window.localStorage.setItem("unconfirmed_order",JSON.stringify(d)),v?s.a.createElement(C,null):N?s.a.createElement(Na,null):s.a.createElement("div",{className:"confirmation-page"},s.a.createElement("div",{className:"confirmation-page-layer"},s.a.createElement("div",{className:"confirmation-page-content"},s.a.createElement("div",{className:"confirmation-page-title"},s.a.createElement("p",{className:"title is-3"},d.kitchen_name)),s.a.createElement("div",{className:"space-2-5"}),s.a.createElement("div",{className:"confirmation-page-body"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-7"},s.a.createElement("div",{className:"confirm-order-container"},s.a.createElement("p",{className:"title is-6"},"Your order has been placed"),s.a.createElement("p",{className:"title is-6"},"Confirmation number: ",d.order_id," "),s.a.createElement("p",{className:"subtitle is-6"},"A confirmation email has been sent to"," ",d.email),s.a.createElement("p",{className:"subtitle is-6"},"Click ",s.a.createElement("a",{href:"#"},"here")," to resend confirmation email"),s.a.createElement("div",{className:"divider"}),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-4"},s.a.createElement("p",{className:"subtitle is-6"},"Delivery confirmed for: ",d.date),s.a.createElement("p",{className:"subtitle is-6"}," ","delivery"===r.order_type?"Delivery address":"Pickup address",":")),s.a.createElement("div",{className:"column is-8"},s.a.createElement("p",{className:"subtitle is-6"},d.delivery_date),"delivery"===d.order_type?s.a.createElement("div",null,s.a.createElement("p",{className:"subtitle is-6"},d.street),s.a.createElement("p",{className:"subtitle is-6"},d.city,", ",d.state," ",d.zipcode)):s.a.createElement("p",{className:"subtitle is-6"},d.kitchen_address))))),s.a.createElement("div",{className:"column is-5"},s.a.createElement("div",{className:"total-order-container"},d.ordered_items.map((function(e){return s.a.createElement("div",{key:e.info.food_id,className:"card cart-item"},s.a.createElement("div",{className:"card-image cart-item-image"},s.a.createElement("img",{src:e.info.fl_image,alt:"Placeholder image"})),s.a.createElement("div",{className:"card-content no-overflow"},s.a.createElement("p",{className:"title is-7 has-text-grey-light item-brand"},e.info.fl_brand),s.a.createElement("p",{className:"subtitle is-6 is-bold"},e.info.food_name),s.a.createElement("span",{className:"tag"},s.a.createElement("span",{className:"subtitle is-7"},e.info.fl_package_type," x",e.amount))))})))))),s.a.createElement("div",{className:"divider"}))))},ka=Object(o.k)((function(){var e=JSON.parse(window.localStorage.getItem("unconfirmed_order"))||{},a=e.ordered_items?e.ordered_items:[];if(0===a.length)return s.a.createElement(T,null);var t={customer_id:e.customer_id,phone:e.phone,street:e.street,city:e.city,state:e.state,zipcode:e.zipcode,totalAmount:e.totalAmount,delivery_note:"",kitchen_id:e.kitchen_id,longitude:e.longitude,latitude:e.latitude,delivery_date:e.delivery_date,order_type:e.order_type,ordered_items:[]};return a.forEach((function(e){return t.ordered_items.push({meal_id:e.info.food_id,qty:e.amount})})),console.log(t),s.a.createElement(ya,{initialUrl:"https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/add_order",unconfirmed_order:e,order:t})})),wa=(t(243),t(124)),xa=t.n(wa),_a=t(125),Oa=t.n(_a),Sa=t(126),ja=t.n(Sa),Ca=t(127),Ia=t.n(Ca),Da=t(128),Aa=t.n(Da);function Va(){var e=Ae("Name","text"),a=Ae("Email","email"),t=Ae("Phone","text",!1),r=Ae("Address","text",!1),c=Ae("Subject","text"),i=Ae("Type your message here...","textarea"),o=Object(n.useState)(!1),u=Object(l.a)(o,2),d=u[0],p=u[1];return s.a.createElement("div",{className:"contact-right-content"},d?s.a.createElement("div",{className:"message-sent"},s.a.createElement("p",{className:"is-Raleway has-text-green",style:{fontSize:40,marginBottom:"33px"}},"Thank you!"," "),s.a.createElement("span",{className:"icon has-text-green is-large",style:{marginBottom:"36px"}},s.a.createElement(m.a,{icon:j.faCheckCircle,style:{fontSize:"64px"}})),s.a.createElement("p",{className:"is-Nunito has-text-white",style:{fontSize:15,marginBottom:"33px"}},"Your message has been sent"," ")):s.a.createElement("form",{className:"contact-form"},s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("div",{className:"field-body"},s.a.createElement(Ve,{props:e,color:"is-white"}),s.a.createElement(Ve,{props:a,color:"is-white"}))),s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("div",{className:"field-body"},s.a.createElement(Ve,{props:t,color:"is-white"}),s.a.createElement(Ve,{props:r,color:"is-white"}))),s.a.createElement(Ve,{props:c,color:"is-white"}),s.a.createElement(Ve,{props:i,color:"is-white"}),s.a.createElement("button",{className:"button is-fullWidth submit-btn",disabled:!(e.isValid&&a.isValid&&!(!c.isValid|!i.isValid)),onClick:function(t){if(t.preventDefault(),e.isValid&&a.isValid&&c.isValid&&i.isValid){!function(e,a){window.emailjs.send("gmail",e,a).then((function(e){console.log("Email successfully sent!"),p(!0)})).catch((function(e){console.error("Oh well, you failed. Here some thoughts on the error that occured:",e),p(!1)}))}("template_L4Ie7OMc",{message_html:i.value,subject:c.value,to_user_email:a.value,from_user_name:e.value,from_user_email:a.value,to_email:"kumaqi97@gmail.com"})}}},"Submit")))}var za=function(){return s.a.createElement("div",{className:"bd-main is-fullheight-with-navbar"},s.a.createElement("section",{className:"splash-banner"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-6 has-no-padding splash-banner-left"},s.a.createElement("div",{className:"parallax"})),s.a.createElement("div",{className:"column is-6 has-no-padding splash-banner-right"},s.a.createElement("div",{className:"splash-banner-right-content"},s.a.createElement("p",{className:"splash-banner-title"},"GET FREE GROCERIES"),s.a.createElement("p",{className:"splash-banner-subtitle"},"Order now for pick up or free delivery!"),s.a.createElement(i.b,{to:"/banks"},s.a.createElement("button",{className:"button get-food-btn"},"Get Food")))))),s.a.createElement("section",{className:"steps"},s.a.createElement("div",{className:"steps-title"},s.a.createElement("p",{className:"is-Raleway has-text-green",style:{fontSize:40}},"3 SIMPLE STEPS")),s.a.createElement("div",{className:"level"},s.a.createElement("div",{className:"level-item has-text-centered"},s.a.createElement("div",{className:"step-item"},s.a.createElement("div",{className:"step-item-image"},s.a.createElement("img",{src:Aa.a,alt:"Sign Up Image"})),s.a.createElement("div",{className:"step-item-content",style:{backgroundColor:"black"}},s.a.createElement("p",{className:"step-title"},"LOGIN / SIGN UP"),s.a.createElement("p",{className:"is-Nunito has-text-white"},"Register in under 3 minutes")))),s.a.createElement("div",{className:"level-item has-text-centered"},s.a.createElement("div",{className:"step-item"},s.a.createElement("div",{className:"step-item-image"},s.a.createElement("img",{src:Ia.a,alt:"Products Image"})),s.a.createElement("div",{className:"step-item-content",style:{backgroundColor:"#009E00"}},s.a.createElement("p",{className:"step-title"},"SELECT PRODUCTS"),s.a.createElement("p",{className:"is-Nunito has-text-white"},"Get groceries you love")))),s.a.createElement("div",{className:"level-item has-text-centered"},s.a.createElement("div",{className:"step-item"},s.a.createElement("div",{className:"step-item-image"},s.a.createElement("img",{src:ja.a,alt:"Products Image"})),s.a.createElement("div",{className:"step-item-content",style:{backgroundColor:"#C2B39B"}},s.a.createElement("p",{className:"step-title"},"FREE PICKUP/DELIVERY"),s.a.createElement("p",{className:"is-Nunito has-text-white"},"Contactless doorstep delivery")))))),s.a.createElement("section",{className:"quotes"},s.a.createElement("div",{className:"quotes-content"},s.a.createElement("div",{className:"columns",style:{margin:0,width:"100%"}},s.a.createElement("div",{className:"column has-no-padding"},s.a.createElement("figure",{className:"image is-480"},s.a.createElement("img",{src:Oa.a,alt:"Quote Image"}))),s.a.createElement("div",{className:"column has-no-padding"},s.a.createElement("div",{className:"quotes-text-container"},s.a.createElement("div",{className:"quotes-text"},s.a.createElement("p",{className:"quote-title"},"\u201cOne of the greatest feelings in the world is knowing that we as individuals can make a difference. Ending hunger in America is a goal that is literally within our grasp.\u201d"),s.a.createElement("p",{className:"quote-subtitle"},"Jeff Bridges"))))))),s.a.createElement("section",{className:"overlay"},s.a.createElement("figure",{className:"image is-560"},s.a.createElement("img",{src:xa.a}))),s.a.createElement("section",{className:"contact"},s.a.createElement("div",{className:"contact-container"},s.a.createElement("div",{className:"columns",style:{margin:0}},s.a.createElement("div",{className:"column has-no-padding"},s.a.createElement("div",{className:"contact-left-content"},s.a.createElement("p",{className:"is-Raleway has-text-green",style:{fontSize:40,marginBottom:"33px"}},"How can we help you today?"),s.a.createElement("p",{className:"is-Nunito has-text-white",style:{fontSize:15}},"Please send us a message or email us at partnership@infiniteoptions.com"))),s.a.createElement("div",{className:"column has-no-padding"},s.a.createElement(Va,null))))),s.a.createElement("footer",{className:"app-footer"},s.a.createElement("div",{className:"footer-content"},s.a.createElement("div",{className:"footer-left"},s.a.createElement("div",{className:"footer-left-content"},s.a.createElement("p",{className:"is-Nunito",style:{fontSize:14}},"\xa92020 by Serving Now"))),s.a.createElement("div",{className:"footer-right"},s.a.createElement("div",{className:"footer-right-content"},s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:j.faFacebookF})),s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:j.faTwitter})),s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:j.faLinkedinIn})))))))},La=t(129),Fa=t(59),Pa=function(e){var a=e.component,t=Object(Fa.a)(e,["component"]),r=Object(n.useContext)(q);return s.a.createElement(o.b,Object.assign({},t,{render:function(e){return r.isAuth?s.a.createElement(a,e):s.a.createElement(o.a,{to:"/login"})}}))},Ta=function(e){var a=e.component,t=Object(Fa.a)(e,["component"]),r=Object(n.useContext)(q);return s.a.createElement(o.b,Object.assign({},t,{render:function(e){return r.isAuth?s.a.createElement(o.a,{to:"/"}):s.a.createElement(a,e)}}))};var Ma=function(){var e=Object(La.usePosition)(!1,{enableHighAccuracy:!0}),a=e.latitude,t=e.longitude,r=(e.error,a&&t?[a,t]:[37.338208,-121.886329]),c=Object(n.useState)(!1),m=Object(l.a)(c,2),u=m[0],d=m[1],p=Object(n.useState)(!0),f=Object(l.a)(p,2),E=f[0],v=f[1],g=Object(n.useState)(0),b=Object(l.a)(g,2),h=b[0],N=b[1];function y(){try{!u&&JSON.parse(window.localStorage.getItem("userInfo"))?(console.log("Authenticated"),d(!0)):JSON.parse(window.localStorage.getItem("userInfo"))||(console.log("User is not logged in"),d(!1))}catch(e){console.log(e)}v(!1)}return Object(n.useEffect)((function(){return y(),window.addEventListener("storage",y),function(){window.removeEventListener("storage",y)}}),[]),!E&&s.a.createElement(i.a,{basename:"feed-the-hungry",onUpdate:function(){return window.scrollTo(0,0)}},s.a.createElement(q.Provider,{value:{cartTotal:h,setCartTotal:N,position:r,isAuth:u,setIsAuth:d}},s.a.createElement(Ee,null),s.a.createElement(o.d,null,s.a.createElement(Ta,{exact:!0,path:"/login",component:na}),s.a.createElement(Ta,{exact:!0,path:"/signup",component:la}),s.a.createElement(Ta,{exact:!0,path:"/donateform",component:ua}),s.a.createElement(Pa,{exact:!0,path:"/donate",component:va}),s.a.createElement(o.b,{exact:!0,path:"/banks"},s.a.createElement(K,null)),s.a.createElement(o.b,{exact:!0,path:"/"},s.a.createElement(za,null)),s.a.createElement(Ta,{exact:!0,path:"/signup/social",component:ia}),s.a.createElement(Ta,{exact:!0,path:"/signup/verify",component:oa}),s.a.createElement(Pa,{exact:!0,path:"/banks/:bankId/products",component:me}),s.a.createElement(Pa,{exact:!0,path:"/order/cart",component:We}),s.a.createElement(Pa,{exact:!0,path:"/order/cart/confirm",component:ka}),s.a.createElement(o.b,{component:T}),s.a.createElement(o.a,{to:"/404"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ua=t(130);Object(Ua.a)({basename:"/feed-the-hungry"});c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(i.a,null,s.a.createElement(Ma,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},30:function(e,a,t){},45:function(e,a,t){}},[[133,1,2]]]);
//# sourceMappingURL=main.bcb064fe.chunk.js.map
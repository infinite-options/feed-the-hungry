{"version":3,"sources":["assets/image/confirmation.svg","components/Icons/Delivery.png","components/Icons/Pickup.png","assets/image/kosher.png","assets/image/gluten_free.png","assets/image/vegan.png","assets/image/vegetarian.png","assets/image/halal.png","assets/image/404.svg","assets/image/farmers-market.jpg","assets/image/failed-order.svg","assets/image/loading.png","pages/App/History.js","components/Icons/Icons.js","utils/Distance.js","components/Map/LeafletMap.js","pages/Banks/Banks.js","utils/Scroll/ScrollToTopOnMount.js","components/Hooks/useMarker.js","pages/Banks/BanksLayout.js","pages/Error/LoadingPage.js","API/useOurApi.js","pages/Error/ErrorPage.js","pages/Banks/BanksPage.js","components/Hooks/useQuery.js","components/Context/OrderContext.js","pages/Bank/BankInventory.js","pages/Bank/BankSchedule.js","pages/Bank/BankBanner.js","pages/Bank/BankFilters.js","pages/Bank/BankPage.js","components/Header/Header.js","pages/Error/EmptyCartPage.js","pages/Checkout/CartItem.js","pages/Checkout/Carousel.js","components/Hooks/useField.js","components/Form/InputField.js","components/Notifications/Messages.js","pages/Checkout/CustomerDetails.js","API/StateAPI.js","components/Form/Select.js","pages/Checkout/DeliveryDetails.js","pages/Checkout/PickupDetails.js","pages/Checkout/CheckoutForm.js","pages/Checkout/CheckoutPage.js","pages/Login/LoginPage.js","pages/Signup/SignupPage.js","pages/Signup/SignupSocial.js","pages/Signup/SignupVerify.js","pages/Error/FailedOrderPage.js","pages/Checkout/ConfirmationPage.js","components/Route/AuthRoute.js","components/Route/NonAuthRoute.js","pages/App/App.js","serviceWorker.js","index.js","assets/image/empty-cart.png"],"names":["module","exports","createBrowserHistory","basename","process","faShippingFast","faCube","faMapPin","faClock","faMapMarkerAlt","faCalendarAlt","faCheckCircle","faCheck","faStar","faSearch","faShoppingCart","faPlus","faMinus","faChevronUp","faChevronDown","Delivery","Pickup","faTimes","faLongArrowAltLeft","faTrashAlt","faCircleNotch","Kosher","GlutenFree","Vegan","Vegetarian","Halal","faShoppingBasket","faLongArrowAltRight","faChevronLeft","faChevronRight","faWalking","faTruck","faEnvelope","faLock","faBoxOpen","MarkerIcon","color","width","height","Icon","iconUrl","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","Distance","lat1","lon1","lat2","lon2","unit","radlat1","Math","PI","radlat2","theta","radtheta","dist","sin","cos","acos","LeafletMap","latitude","this","props","coords","longitude","banks","marker","Map","center","zoom","TileLayer","url","attribution","Marker","position","icon","Icons","Popup","className","Array","isArray","map","bank","key","foodbank_id","userLocation","bankLocation","React","Component","MapMarker","useState","setIcon","useRouteMatch","path","useEffect","activeMarker","round","fb_latitude","fb_longitude","onClick","setActiveMarker","onMouseOver","onMouseOut","closeOnClick","closeButton","autoPanPadding","src","fb_logo","to","fb_name","foodbank_address","geolocated","positionOptions","enableHighAccuracy","watchPosition","userDecisionTimeout","withRouter","history","useHistory","day","Date","getDay","onMouseEnter","onMouseLeave","push","alt","ScrollToTopOnMount","window","scrollTo","useMarker","bankAPI","data","LoadingPage","style","fontSize","spin","useOurApi","initialUrl","setUrl","isLoading","setIsLoading","hasError","setHasError","fetchedData","setFetchedData","unmounted","AbortController","a","fetch","response","json","responseData","console","log","fetchData","ErrorPage","class","NotFound","removeDuplicatesByKey","obj","forEach","x","Object","values","BanksPage","keys","length","result","useQuery","URLSearchParams","useLocation","search","OrderContext","createContext","ItemTags","str","bankId","useParams","split","tag","QuantityInput","item","count","useCounter","context","useContext","decrease","disabled","value","type","readOnly","increase","delivery_pickup","includes","deliveryMethod","quantity","food_id_limit","cart","JSON","parse","localStorage","getItem","initialAmount","initValue","items","find","info","food_id","amount","setValue","cartItems","splice","indexOf","setItem","stringify","setDeliveryMethod","setOrderInfo","total","totalAmount","zero","getItemsByKey","arr","filter","fl_food_type","inventory","query","deliveryOrPickup","get","fl_image","fl_brand","food_name","fl_package_type","food_unit","fl_value_in_dollars","week","substring","activeTab","setActiveTab","HandleClickTab","event","tabName","preventDefault","e","aria-hidden","Bank","bankUrl","setKey","addEventListener","delivery_pickup_items","delivery_items","pickup_items","BankPage","SearchBar","id","placeholder","AddToCart","num","Hamburger","role","aria-label","aria-expanded","data-target","Header","isAuth","removeItem","setIsAuth","orderInfo","EmptyCartPage","EmptyCart","CartItem","foodItem","Carousel","itemList","activeItemIndex","setActiveItemIndex","padding","requestToChangeActive","numberOfCards","gutter","leftChevron","rightChevron","outsideChevron","chevronWidth","validateEmail","email","test","String","toLowerCase","validatePhoneNumber","phone","digits","replace","useField","name","isRequired","error","setError","file","setFile","onChange","target","checked","files","maxDate","today","getDate","month","getMonth","getFullYear","checkInputs","validate","resetinput","InputField","isDisabled","handleDateName","currentTarget","justifyContent","htmlFor","onFocus","onBlur","max","setMaxDate","accept","selectedFile","reader","FileReader","imgTag","document","getElementById","title","onload","readAsDataURL","Messages","Danger","msg","Success","CustomerDetails","fname","lname","switchUserInfo","StateAPI","setData","then","contain","state","abbreviation","Select","i","DeliveryDetails","street","city","zip","switchUserAddress","states","NoPickUp","html","PickupDetails","DateTimeInput","forwardRef","ref","useDateTime","startDate","setStartDate","date","minDate","addDays","usePosition","hidden","setHidden","dateTime","checkbox","userInfo","firstName","lastName","phoneNumber","address1","onSubmit","formIsValid","hours","getHours","minutes","getMinutes","ampm","strTime","toUpperCase","formatDate","unconfirmed_order","isSent","order_id","customer_id","zipcode","toString","delivery_note","kitchen_id","kitchen_name","kitchen_address","delivery_date","order_type","ordered_items","selected","showTimeSelect","customInput","dateFormat","placeholderText","CheckoutPage","LoginPage","password","responseFacebook","access","accessToken","refresh","last_name","first_name","slice","pathname","lastname","firstname","social","refreshToken","FarmersMarket","maxWidth","appId","autoLoad","fields","callback","size","textButton","axios","post","status","auth_success","ctm_email_verify","ctm_first_name","ctm_last_name","ctm_phone","ctm_address1","address2","ctm_address2","ctm_city","ctm_state","ctm_zipcode","ctm_email","joinDate","ctm_join_date","userID","ctm_id","loginID","login_attempt_log","login_id","sessionID","session_id","catch","err","checkLogin","SignupPage","inputs","dob","emailConfirm","passwordConfirm","address_1","address_2","vegan","vegetarian","glutenFree","kosher","halal","none","license","licenseImg","monthlyIncome","addition","a_firstName","a_lastName","a_dob","hasRestrictions","noneSelected","persons","setPersons","showForm","setShowForm","clearPersonForm","input","onKeyPress","which","Fragment","isAllValid","person","idx","delPerson","validateInputs","signupPassed","SignupSocial","location","setEmail","setFirstName","setLastName","setAccessToken","setRefreshToken","socialMedia","setSocialMedia","setParams","SignupVerify","FailedOrderPage","FailedOrder","Confirmation","order","sentOrder","setSentOrder","setHasErrror","writeData","prevState","href","meal_id","qty","AuthRoute","component","rest","render","NonAuthRoute","App","loading","setLoading","onLoad","Provider","exact","ConfirmationPage","Boolean","hostname","match","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.6c6b9ad2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/confirmation.3c02e813.svg\";","module.exports = __webpack_public_path__ + \"static/media/Delivery.af41986f.png\";","module.exports = __webpack_public_path__ + \"static/media/Pickup.011b01ba.png\";","module.exports = __webpack_public_path__ + \"static/media/kosher.a05262d3.png\";","module.exports = __webpack_public_path__ + \"static/media/gluten_free.c5a3deab.png\";","module.exports = __webpack_public_path__ + \"static/media/vegan.b5cece1e.png\";","module.exports = __webpack_public_path__ + \"static/media/vegetarian.b27bed4d.png\";","module.exports = __webpack_public_path__ + \"static/media/halal.6694f867.png\";","module.exports = __webpack_public_path__ + \"static/media/404.1a53adde.svg\";","module.exports = __webpack_public_path__ + \"static/media/farmers-market.7128b6c5.jpg\";","module.exports = __webpack_public_path__ + \"static/media/failed-order.fcc8c2fa.svg\";","module.exports = __webpack_public_path__ + \"static/media/loading.d317a4d9.png\";","import { createBrowserHistory } from 'history';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport default createBrowserHistory({basename: process.env.PUBLIC_URL});\r\n","import {faShippingFast, faCube, faMapPin, faClock, faMapMarkerAlt,\r\n    faCalendarAlt, faCheckCircle, faCheck, faStar, faSearch, faBoxOpen,\r\n    faShoppingCart, faPlus, faMinus, faChevronUp, faChevronDown, faTimes,\r\n    faLongArrowAltLeft, faTrashAlt, faCircleNotch, faShoppingBasket,\r\n    faLongArrowAltRight, faChevronLeft, faChevronRight, faWalking, faTruck, \r\n    faEnvelope, faLock} from '@fortawesome/free-solid-svg-icons';\r\nimport Delivery from './Delivery.png';\r\nimport Pickup from './Pickup.png';\r\nimport { Icon } from 'leaflet';\r\nimport Kosher from 'assets/image/kosher.png';\r\nimport GlutenFree from 'assets/image/gluten_free.png';\r\nimport Vegan from 'assets/image/vegan.png';\r\nimport Vegetarian from 'assets/image/vegetarian.png';\r\nimport Halal from 'assets/image/halal.png'\r\n\r\n\r\nvar MarkerIcon = (color, width=25, height=41) => {\r\n    return new Icon({\r\n        iconUrl:  `https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${color}.png`,\r\n        shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n        iconSize: [width, height],\r\n        iconAnchor: [12, 41],\r\n        popupAnchor: [1, -34],\r\n        shadowSize: [41, 41]\r\n    })\r\n}\r\nexport default {\r\n    faShippingFast, faCube, faMapPin, faClock, faMapMarkerAlt,\r\n    faCalendarAlt, faCheckCircle, faCheck, faStar, faSearch,\r\n    faShoppingCart, faPlus, faMinus, faChevronUp, faChevronDown,\r\n    Delivery, Pickup, faTimes, faLongArrowAltLeft, faTrashAlt, \r\n    faCircleNotch, Kosher, GlutenFree, Vegan, Vegetarian, Halal,\r\n    faShoppingBasket, faLongArrowAltRight, faChevronLeft, faChevronRight,\r\n    faWalking, faTruck, faEnvelope, faLock, faBoxOpen, MarkerIcon\r\n}\r\n\r\n// How to use this component?\r\n// add the icon you want to both 'import' statement and 'export default' statement in this file\r\n\r\n// Then, in your component, do:\r\n// import Icons from 'components/Icons/Icons\"\r\n// import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n// ....\r\n// <FontAwesome icon={ Icons.yourIcon } />","import React from 'react';\r\n\r\nfunction Distance(lat1, lon1, lat2, lon2, unit) {\r\n    var radlat1 = (Math.PI * lat1) / 180;\r\n    var radlat2 = (Math.PI * lat2) / 180;\r\n    var theta = lon1 - lon2;\r\n    var radtheta = (Math.PI * theta) / 180;\r\n    var dist = Math.sin(radlat1) * Math.sin(radlat2) +\r\n               Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n    dist = Math.acos(dist);\r\n    dist = (dist * 180) / Math.PI;\r\n    dist = dist * 60 * 1.1515;\r\n    if (unit == \"K\") {\r\n      dist = dist * 1.609344;\r\n    }\r\n    if (unit == \"M\") {\r\n      dist = dist * 0.8684;\r\n    }\r\n    return dist;\r\n  }\r\n  export default Distance;","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useRouteMatch, Redirect } from \"react-router-dom\";\r\nimport { Map, TileLayer, Marker, Popup, MapLayer } from \"react-leaflet\";\r\nimport { geolocated } from \"react-geolocated\";\r\nimport Icons from \"components/Icons/Icons\";\r\nimport \"./style.css\";\r\nimport L, { Point } from 'leaflet';\r\nimport Distance from 'utils/Distance';\r\n// use San Jose, CA as the default center\r\nconst DEFAULT_LATITUDE = 37.338208;\r\nconst DEFAULT_LONGITUDE = -121.886329;\r\n\r\n\r\nclass LeafletMap extends React.Component {\r\n  render() {\r\n    const latitude = this.props.coords\r\n      ? this.props.coords.latitude\r\n      : DEFAULT_LATITUDE;\r\n    const longitude = this.props.coords\r\n      ? this.props.coords.longitude\r\n      : DEFAULT_LONGITUDE;\r\n\r\n    const banks = this.props.banks;\r\n    const marker = this.props.marker;\r\n    \r\n    return (\r\n      <Map center={[latitude, longitude]} zoom={11}>\r\n        <TileLayer\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n        />\r\n        {!this.props.coords ? (\r\n          <div className=\"loading\">Cannot load current location.</div>\r\n        ) : (\r\n          <Marker position={[latitude, longitude]} icon={Icons.MarkerIcon('red')}>\r\n            <Popup>\r\n              <div className=\"marker-popup\">\r\n                <p className=\"title has-font-14\">Your Location</p>\r\n                <p className=\"subtitle has-font-14\">\r\n                  {\" \"}\r\n                  ({latitude},{longitude}){\" \"}\r\n                </p>\r\n              </div>\r\n            </Popup>\r\n          </Marker>\r\n        )}\r\n        {Array.isArray(banks) ? (\r\n          banks.map((bank) => (\r\n            <MapMarker\r\n              key={bank.foodbank_id}\r\n              userLocation={[latitude, longitude]}\r\n              bankLocation={bank}\r\n              marker={marker}\r\n            />\r\n          ))\r\n        ) : (\r\n          <MapMarker userLocation={[latitude, longitude]} bankLocation={banks} marker={marker}/>\r\n        )}\r\n      </Map>\r\n    );\r\n  }\r\n}\r\n\r\nconst MapMarker = ({ userLocation, bankLocation, marker }) => {\r\n  const [icon, setIcon] = useState(Icons.MarkerIcon(\"green\"));\r\n  const { path, url } = useRouteMatch();\r\n\r\n  useEffect(() => {\r\n    if (marker.activeMarker === bankLocation.foodbank_id)\r\n      setIcon(Icons.MarkerIcon(\"black\", 26, 42));\r\n    else setIcon(Icons.MarkerIcon(\"green\"));\r\n  }, [marker.activeMarker]);\r\n\r\n  const dist =\r\n  Math.round(\r\n    Distance(\r\n      userLocation[0],\r\n      userLocation[1],\r\n      bankLocation.fb_latitude,\r\n      bankLocation.fb_longitude,\r\n      \"M\"\r\n    ) * 10\r\n  ) / 10;\r\n  \r\n  return (\r\n    <Marker\r\n      position={[bankLocation.fb_latitude, bankLocation.fb_longitude]}\r\n      icon={icon}\r\n      onClick={() => marker.setActiveMarker(bankLocation.foodbank_id)}\r\n      onMouseOver={() => marker.setActiveMarker(bankLocation.foodbank_id)}\r\n      onMouseOut={() => marker.setActiveMarker(null)}\r\n    >\r\n      <Popup closeOnClick={true} closeButton={false} autoPanPadding={[50,50]}>\r\n        <article className=\"media marker-popup\">\r\n          <figure className=\"media-left\">\r\n            <p className=\"image is-48x48\">\r\n              <img src={bankLocation.fb_logo} />\r\n            </p>\r\n          </figure>\r\n          <div className=\"media-content\">\r\n            <div className=\"content\">\r\n              <p>\r\n                <Link to={`/${path}/${bankLocation.foodbank_id}/products`}>\r\n                  <strong>{bankLocation.fb_name}</strong>\r\n                </Link>\r\n                <br></br>\r\n                {bankLocation.foodbank_address}\r\n                <br></br>\r\n                {dist} miles\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </article>\r\n      </Popup>\r\n    </Marker>\r\n  );\r\n};\r\n\r\nexport default geolocated({\r\n  positionOptions: {\r\n    enableHighAccuracy: true,\r\n  },\r\n  watchPosition: true,\r\n  userDecisionTimeout: 10000, // determines how much time (in miliseconds) we\r\n  // give the user to make the decision whether to allow to share their location or not\r\n})(LeafletMap);\r\n","import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  useRouteMatch,\r\n  useParams,\r\n  useHistory ,\r\n  withRouter\r\n} from \"react-router-dom\";\r\nimport Icons from \"components/Icons/Icons\";\r\n\r\nfunction Banks({ marker, banks }) {\r\n  const history = useHistory();\r\n  function getNextDay() {\r\n    // get next day\r\n    var d = new Date();\r\n    var week = [\r\n      \"sunday\",\r\n      \"monday\",\r\n      \"tuesday\",\r\n      \"wednesday\",\r\n      \"thursday\",\r\n      \"friday\",\r\n      \"saturday\",\r\n    ];\r\n    return week[d.getDay()];\r\n  }\r\n  const day = getNextDay();\r\n  return (\r\n    <div className=\"banks\">\r\n      {banks.map((bank) => (\r\n        <div\r\n          key={bank.foodbank_id}\r\n          className=\"card bank-card\"\r\n          onMouseEnter={() => marker.setActiveMarker(bank.foodbank_id)}\r\n          onMouseLeave={() => marker.setActiveMarker(\"\")}\r\n          onClick={() => history.push(`/banks/${bank.foodbank_id}/products`)}\r\n        >\r\n          <div className=\"card-content\">\r\n            <div className=\"media\">\r\n              <div className=\"media-left\">\r\n                <figure className=\"image is-48x48\">\r\n                  <img src={bank.fb_logo} alt=\"Placeholder image\"></img>\r\n                </figure>\r\n              </div>\r\n              <div className=\"media-content\">\r\n                <p className=\"title is-6 has-text-grey-dark\">\r\n              \r\n                    {bank.fb_name}\r\n                 \r\n                </p>\r\n                <p className=\"subtitle has-font-13 has-text-grey\">\r\n                  {\" \"}\r\n                  {bank.foodbank_address}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"content\">\r\n              <div className=\"columns is-mobile\">\r\n                <div className=\"column is-6\">\r\n                  <p className=\"subtitle has-font-13 no-overflow\">Hours</p>\r\n                  <p className=\"subtitle has-font-13 is-bold no-overflow\">\r\n                    <span className=\"days\">{day}</span>\r\n                    <span className=\"hours\">{`fb_${bank[day]}_time`}</span>\r\n                  </p>\r\n                </div>\r\n                <div className=\"column is-3\">\r\n                  <p className=\"subtitle has-font-13  no-overflow\">Delivery</p>\r\n                  <span className=\"icon tooltip\">\r\n                    <img src={Icons.Delivery} alt=\"\"></img>\r\n                    <span className=\"tooltiptext\">Delivery is available</span>\r\n                  </span>\r\n                </div>\r\n                <div className=\"column is-3\">\r\n                  <p className=\"subtitle has-font-13  no-overflow\">Pickup</p>\r\n                  <span className=\"icon tooltip\">\r\n                    <img\r\n                      className=\"not-available\"\r\n                      src={Icons.Pickup}\r\n                      alt=\"\"\r\n                    ></img>\r\n                    <span className=\"tooltiptext\">Pickup is not available</span>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\nexport default withRouter(Banks);\r\n","import { useEffect } from \"react\";\r\n\r\n// put this on top of a compoent to make sure\r\n// it scrolls to the top of that component\r\nfunction ScrollToTopOnMount() {\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  return null;\r\n}\r\nexport default ScrollToTopOnMount;","import React, { useState } from 'react'\r\nconst useMarker = () => {\r\n    const [activeMarker, setActiveMarker] = useState('');\r\n    return {\r\n      activeMarker,\r\n      setActiveMarker\r\n    }\r\n  }\r\nexport default useMarker;","import React, {useState, useEffect} from \"react\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport LeafletMap from \"components/Map/LeafletMap\";\r\nimport Banks from \"pages/Banks/Banks\";\r\nimport ScrollToTopOnMount from \"utils/Scroll/ScrollToTopOnMount\";\r\nimport useMarker from 'components/Hooks/useMarker';\r\nfunction BanksLayout({ ...bankAPI }) {\r\n  const marker = useMarker();\r\n  const banks = bankAPI.data;\r\n  return (\r\n    <div className=\"banks-page-bd\">\r\n      <ScrollToTopOnMount />\r\n      <div className=\"columns\">\r\n        <div className=\"column is-6\">\r\n          <div className=\"bank-list\">\r\n            <Banks marker={marker} banks={banks} />\r\n          </div>\r\n        </div>\r\n        <div className=\"column is-6 has-no-padding has-shadow\">\r\n          <div className=\"sticky\">\r\n            <LeafletMap marker={marker} banks={banks} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default withRouter(BanksLayout);\r\n","import React from 'react';\r\nimport './style.css';\r\nimport Loading from 'assets/image/loading.png';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Icons from 'components/Icons/Icons';\r\nfunction LoadingPage() {\r\n    return(\r\n        <div className=\"not-found-page\">\r\n            <div className=\"not-found-page-body\"> \r\n                {/* <figure class=\"image is-128x128\">\r\n                <img src={Loading} alt=\"Not-found image\"/>\r\n                </figure>    */}\r\n                <div className=\"not-found-page-content\">\r\n                <div className=\"icon\">\r\n                    <FontAwesomeIcon icon={Icons.faCircleNotch} style={{fontSize:50}}spin />\r\n                </div>\r\n                <div className=\"space-1\"></div>\r\n                <p className=\"title is-6 has-text-grey\">Page is loading...</p>\r\n                \r\n                {/* <Link to=\"/\"><button className=\"button is-green\"><span className=\"icon\"><FontAwesomeIcon icon={Icons.faLongArrowAltLeft} /></span><span>Back Home</span></button></Link> */}\r\n                </div>   \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default LoadingPage;","import { useEffect, useState } from \"react\";\r\nimport axios from 'axios';\r\n/*  Example\r\n    initialUrl: \"/_api/jobs\"\r\n    initialData: [] //usually empty array or object\r\n*/\r\nexport const useOurApi = (initialUrl) => {\r\n  const [url, setUrl] = useState(initialUrl);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [hasError, setHasError] = useState(false);\r\n  const [fetchedData, setFetchedData] = useState({});\r\n\r\n  useEffect(() => {\r\n    let unmounted = false;\r\n    const abortController = new AbortController();\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n        //   setIsLoading(true);\r\n          const response = await fetch(url);\r\n          const responseData = await response.json();\r\n          console.log(\"fetch data\");\r\n          if (!unmounted) setFetchedData(responseData); // return value is an array\r\n        } catch (err) {\r\n          setHasError(true);\r\n        } finally {\r\n            console.log(\"loading done\");\r\n          setIsLoading(false);\r\n\r\n        }\r\n      };\r\n      fetchData();\r\n\r\n    return () => {\r\n        // abortController.abort();\r\n      unmounted = true;\r\n    };\r\n  }, [url]);\r\n\r\n  return { isLoading, hasError, setUrl, data: fetchedData };\r\n};","import React from 'react';\r\nimport './style.css';\r\nimport NotFound from 'assets/image/404.svg';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Icons from 'components/Icons/Icons';\r\nfunction ErrorPage() {\r\n    return(\r\n        <div className=\"not-found-page\">\r\n            <div className=\"not-found-page-body\"> \r\n                <figure class=\"image is-128x128\">\r\n                <img src={NotFound} alt=\"Not-found image\"/>\r\n                </figure>   \r\n                <div className=\"not-found-page-content\">\r\n                <p className=\"title is-6 has-text-grey\">Oh no! the page you are looking for doesn't exist.</p>\r\n                <Link to=\"/\"><button className=\"button is-green\"><span className=\"icon\"><FontAwesomeIcon icon={Icons.faLongArrowAltLeft} /></span><span>Back Home</span></button></Link>\r\n                </div>   \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default ErrorPage;","import React from \"react\";\r\n\r\nimport \"pages/styles.css\";\r\nimport Notifications from \"components/Notifications/Notifications\";\r\nimport BanksLayout from \"pages/Banks/BanksLayout.js\";\r\nimport LoadingPage from \"pages/Error/LoadingPage\";\r\nimport { useOurApi } from \"API/useOurApi\";\r\nimport ErrorPage from \"pages/Error/ErrorPage\";\r\nimport LeafletMap from \"components/Map/LeafletMap\";\r\nimport Banks from \"pages/Banks/Banks\";\r\nimport ScrollToTopOnMount from \"utils/Scroll/ScrollToTopOnMount\";\r\nimport useMarker from 'components/Hooks/useMarker';\r\n\r\nfunction BanksPage() {\r\n  console.log(\"banks page\");\r\n  const url = `https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/foodbankinfo`;\r\n  const { data, isLoading, hasError } = useOurApi(url, {});\r\n  const banks = Object.keys(data).length ? removeDuplicatesByKey('foodbank_id', data.result.result) : [];\r\n  const marker = useMarker();\r\n\r\n  if (isLoading){ console.log(\"loading\"); return <LoadingPage />;}\r\n  if (hasError) return <ErrorPage />;\r\n  return (\r\n    <div className=\"banks-page-bd\">\r\n      <ScrollToTopOnMount />\r\n      <div className=\"columns\">\r\n        <div className=\"column is-6\">\r\n          <div className=\"bank-list\">\r\n            <Banks marker={marker} banks={banks} />\r\n          </div>\r\n        </div>\r\n        <div className=\"column is-6 has-no-padding has-shadow\">\r\n          <div className=\"sticky\">\r\n            <LeafletMap marker={marker} banks={banks} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nconst removeDuplicatesByKey = (key, data) => {\r\n  const obj ={}\r\n  data.forEach(x => {\r\n      obj[x[key]] = x;\r\n  })\r\n  return Object.values(obj);\r\n}\r\nexport default BanksPage;\r\n","import React from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\n// const query = useQuery();\r\n// then do query.get() to get search params \r\n// for example: products?type=vegetarian\r\n// query.get(\"type\") will return \"vegetarian\"\r\nconst useQuery = () => {\r\n    return new URLSearchParams(useLocation().search);\r\n  }\r\nexport default useQuery;","import React, { createContext } from 'react';\r\n\r\n export const OrderContext = createContext();","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { BrowserRouter as Router, Link, useLocation, withRouter, useParams } from \"react-router-dom\";\r\nimport useQuery from \"components/Hooks/useQuery\";\r\nimport { OrderContext } from \"components/Context/OrderContext\";\r\n\r\n// render food bank's inventory\r\nfunction BankInventory({ inventory, deliveryOrPickup}) {\r\n  let query = useQuery();\r\n  const context = useContext(OrderContext);\r\n\r\n  if (query.get(\"type\"))\r\n    inventory = getItemsByKey(query.get(\"type\"), inventory);\r\n\r\n  return (\r\n    <div className=\"inventory fade-in\">\r\n      {inventory.map((x) =>\r\n          <div key={x.food_id} className={x.delivery_pickup.includes(context.deliveryMethod) ? 'card item' : ' card item has-opacity-0-6'}>\r\n\r\n            <div className=\"card-content has-no-padding item-content\">\r\n              <div className=\"item-image-container\">\r\n                <img\r\n                  src={x.fl_image}\r\n                  className=\"item-image\"\r\n                  alt=\"Placeholder image\"\r\n                ></img>\r\n              </div>\r\n              <div className=\"item-info\">\r\n                <p className=\"title has-text-grey-light is-7 item-brand\">\r\n                  {x.fl_brand}\r\n                </p>\r\n                <p className=\"subtitle is-6 is-bold no-overflow\">\r\n                  {x.food_name}\r\n                </p>\r\n                <p className=\"subtitle is-7 has-text-grey no-overflow\">\r\n                  {x.fl_package_type} ({x.food_unit})\r\n                </p>\r\n                <QuantityInput item={x}/>\r\n              </div>\r\n            </div>\r\n            <div className=\"card-footer\">\r\n              <div className=\"item-price\">\r\n                <span className=\"subtitle has-font-13 has-text-grey\">\r\n                  ${x.fl_value_in_dollars}\r\n                </span>\r\n              </div>\r\n              <div className=\"item-tags\">\r\n                <ItemTags str={x.fl_food_type} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// render an item's tags\r\nfunction ItemTags({ str }) {\r\n  let { bankId } = useParams();\r\n  return (\r\n    <div className=\"tags-container no-overflow\">\r\n      {str\r\n        ? str.split(\";\").map((tag) => (\r\n            <Link\r\n              key={tag}\r\n              to={`banks/${bankId}/products?type=${tag}`}\r\n              className=\"item-tag subtitle has-margin-left-12\"\r\n              alt=\"\"\r\n            >\r\n              #{tag}\r\n            </Link>\r\n          ))\r\n        : \"\"}\r\n    </div>\r\n  );\r\n}\r\nfunction QuantityInput({ item}) {\r\n  const count = useCounter(item);\r\n  const context = useContext(OrderContext);\r\n  return (\r\n    <div>\r\n    <div className=\"field\">\r\n      <div className=\"control item-actions\">\r\n        <button\r\n          className=\"button is-small\"\r\n          onClick={count.decrease}\r\n          disabled={count.value === 0 ? true : false}\r\n        >\r\n          -\r\n        </button>\r\n        <input\r\n          type=\"text\"\r\n          className=\"input is-small\"\r\n          value={count.value}\r\n          readOnly\r\n        />\r\n        <button\r\n          className=\"button is-small\"\r\n          onClick={count.increase}\r\n          disabled={\r\n            !item.delivery_pickup.includes(context.deliveryMethod) || item.quantity === 0 || count.value >= item.food_id_limit\r\n              ? true\r\n              : false\r\n          }\r\n        >\r\n          +\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n      <div className=\"space-1-5\"></div>\r\n      {item.quantity === 0 && <p className=\"p is-danger\">Out of stock</p>}\r\n      {count.value >= item.food_id_limit  && <p className=\"help is-danger\">Limit is {item.food_id_limit}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst useCounter = (x) => {\r\n  let { bankId} = useParams();\r\n  const context = useContext(OrderContext);\r\n  // initialize user-selected quantity for each food item\r\n  let cart = JSON.parse(window.localStorage.getItem('cart')) || {};\r\n  let initialAmount = 0;\r\n  if (cart.bankId && cart.bankId === bankId){\r\n    let cartItems = cart.items ? cart.items : [];\r\n    let initValue = cartItems.find((item) => {\r\n      return item.info.food_id === x.food_id;\r\n    });\r\n    initialAmount = initValue ? initValue.amount : 0;\r\n  }\r\n  const [value, setValue] = useState(initialAmount);\r\n\r\n  const increase = () => {\r\n    setValue(value + 1);\r\n  };\r\n  const decrease = () => {\r\n    setValue(value - 1);\r\n  };\r\n  const zero = () => {\r\n    setValue(0);\r\n  };\r\n  const totalAmount = (items) => {\r\n    var total = 0;\r\n    items.forEach((x) => {\r\n      total += x.amount;\r\n    });\r\n    return total;\r\n  };\r\n  useEffect(() => {\r\n    let cart = JSON.parse(window.localStorage.getItem('cart')) || { bankId: \"\", items: []};\r\n    let cartItems = cart.items ? cart.items : [];\r\n\r\n    if (cart.bankId && cart.bankId === bankId){\r\n      let item = cartItems.find((item) => {\r\n        return item.info.food_id === x.food_id;\r\n      });\r\n      if (item && value > 0) item.amount = value;\r\n      else if (item && value === 0) cartItems.splice(cartItems.indexOf(item), 1);\r\n      else if (!item && value > 0) cartItems.push({ info: x, amount: value });\r\n\r\n      window.localStorage.setItem('cart', JSON.stringify({ bankId: bankId, items: cartItems}));\r\n      context.setDeliveryMethod(cartItems[0] ? cartItems[0].info.delivery_pickup : '' );\r\n   } \r\n   else if (cart.bankId && cart.bankId != bankId && value > 0){\r\n        cartItems = [];\r\n        cartItems.push({ info: x, amount: value });\r\n        window.localStorage.setItem('cart', JSON.stringify({ bankId: bankId, items: cartItems}));\r\n        context.setDeliveryMethod(cartItems[0].info.delivery_pickup);\r\n   } \r\n   else if (cart.bankId && cart.bankId != bankId){\r\n    window.localStorage.setItem('cart', JSON.stringify(cart));\r\n    context.setDeliveryMethod('');\r\n   }\r\n   else if (!cart.bankId){\r\n      window.localStorage.setItem('cart', JSON.stringify({bankId: bankId, items: cartItems}));\r\n      context.setDeliveryMethod('');\r\n   }\r\n   context.setOrderInfo(totalAmount(cartItems));\r\n  //  context.setDeliveryMethod(cartItems[0].info.delivery_method);\r\n  }, [value]);\r\n\r\n  return {\r\n    value,\r\n    increase,\r\n    decrease,\r\n    zero,\r\n  };\r\n};\r\n\r\nconst getItemsByKey = (key, arr) => {\r\n  return arr.filter((x) => x.fl_food_type.includes(key));\r\n};\r\n\r\nconst useDeliveryMethod = () => {\r\n  const [deliveryMethod, setDeliveryMethod] = useState('both');\r\n  return {\r\n    deliveryMethod,\r\n    setDeliveryMethod\r\n  }\r\n}\r\nexport default withRouter(BankInventory);\r\n","import React from \"react\";\r\nimport { withRouter } from 'react-router-dom';\r\nfunction BankSchedule({ obj }) {\r\n  const week=['monday','tuesday','wednesday','thursday','friday','saturday','sunday'];\r\n  return (\r\n    <div className=\"bank-info-content no-overflow\">\r\n      <div className=\"schedule-days\">\r\n      {week.map(x => <p key={x} className=\"subtitle is-bold has-font-13 capitalized\">{x.substring(0, 3)}</p>)} \r\n        \r\n      </div>\r\n      <div className=\"schedule-hours\">\r\n      {week.map(x => <p key={`${x}_time`} className=\"subtitle has-font-13 has-text-grey capitalized\">{obj[`fb_${x}_time_delivery`]}</p>)} \r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default withRouter(BankSchedule);\r\n","import React, {useState} from \"react\";\r\nimport Icons from \"components/Icons/Icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport LeafletMap from \"components/Map/LeafletMap\";\r\nimport BankSchedule from \"pages/Bank/BankSchedule\";\r\nimport useMarker from 'components/Hooks/useMarker';\r\nimport {withRouter } from \"react-router-dom\";\r\n\r\nfunction BankBanner({ obj }) {\r\n  const marker  = useMarker();\r\n  return (\r\n    <section className=\"hero\">\r\n      {/* Food Bank's Banner */}\r\n      <div className=\"bank-banner\">\r\n        <div className=\"bank-banner-left\">\r\n          <div className=\"bank-banner-info\">\r\n            {/* Logo */}\r\n            <figure className=\"image bank-logo is-96x96\">\r\n              <img src={obj.fb_logo} alt=\"\"></img>\r\n            </figure>\r\n            <div className=\"bank-info-wrapper has-no-margin\">\r\n              <p className=\"title bank-title is-5\">{obj.fb_name} </p>\r\n            </div>\r\n            {/* Address */}\r\n            <div className=\"bank-info-wrapper\">\r\n              <div className=\"bank-info-icon\">\r\n                <span className=\"icon\">\r\n                  <FontAwesomeIcon\r\n                    icon={Icons.faMapMarkerAlt}\r\n                    style={{ fontSize: 16 }}\r\n                  />\r\n                </span>\r\n              </div>\r\n              <div className=\"bank-info-content no-overflow\">\r\n                <p className=\"subtitle is-bold bank-address has-font-13\">\r\n                  {obj.foodbank_address}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            {/* Opening timings */}\r\n            <div className=\"bank-info-wrapper\">\r\n              <div className=\"bank-info-icon\">\r\n                <span className=\"icon\">\r\n                  <FontAwesomeIcon\r\n                    icon={Icons.faClock}\r\n                    style={{ fontSize: 16 }}\r\n                  />\r\n                </span>\r\n              </div>\r\n              <BankSchedule obj={obj} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"bank-banner-right\">\r\n          <LeafletMap banks={obj} marker={marker}/>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default withRouter(BankBanner);\r\n","import React, { useState } from 'react';\r\nimport { Link, useRouteMatch, useLocation, withRouter, useParams } from 'react-router-dom';\r\nimport useQuery from 'components/Hooks/useQuery';\r\nimport Icons from 'components/Icons/Icons';\r\n\r\n// render filtering tabs\r\nfunction BankFilters(){\r\n    let { bankId } = useParams();\r\n    let query = useQuery(); \r\n    let type = query.get('type'); // get filter params\r\n    const [activeTab, setActiveTab] = useState( type? type : 'all' );\r\n    const HandleClickTab = (event, tabName) => {\r\n        event.preventDefault();\r\n        setActiveTab(tabName);\r\n    }\r\n    return (\r\n        <div className='bank-filters'>        \r\n            <div className=\"tabs is-right\">\r\n                <ul>\r\n                    <li className={activeTab === 'all' ? 'is-active': ''} onClick={(e) => HandleClickTab(e, \"all\")}>\r\n                        <Link to={`/banks/${bankId}/products`} >\r\n                            <span className=\"icon is-small\"><i className=\"fas fa-image\" aria-hidden=\"true\"></i></span>\r\n                            <span>All</span>\r\n                        </Link>\r\n                    </li>\r\n                    <li className={activeTab === 'vegetarian' ? 'is-active': ''} onClick={(e) => HandleClickTab(e, \"vegetarian\")}>\r\n                        <Link to={`/banks/${bankId}/products?type=vegetarian`} >\r\n                            <span className=\"icon is-small\"><i className=\"fas fa-image\" aria-hidden=\"true\"></i></span>\r\n                            <span>Vegetarian</span>\r\n                        </Link>\r\n                    </li>\r\n                    <li className={activeTab === 'vegan' ? 'is-active' : ''} onClick={(e) => HandleClickTab(e, \"vegan\")}>\r\n                        <Link to={`/banks/${bankId}/products?type=vegan`}>\r\n                            <span className=\"icon is-small\"><i className=\"fas fa-music\" aria-hidden=\"true\"></i></span>\r\n                            <span>Vegan</span>\r\n                        </Link>\r\n                    </li>\r\n                    <li className={activeTab === 'gluten-free' ? 'is-active' : ''} onClick={(e) => HandleClickTab(e, \"gluten-free\")}>\r\n                        <Link to={`/banks/${bankId}/products?type=gluten-free`}>\r\n                            <span className=\"icon is-small\"><i className=\"fas fa-film\" aria-hidden=\"true\"></i></span>\r\n                            <span>Gluten-free</span>\r\n                        </Link>\r\n                    </li>\r\n                    <li className={activeTab === 'kosher' ? 'is-active' : ''} onClick={(e) => HandleClickTab(e, \"kosher\")}>\r\n                        <Link to={`/banks/${bankId}/products?type=kosher`}>\r\n                            <span className=\"icon is-small\"><i className=\"far fa-file-alt\" aria-hidden=\"true\"></i></span>\r\n                            <span>Kosher</span>\r\n                        </Link>\r\n                    </li>\r\n                </ul>   \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(BankFilters);","import React, { useState, useEffect, useContext } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  useRouteMatch,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport \"pages/styles.css\";\r\nimport LoadingPage from \"pages/Error/LoadingPage\";\r\nimport { useOurApi } from \"API/useOurApi\";\r\nimport ErrorPage from \"pages/Error/ErrorPage\";\r\nimport BankInventory from \"pages/Bank/BankInventory\";\r\nimport BankBanner from \"pages/Bank/BankBanner\";\r\nimport BankFilters from \"pages/Bank/BankFilters\";\r\nimport ScrollToTopOnMount from \"utils/Scroll/ScrollToTopOnMount\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Icons from \"components/Icons/Icons\";\r\n\r\n\r\nfunction BankPage() {\r\n  let { bankId } = useParams();\r\n  const url = `https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/foodbankinfonew/${bankId}`;\r\n  return <Bank bankUrl={url} />;\r\n}\r\n\r\nconst Bank = ({ bankUrl }) => {\r\n  const { data, isLoading, hasError } = useOurApi(bankUrl, {});\r\n  const [key, setKey] = useState(1);\r\n  window.addEventListener(\"storage\", () => {\r\n    setKey(key + 1);\r\n  });\r\n\r\n  if (isLoading) return <LoadingPage />;\r\n  if (hasError || !data.result) return <ErrorPage />;\r\n\r\n  const bank = data.result;\r\n  const delivery_pickup_items = bank.inventory.filter((x) =>\r\n    x.delivery_pickup.includes(\"both\")\r\n  );\r\n  const delivery_items = bank.inventory.filter((x) =>\r\n    x.delivery_pickup.includes(\"delivery\")\r\n  );\r\n  const pickup_items = bank.inventory.filter((x) =>\r\n    x.delivery_pickup.includes(\"pickup\")\r\n  );\r\n  return (\r\n    <div className=\"bank-page-bd\">\r\n      <ScrollToTopOnMount />\r\n      <div className=\"bank-container\">\r\n        <BankBanner obj={bank} />\r\n        <BankFilters />\r\n        <div className=\"bank-body\">\r\n          {delivery_pickup_items.length > 0 && (\r\n            <div className=\"inventory-container\">\r\n              <div className=\"inventory-title-container\">\r\n                <p className=\"subtitle inventory-title\">Delivery or Pickup</p>\r\n              </div>\r\n              <BankInventory key={key} inventory={delivery_pickup_items} />\r\n            </div>\r\n          )}\r\n          {delivery_items.length > 0 && (\r\n            <div className=\"inventory-container\">\r\n              <div className=\"inventory-title-container\">\r\n                <p className=\"subtitle inventory-title\">Delivery Only</p>\r\n              </div>\r\n              <BankInventory key={key} inventory={delivery_items} />\r\n            </div>\r\n          )}\r\n          {pickup_items.length > 0 && (\r\n            <div className=\"inventory-container\">\r\n              <div className=\"inventory-title-container\">\r\n                <p className=\"subtitle inventory-title\">Pick Up Only</p>\r\n              </div>\r\n              <BankInventory key={key} inventory={pickup_items} />\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"bank-actions\">\r\n          <button className=\"button is-info\">\r\n            <span className=\"icon\">\r\n              <FontAwesomeIcon icon={Icons.faLongArrowAltLeft} />\r\n            </span>\r\n            <span>Return to Search Results</span>\r\n          </button>\r\n          <Link to=\"/order/cart\">\r\n            <button className=\"button is-success\">\r\n              <span>Checkout Now</span>\r\n              <span className=\"icon\">\r\n                <FontAwesomeIcon icon={Icons.faLongArrowAltRight} />\r\n              </span>\r\n            </button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BankPage;\r\n","import React, {useState, useContext} from 'react';\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport './header.css';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport Icons from 'components/Icons/Icons';\r\nimport { OrderContext }  from 'components/Context/OrderContext';\r\nfunction Header (){\r\n    const context = useContext(OrderContext);\r\n    const cart = JSON.parse(window.localStorage.getItem('cart')) || {};\r\n    const cartItems = cart.items ? cart.items : [];\r\n    context.setOrderInfo(totalAmount(cartItems));\r\n\r\n    const handleLogout = () => {\r\n        window.localStorage.removeItem(\"userInfo\");\r\n        context.setIsAuth(false);\r\n    }\r\n\r\n    return (\r\n        <nav className=\"navbar is-fixed-top\" role=\"navigation\" aria-label=\"main navigation\">\r\n            <div className=\"navbar-brand \">\r\n                {/* <Link className=\"navbar-item has-no-padding-left\" to={context.isAuth ? \"/\" : \"/login\"}> */}\r\n                <Link className=\"navbar-item has-no-padding-left\" to=\"/\">\r\n                    <span className=\"subtitle is-5 brand-text\">\r\n                        Feed The Hungry\r\n                    </span>\r\n                </Link>\r\n                <Hamburger />\r\n            </div>\r\n            <div id=\"mainNavbar\" className=\"navbar-menu\">\r\n                <div className=\"navbar-end\">\r\n                    <div className=\"navbar-item\">\r\n                        <SearchBar />\r\n                    </div>\r\n                    {context.isAuth ? (\r\n                        <Link to=\"/login\" className=\"navbar-item\" onClick={handleLogout}>\r\n                            Logout\r\n                        </Link>\r\n                    ) : (\r\n                        <Link to=\"/login\" className=\"navbar-item\">\r\n                            Login\r\n                        </Link>\r\n                    )}\r\n                    {context.isAuth && (\r\n                        <div className=\"navbar-item has-no-padding-right\">\r\n                            <AddToCart num={context.orderInfo} />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\nfunction SearchBar() {\r\n    return (\r\n        <div className=\"field is-grouped\">\r\n            <p id=\"search\" className=\"control is-expanded no-bottom-margin has-icons-right\">\r\n            <input className=\"input\" type=\"search\" placeholder=\"Find a food bank\"></input>\r\n            <span className=\"icon is-small has-text-black is-right\">\r\n                <FontAwesomeIcon icon={Icons.faSearch}/>\r\n            </span>\r\n            </p>\r\n        </div>\r\n    );\r\n}\r\nfunction AddToCart({num}) {\r\n    return (\r\n        <Link to=\"/order/cart\" alt=\"cart button\">\r\n            <div className=\"button add-cart\">\r\n            <span className=\"icon shopping-cart\">\r\n                <FontAwesomeIcon icon={Icons.faShoppingBasket} />\r\n            </span>\r\n            <span>{num}</span>  \r\n            </div>\r\n        </Link>\r\n    );\r\n}\r\nfunction Hamburger(){\r\n    return (\r\n        <a role=\"button\" className=\"navbar-burger burger\" aria-label=\"menu\" aria-expanded=\"false\" data-target=\"mainNavbar\">\r\n            <span aria-hidden=\"true\"></span>\r\n            <span aria-hidden=\"true\"></span>\r\n            <span aria-hidden=\"true\"></span>\r\n        </a>\r\n    );\r\n}\r\nconst totalAmount = (items) => {\r\n    let total = 0;\r\n    if (items.length > 0) {\r\n        items.forEach(x => {\r\n            total += x.amount;\r\n        });\r\n    }\r\n    return total;\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport './style.css';\r\nimport EmptyCart from 'assets/image/empty-cart.png';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Icons from 'components/Icons/Icons';\r\nfunction EmptyCartPage() {\r\n    return(\r\n        <div className=\"not-found-page\">\r\n            <div className=\"not-found-page-body\"> \r\n                <figure className=\"image is-128x128\">\r\n                <img src={EmptyCart} alt=\"Not-found image\"/>\r\n                </figure>   \r\n                <div className=\"not-found-page-content\">\r\n                <p className=\"title is-6 has-text-grey\">Your cart is empty</p>\r\n                <Link to=\"/\"><button className=\"button is-green\">\r\n                    {/* <span className=\"icon\"><FontAwesomeIcon icon={Icons.faLongArrowAltLeft} /></span> */}\r\n                    <span>Shop Now</span></button></Link>\r\n                </div>   \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default EmptyCartPage;","import React from \"react\";\r\n\r\nfunction CartItem({ foodItem }) {\r\n  return (\r\n    <div className=\"card cart-item\">\r\n      <div className=\"card-image cart-item-image\">\r\n        {/* <figure className=\"image is-128x128\"> */}\r\n        <img src={foodItem.info.fl_image} alt=\"Placeholder image\" />\r\n        {/* </figure> */}\r\n      </div>\r\n      <div className=\"card-content no-overflow\">\r\n        <p className=\"title is-7 has-text-grey-light item-brand\">\r\n          {foodItem.info.fl_brand}\r\n        </p>\r\n        <p className=\"subtitle is-6 is-bold\">{foodItem.info.food_name}</p>\r\n        <span className=\"tag\">\r\n          <span className=\"subtitle is-7\">\r\n            {foodItem.info.fl_package_type} x{foodItem.amount}\r\n          </span>\r\n        </span>\r\n\r\n        {foodItem.info.delivery_pickup === \"delivery\" ? (\r\n          <p className=\"subtitle is-7 is-bold has-text-danger\">Delivery Only</p>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {foodItem.info.delivery_pickup === \"pickup\" ? (\r\n          <p className=\"subtitle is-7 is-bold has-text-danger\">Pickup Only</p>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default CartItem;\r\n","import React, { useState } from 'react';\r\nimport ItemsCarousel from 'react-items-carousel';\r\nimport CartItem from 'pages/Checkout/CartItem';\r\nimport Icons from 'components/Icons/Icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nfunction Carousel({itemList}){\r\n  // const items = JSON.parse(window.localStorage.getItem(bankInfo.id)) || [];\r\n  // console.log(items);\r\n  const [activeItemIndex, setActiveItemIndex] = useState(0);\r\n  const chevronWidth = 60;\r\n  return (\r\n    <div style={{ padding: `0 ${chevronWidth}px` }}>\r\n      <ItemsCarousel\r\n        requestToChangeActive={setActiveItemIndex}\r\n        activeItemIndex={activeItemIndex}\r\n        numberOfCards={4}\r\n        gutter={20}\r\n        leftChevron={<button className=\"button round-btn\"><span className=\"icon\"><FontAwesomeIcon icon={Icons.faChevronLeft} /></span></button>}\r\n        rightChevron={<button className=\"button round-btn\"><span className=\"icon\"><FontAwesomeIcon icon={Icons.faChevronRight} /></span></button>}\r\n        outsideChevron\r\n        chevronWidth={chevronWidth}\r\n      > \r\n      {itemList.map(x => \r\n        <CartItem key={x.info.food_id} foodItem={x} />)\r\n      }\r\n        {/* <div style={{ height: 200, background: '#EEE' }}>First card</div> */}\r\n      </ItemsCarousel>\r\n    </div>\r\n  );\r\n};\r\nexport default Carousel;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nconst useField = (name, type, isRequired=true) => {\r\n  const [value, setValue] = useState(type === \"checkbox\" || type ===\"switch\" ? false : '');\r\n  const [error, setError] = useState('');\r\n  // for file inputs\r\n  const [file, setFile] = useState({});\r\n\r\n  // handle input if user changes the content of the input \r\n  const onChange = (event) => {\r\n    setValue(\r\n      event.target.type === \"checkbox\" || event.target.type === \"switch\"\r\n        ? event.target.checked\r\n        : event.target.value\r\n    );\r\n\r\n    // set error msg to '' if input is filled\r\n    if (event.target.value.length ===0 ) setError('This field is required');\r\n    else if (event.target.type ===\"email\" && !validateEmail(event.target.value)) setError('Invalid email format') \r\n    else if (event.target.type === \"tel\" && !validatePhoneNumber(event.target.value)) setError(\"Invalid phone number\");\r\n    else if (event.target.type === \"file\") {\r\n      setFile(event.target.files[0]);\r\n    } \r\n    else setError(''); \r\n  };\r\n\r\n  const maxDate = () => {\r\n    const today = new Date();\r\n    let day = today.getDate();\r\n    let month = today.getMonth() + 1;\r\n    let year = today.getFullYear();\r\n    if (day < 10) day = \"0\" + day;\r\n    if (month < 10) month = \"0\" + month;\r\n    return year + \"-\" + month + \"-\" + day;\r\n  }\r\n\r\n  const checkInputs = () => {\r\n    // case 1: if input is a zip code\r\n    if (name.toLowerCase() === \"zip\" && !/(^\\d{5}$)|(^\\d{5}-\\d{4}$)/.test(value)) setError(\"Invalid zip code\");\r\n    // case 2: if input is entered but we need to verify it given a data\r\n    // make sure that the data must have method 'contain' (see StateAPI.js, for instance\r\n    else if (name.toLowerCase() === \"state\" && value ===\"\") setError(\"Invalid state\");\r\n    // case 3: if input is a phone number\r\n    else if (type === \"tel\" && !/[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]*$/.test(value)) setError(\"Invalid phone number\");\r\n    // case 4: if input is an email\r\n    else if (type === \"email\" && !/^[a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(value)) setError(\"Invalid email address\");\r\n    // case 5: if input is currency. NOTE: if we use the 'number' input type for non-currency values in the future, this will need to be changed\r\n    else if (type === \"number\" && !/^([0-9]{1,3},([0-9]{3},)*[0-9]{3}|[0-9]+)(.[0-9][0-9])?$/.test(value)) setError(\"Invalid currency amount\");\r\n    // case 6: if input is birthdate and date chosen is in the future\r\n    else if (name.toLowerCase() === \"date of birth\" && maxDate() < value) setError(\"Invalid birthdate\");\r\n    // case 7: everything looks good!\r\n    else {\r\n      return true;\r\n    }\r\n    return false; // if anything is setting an error\r\n  }\r\n\r\n  // validate inputs if user clicks submit button. Returns true if no errors, false if error detected.\r\n  const validate = () => {\r\n    // if input is required and is not filled\r\n    if (isRequired && value.length === 0) {\r\n      setError(\"This field is required\");\r\n      return false;\r\n    }\r\n    // if input is filled. Checks required & not required inputs since even if \r\n    // it's not required we want to validate input if it's filled.\r\n    else if (value.length > 0) {\r\n      return checkInputs();\r\n    }\r\n    // if input is not required and not filled\r\n    else {\r\n      setError(\"\");\r\n      return true;\r\n    }\r\n  }\r\n\r\n  const resetinput = () => {\r\n    setValue(\"\");\r\n    setError(\"\");\r\n  }\r\n\r\n  return {\r\n    error,\r\n    setError,\r\n    type,\r\n    name,\r\n    value,\r\n    setValue,\r\n    onChange,\r\n    isRequired,\r\n    validate,\r\n    resetinput,\r\n    file,\r\n  };\r\n};\r\n\r\nfunction validateEmail(email) {\r\n  const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n}\r\nfunction validatePhoneNumber(phone){\r\n  var phoneRe = /^[2-9]\\d{2}[2-9]\\d{2}\\d{4}$/;\r\n  var digits = phone.replace(/\\D/g, \"\");\r\n  return phoneRe.test(digits);\r\n}\r\nexport default useField;\r\n\r\n// this custom hook handles any type of input\r\n// just do const myInput = useField(\"text\") (it could be text/number/checkbox/... depends on the type of input you want to set)\r\n// then do <input {... myInput} /> and your input will have all of the attributes needed (value, onChange, etc)\r\n// Afther that, you can simply do myInput.value to get its value \r\n","import React from \"react\";\r\nimport './style.css';\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\n// use this component for all input fields (well, not really all input fields because it still needs modifications)\r\nconst InputField = ({props, icon, isDisabled}) => {\r\n  \r\n  const setMaxDate = () => {\r\n    const today = new Date();\r\n    // console.log(today);\r\n    let day = today.getDate();\r\n    let month = today.getMonth() + 1;\r\n    let year = today.getFullYear();\r\n    if (day < 10) day = \"0\" + day;\r\n    if (month < 10) month = \"0\" + month;\r\n    return year + \"-\" + month + \"-\" + day;\r\n  }\r\n\r\n  // Handling date inputs with placeholder text (is there a better way?)\r\n  const handleDateName = (e) => {\r\n    if (e.currentTarget.type === \"text\") e.currentTarget.type = \"date\";\r\n    else {\r\n      e.currentTarget.type = \"text\";\r\n    }\r\n  }\r\n\r\n  const handleImg = e => {\r\n    // Since we call onChange handleImg for file inputs, it overwrites the initial onChange function\r\n    // so we add that initial function here so both functions run\r\n    props.onChange(e);\r\n    let selectedFile = e.target.files[0];\r\n    let reader = new FileReader();\r\n\r\n    let imgTag = document.getElementById(\"inputImg\");\r\n    imgTag.title = selectedFile.name;\r\n\r\n    reader.onload = e => {\r\n      imgTag.src = e.target.result;\r\n      // console.log(imgTag.src);\r\n    };\r\n    reader.readAsDataURL(selectedFile);\r\n  }\r\n  \r\n  if (props.type === \"checkbox\"){\r\n    return (\r\n      <div className=\"field\">\r\n         <div className=\"control\">\r\n          <label className=\"checkbox level-item\" style={{justifyContent: \"flex-start\"}}>\r\n            <input type={props.type} onChange={props.onChange} value={props.value} disabled={isDisabled}/>\r\n            <span className=\"has-margin-left-0-5\">{props.name}</span>\r\n            {icon && (\r\n              <span className=\"icon has-margin-left-0-5\">\r\n                <img src={icon} alt=\"\"></img>\r\n              </span>\r\n            )}\r\n          </label>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  else if (props.type === \"switch\"){\r\n    return (\r\n      <div className=\"field\">\r\n        <input id={props.name} type=\"checkbox\" name=\"switchRoundedDefault\" className=\"switch is-rounded\" value={props.value} onChange={props.onChange}/>\r\n        <label htmlFor={props.name}>{props.name}</label>\r\n      </div>\r\n    );\r\n  }\r\n  else{\r\n    return (\r\n      <div className=\"field\">\r\n          <div className={icon ? \"control has-icons-right\" : \"control\"}>\r\n            {props.type === \"file\" && <img id=\"inputImg\" />}\r\n            <input className={props.error.length > 0 ? \"input is-danger\" : \"input\"} type={props.type !== \"date\" ? props.type : \"text\"} onChange={props.onChange} value={props.value} placeholder={props.name} \r\n              {...(props.type === \"date\" ? {onFocus: handleDateName, onBlur: handleDateName, max: setMaxDate()} : {})} \r\n              {...(props.type === \"file\" ? {accept: \"image/*\", onChange: handleImg} : {})}\r\n            />\r\n            {icon ?  (\r\n              <span className=\"icon is-right\">\r\n                <FontAwesomeIcon icon={icon} />\r\n              </span>\r\n            ) : \"\"}\r\n          </div>\r\n          <p className=\"help is-danger\">{props.error}</p>\r\n      </div>\r\n    );\r\n  }\r\n \r\n};\r\nexport default InputField;\r\n","import React from 'react';\r\nconst Messages = {\r\n    Danger: function(msg) {\r\n        return (\r\n            <article className=\"message is-danger\">\r\n                <div className=\"message-body\">\r\n                    {msg}\r\n                </div>\r\n            </article>\r\n        );\r\n    },\r\n    Success: function(msg){\r\n        return (\r\n            <article className=\"message is-success\">\r\n                <div className=\"message-body\">\r\n                    {msg}\r\n                </div>\r\n            </article>\r\n        );\r\n    }\r\n}\r\nexport default Messages;","import React from \"react\";\r\nimport InputField from \"components/Form/InputField\";\r\nimport useField from \"components/Hooks/useField\";\r\n\r\nfunction CustomerDetails({ fname, lname, email, phone, switchUserInfo}) {\r\n\r\n  return (\r\n    <div>\r\n      <InputField props={switchUserInfo} />\r\n      <div className=\"field horizontal\">\r\n\r\n        <div className=\"field-body\">\r\n          <InputField props={fname} />\r\n          <InputField props={lname} />\r\n        </div>\r\n      </div>\r\n      <InputField props={email} />\r\n      <div className=\"field horizontal\">\r\n        <div className=\"field-body\">\r\n          <div className=\"field is-expanded\">\r\n            <div className=\"field has-addons\">\r\n              <div className=\"control\">\r\n                <a className=\"button is-static\">+1</a>\r\n              </div>\r\n              <div className=\"control is-expanded\">\r\n                <InputField props={phone} />\r\n              </div>\r\n            </div>\r\n            <p className=\"help\">Do not enter the first zero</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CustomerDetails;\r\n","import React, { useState, useEffect }  from 'react';\r\n\r\nconst StateAPI = () => {\r\n    // fetch list of states\r\n    const [data, setData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetch('https://gist.githubusercontent.com/mshafrir/2646763/raw/8b0dbb93521f5d6889502305335104218454c2bf/states_hash.json')\r\n        .then(x => x.json())\r\n        .then (data => setData(data))\r\n    },[]);\r\n\r\n    const contain = (state) => {\r\n        if (data.filter(x => x.name === state || x.abbreviation === state ).length > 0) return true;\r\n        return false;\r\n    }\r\n    return {\r\n        data,\r\n        contain\r\n    }\r\n}\r\nexport default StateAPI;","import React from \"react\";\r\n\r\n// to use this component, make sure that the array being passed in must be\r\n// an array of object\r\nfunction Select({ props, data }) {\r\n  let i = 0;\r\n  return (\r\n    <div className=\"field\">\r\n      <div className=\"control is-expanded\">\r\n        <div\r\n          className={\r\n            props.error.length > 0\r\n              ? \"select is-danger is-fullwidth\"\r\n              : \"select is-fullwidth\"\r\n          }\r\n        >\r\n          <select value={props.value} onChange={props.onChange}>\r\n            <option key={i++} value=\"\">\r\n              {props.name}\r\n            </option>\r\n            {Object.keys(data).map((x) => (\r\n              <option key={i++} value={x}>\r\n                {data[x]}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <p className=\"help is-danger\">{props.error}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Select;\r\n","import React from 'react';\r\nimport StateAPI from 'API/StateAPI';\r\nimport InputField from 'components/Form/InputField';\r\nimport Select from 'components/Form/Select';\r\n\r\n\r\nfunction DeliveryDetails({street, city, state, zip, switchUserAddress}) {\r\n    const states = StateAPI();\r\n    return (\r\n        <div>\r\n            <InputField props={switchUserAddress} />\r\n            <InputField props={street} />\r\n            <InputField props={city} />\r\n            <div className=\"field is-horizontal\">\r\n              <div className=\"field-body\">\r\n                <Select props={state} data={states.data} />\r\n                <InputField props={zip} />\r\n              </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default DeliveryDetails;","import React from 'react';\r\nimport Icons from \"components/Icons/Icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nfunction PickupDetails({bank, items}) {\r\n    const delivery_pickup_items = items.length > 0 ? items.filter(x => x.info.delivery_pickup.includes('both')) : [];\r\n    const delivery_items = items.length > 0 ? items.filter(x => x.info.delivery_pickup ==='delivery') : [];\r\n    const pickup_items = items.filter(x => x.info.delivery_pickup ==='pickup');\r\n    return (\r\n        <div className=\"pickup-confirm\">\r\n            <p className=\"title is-5\">Pickup Address</p>\r\n            <p className=\"subtitle is-6\">{bank.foodbank_address}</p>\r\n            <div className=\"space-1\"></div>\r\n            {delivery_items.length > 0 ? \r\n            <NoPickUp items={delivery_items} /> : \"\"\r\n            }\r\n        </div>\r\n    );\r\n}\r\nconst NoPickUp = ({items}) => {\r\n    let html = '';\r\n    var i = 0;\r\n    for (i; i < items.length-1; i++){\r\n        html += \" \" + items[i].info.food_name + \",\";\r\n    }\r\n    html += \" \" + items[i].info.food_name;\r\n    return (\r\n        <div>\r\n        <span className=\"subtitle is-6 has-text-danger\">Pick up is not available for the following item(s): </span>\r\n        <span className=\"subtitle is-6 \">{html}\r\n        </span>\r\n        </div>\r\n    );\r\n}\r\nexport default PickupDetails;","import React, { useState, useRef, forwardRef, useEffect, useContext } from \"react\";\r\n// import icons\r\nimport Icons from \"components/Icons/Icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n// import calendar\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport addDays from \"date-fns/addDays\";\r\n// import other components\r\nimport useField from \"components/Hooks/useField\";\r\nimport InputField from \"components/Form/InputField\";\r\nimport Messages from \"components/Notifications/Messages\";\r\nimport CustomerDetails from \"pages/Checkout/CustomerDetails\";\r\nimport DeliveryDetails from \"pages/Checkout/DeliveryDetails\";\r\nimport StateAPI from \"API/StateAPI\";\r\nimport PickupDetails from \"./PickupDetails\";\r\nimport {\r\n  useRouteMatch,\r\n  useHistory,\r\n  useParams,\r\n  Link,\r\n  useLocation,\r\n  withRouter,\r\n} from \"react-router-dom\";\r\n// import hooks\r\nimport { usePosition } from 'use-position';\r\n\r\n\r\n// use San Jose, CA as the default center\r\nconst DEFAULT_LATITUDE = 37.338208;\r\nconst DEFAULT_LONGITUDE = -121.886329;\r\n\r\nfunction CheckoutForm({ bank, items }) {\r\n  let history = useHistory();\r\n  // get browser's geo position\r\n  const watch = true;\r\n  const { latitude, longitude, error } = usePosition(watch, {enableHighAccuracy: true});\r\n  const position = !error ? [latitude, longitude] : [DEFAULT_LATITUDE, DEFAULT_LONGITUDE];\r\n  \r\n  \r\n  const [hidden, setHidden] = useState(\"hidden\"); // to hide error msg\r\n  // filter delivery items\r\n  const delivery_items = items.filter((x) =>\r\n    x.info.delivery_pickup.includes(\"delivery\")\r\n  );\r\n  \r\n  // filter pickup items\r\n  const pickup_items = items.filter((x) =>\r\n    x.info.delivery_pickup.includes(\"pickup\")\r\n  );\r\n  const [activeTab, setActiveTab] = useState(delivery_items.length ? 'delivery' : 'pickup');\r\n\r\n  // inputs\r\n  const fname = useField(\"First Name\", \"text\");\r\n  const lname = useField(\"Last Name\", \"text\");\r\n  const phone = useField(\"Phone Number\", \"tel\");\r\n  const email = useField(\"Email\", \"email\");\r\n  const dateTime = useDateTime();\r\n  const street = useField(\"Street\", \"text\");\r\n  const city = useField(\"City\", \"text\");\r\n  const state = useField(\"Select a state\", \"text\");\r\n  const zip = useField(\"Zip\", \"text\");\r\n  const switchUserInfo = useField(\"Use my current information\", \"switch\");\r\n  const switchUserAddress = useField(\"Use my current address\", \"switch\");\r\n  const checkbox = useField(\r\n    \"I want my delivery as soon as possible\",\r\n    \"checkbox\"\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (checkbox.value || dateTime.startDate) setHidden(\"hidden\");\r\n  }, [checkbox.value || dateTime.startDate]);\r\n\r\n  const userInfo = JSON.parse(window.localStorage.getItem('userInfo'));\r\n  useEffect(() => {\r\n    console.log(switchUserInfo.value);\r\n    if (switchUserInfo.value){\r\n      fname.setValue(userInfo.firstName);\r\n      lname.setValue(userInfo.lastName);\r\n      phone.setValue(userInfo.phoneNumber.replace(/\\D/g, \"\"));\r\n      email.setValue(userInfo.email);\r\n    }else {\r\n      fname.setValue('');\r\n      lname.setValue('');\r\n      phone.setValue('');\r\n      email.setValue('');\r\n    }\r\n\r\n  },[switchUserInfo.value]);\r\n  useEffect(() => {\r\n\r\n    if (switchUserAddress.value){\r\n      street.setValue(userInfo.address1);\r\n      city.setValue(userInfo.city);\r\n      state.setValue(userInfo.state);\r\n      zip.setValue(userInfo.zip);\r\n    }else {\r\n      street.setValue('');\r\n      city.setValue('');\r\n      state.setValue('');\r\n      zip.setValue('');\r\n    }\r\n\r\n  },[switchUserAddress.value]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    let formIsValid = true;\r\n    if (!fname.validate()) formIsValid = false;\r\n    if (!lname.validate()) formIsValid = false;\r\n    if (!email.validate()) formIsValid = false;\r\n    if (!phone.validate()) formIsValid = false;\r\n\r\n    if (activeTab === \"delivery\") {\r\n      if (!street.validate()) formIsValid = false;\r\n      if (!city.validate()) formIsValid = false;\r\n      if (!state.validate()) formIsValid = false;\r\n      if (!zip.validate()) formIsValid = false;\r\n      if (!checkbox.value && !dateTime.startDate) {\r\n        formIsValid = false;\r\n        setHidden(\"\");\r\n      }\r\n    }\r\n    // here we write data to local storage and redirect user after checking that form is valid\r\n    if (formIsValid) {\r\n      console.log(\"All inputs are valid\");\r\n      const date = dateTime.startDate ? formatDate(dateTime.startDate) : \"ASAP\";\r\n      const total = totalAmount(items);\r\n   \r\n      let unconfirmed_order = {\r\n        isSent: false,\r\n        order_id: \"\",\r\n        customer_id: \"\",\r\n        phone: phone.value.replace(/\\D/g, \"\"),\r\n        email: email.value,\r\n        street: street.value,\r\n        city: city.value,\r\n        state: state.value,\r\n        zipcode: zip.value.toString(),\r\n        totalAmount: total,\r\n        delivery_note: \"\",\r\n        kitchen_id: bank.foodbank_id,\r\n        kitchen_name: bank.fb_name,\r\n        kitchen_address: bank.foodbank_address,\r\n        longitude: position[1],\r\n        latitude: position[0],\r\n        delivery_date: date,\r\n        order_type: items[0].info.delivery_pickup,\r\n        ordered_items: items,\r\n      };\r\n\r\n      window.localStorage.setItem( // write new data to local storage\r\n        \"unconfirmed_order\",\r\n        JSON.stringify(unconfirmed_order)\r\n      );\r\n      history.push(\"/order/cart/confirm\"); // redirect\r\n    } else {\r\n      console.log(\"Some inputs are invalid\");\r\n    }\r\n\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div className=\"delivery-confirm\">\r\n        <p className=\"title is-5\">Customer Information</p>\r\n        {/*  get user name, email ,phone */}\r\n        <CustomerDetails\r\n          fname={fname}\r\n          lname={lname}\r\n          email={email}\r\n          phone={phone}\r\n          switchUserInfo={switchUserInfo}\r\n        />\r\n        <div className=\"divider\"></div>\r\n        {/* choose pickup or delivery */}\r\n        <p className=\"title is-5\">Delivery Method</p>\r\n        <div className=\"tabs is-toggle is-fullwidth is-medium\">\r\n          <ul>\r\n            <li\r\n              className={activeTab === \"delivery\" ? \"is-active\" : \"\"}\r\n              onClick={() => setActiveTab(\"delivery\")}\r\n            >\r\n              <a>\r\n                <span className=\"uppercase\">Delivery</span>\r\n              </a>\r\n            </li>\r\n            <li\r\n              className={activeTab === \"pickup\" ? \"is-active\" : \"\"}\r\n              onClick={() => setActiveTab(\"pickup\")}\r\n            >\r\n              <a>\r\n                <span className=\"uppercase\">Pick Up</span>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        {activeTab === \"delivery\" ? (\r\n          <div>\r\n            <p className=\"title is-5\">Delivery Address</p>\r\n            <DeliveryDetails\r\n              street={street}\r\n              city={city}\r\n              state={state}\r\n              zip={zip}\r\n              switchUserAddress={switchUserAddress}\r\n            />\r\n            <div className=\"divider\"></div>\r\n            <p className=\"title is-5\">Delivery Options</p>\r\n            <div className=\"field is-horizontal\">\r\n              <div className=\"field-body\">\r\n                <div className=\"field\">\r\n                  <div className=\"control\">\r\n                    <DatePicker\r\n                      selected={\r\n                        checkbox.value === true ? null : dateTime.startDate\r\n                      }\r\n                      value={dateTime.startDate}\r\n                      onChange={(date) => dateTime.onChange(date)}\r\n                      minDate={dateTime.minDate}\r\n                      showTimeSelect\r\n                      customInput={<DateTimeInput />}\r\n                      dateFormat=\"MMMM d, yyyy h:mm aa\"\r\n                      placeholderText={\r\n                        checkbox.value === true\r\n                          ? \"No date selected\"\r\n                          : \"Select a date and time\"\r\n                      }\r\n                      disabled={checkbox.value === true ? true : false}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"right-most\">\r\n                  <InputField props={checkbox} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* if user submits the form and no delivery time is selected, this error message is displayed.\r\n        if the error message is showing and user selects a delivery time, hid the error message */}\r\n            <div className={hidden}>\r\n              <div className=\"space-1\"></div>\r\n              <div className=\"error-msg\">\r\n                {Messages.Danger(\r\n                  \"Please make sure that you schedule a delivery date or soonest delivery.\"\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <PickupDetails bank={bank} items={items} />\r\n        )}\r\n      </div>\r\n      <div className=\"space-1\"></div>\r\n      {/* checkout button */}\r\n      <div className=\"field right-most\">\r\n        <div className=\"control\">\r\n          <button\r\n            className=\"button is-success\"\r\n            disabled={\r\n              (activeTab === \"delivery\" &&\r\n                pickup_items.length ) ||\r\n              (activeTab === \"pickup\" &&\r\n                delivery_items.length)\r\n                ? true\r\n                : false\r\n            }\r\n          >\r\n            <span className=\"uppercase\">Place Order</span>\r\n            <span className=\"icon\">\r\n              <FontAwesomeIcon icon={Icons.faLongArrowAltRight} />\r\n            </span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"space-2-5\"></div>\r\n    </form>\r\n  );\r\n}\r\n// calculate total $ of order\r\nconst totalAmount = (items) => {\r\n  var total = 0;\r\n  items.forEach((x) => {\r\n    total += x.amount;\r\n  });\r\n  return total;\r\n};\r\n\r\nconst DateTimeInput = forwardRef((props, ref) => {\r\n  return (\r\n    <div className=\"field\">\r\n      <div className=\"control has-icons-right\">\r\n        <input\r\n          ref={ref}\r\n          className=\"input\"\r\n          type=\"text\"\r\n          placeholder={props.placeholder}\r\n          value={props.value}\r\n          id={props.id}\r\n          onClick={props.onClick}\r\n          readOnly\r\n          disabled={props.disabled}\r\n        />\r\n        <span className=\"icon is-small is-right\">\r\n          <FontAwesomeIcon icon={Icons.faCalendarAlt} />\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst useDateTime = () => {\r\n  const [startDate, setStartDate] = useState(null);\r\n  const onChange = (date) => {\r\n    setStartDate(date);\r\n  };\r\n  const minDate = addDays(new Date(), 2);\r\n\r\n  return {\r\n    startDate,\r\n    onChange,\r\n    minDate,\r\n  };\r\n};\r\n\r\nfunction formatDate(date) {\r\n  const dayNames = [\r\n    \"Monday\",\r\n    \"Tuesday\",\r\n    \"Wednesday\",\r\n    \"Thursday\",\r\n    \"Friday\",\r\n    \"Saturday\",\r\n    \"Sunday\",\r\n  ];\r\n  const monthNames = [\r\n    \"January\",\r\n    \"February\",\r\n    \"March\",\r\n    \"April\",\r\n    \"May\",\r\n    \"June\",\r\n    \"July\",\r\n    \"August\",\r\n    \"September\",\r\n    \"October\",\r\n    \"November\",\r\n    \"December\",\r\n  ];\r\n  var hours = date.getHours();\r\n  var minutes = date.getMinutes();\r\n  var ampm = hours >= 12 ? \"pm\" : \"am\";\r\n  hours = hours % 12;\r\n  hours = hours ? hours : 12; // the hour '0' should be '12'\r\n  minutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n  var strTime = hours + \":\" + minutes + \" \" + ampm;\r\n  return (\r\n    date.getMonth() +\r\n    1 +\r\n    \"/\" +\r\n    date.getDate() +\r\n    \"/\" +\r\n    date.getFullYear() +\r\n    \" \" +\r\n    strTime\r\n  ).toUpperCase();\r\n}\r\n\r\nexport default withRouter(CheckoutForm);\r\n","import React, {useState} from 'react';\r\nimport EmptyCartPage from 'pages/Error/EmptyCartPage';\r\nimport Carousel from \"pages/Checkout/Carousel\";\r\nimport ScrollToTopOnMount from \"utils/Scroll/ScrollToTopOnMount\";\r\nimport CheckoutForm from \"pages/Checkout/CheckoutForm\";\r\nimport './style.css';\r\nimport { useOurApi } from 'API/useOurApi';\r\nimport LoadingPage from 'pages/Error/LoadingPage';\r\nimport ErrorPage from 'pages/Error/ErrorPage';\r\n\r\nfunction CheckoutPage(){\r\n    console.log(\"checkout\");\r\n    // retrieve cart items from local storage\r\n    const cart = JSON.parse(window.localStorage.getItem('cart')) || {};\r\n    const bankId = cart.bankId ? cart.bankId : \"\";\r\n    const cartItems = cart.items ? cart.items : [];\r\n    // retrieve bank \r\n    const url = `https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/foodbankinfonew/${bankId}`\r\n    const { data, isLoading, hasError } = useOurApi(url, {});\r\n    const bank = data.result;\r\n\r\n    const [key, setKey] = useState(1);\r\n    window.addEventListener(\"storage\", () => {\r\n        setKey(key + 1);\r\n    });\r\n    if (cartItems.length === 0) return <EmptyCartPage />;\r\n    if (isLoading) return <LoadingPage />\r\n    if (hasError) return <ErrorPage />\r\n    return (\r\n    <div className=\"checkout-page\">\r\n        <div className=\"checkout-page-layer\">\r\n            <ScrollToTopOnMount />\r\n            <div className=\"checkout-page-content\">\r\n                <div className=\"checkout-page-title\">\r\n                <p className=\"title is-4\">{bank.fb_name}</p>\r\n                </div>\r\n                <div key={key} className=\"checkout-page-body\">\r\n                    <div className=\"order-items\">\r\n                    <Carousel itemList={cartItems} />\r\n                    </div>\r\n                    <div className=\"order-confirm fade-in-quick\">\r\n                        <CheckoutForm bank={bank} items={cartItems} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n      </div>\r\n    );\r\n}\r\nexport default CheckoutPage;","import React, { useState, useContext } from \"react\";\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useRouteMatch,\r\n    useParams,\r\n    useHistory\r\n  } from \"react-router-dom\";\r\n\r\nimport axios from 'axios';\r\nimport \"pages/styles.css\";\r\nimport useField from \"components/Hooks/useField\";\r\nimport InputField from \"components/Form/InputField\";\r\nimport Icons from \"components/Icons/Icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport FarmersMarket from 'assets/image/farmers-market.jpg';\r\n// import Notifications from \"components/Notifications/Notifications\";\r\n// import LoginLayout from \"pages/Login/LoginLayout.js\";\r\nimport FacebookLogin from \"react-facebook-login\";\r\nimport GoogleLogin from \"react-google-login\"\r\n\r\nimport { OrderContext }  from 'components/Context/OrderContext';\r\n\r\nfunction LoginPage() {\r\n    const context = useContext(OrderContext);\r\n\r\n    const history = useHistory();\r\n\r\n    const email = useField(\"Email\",\"email\");\r\n    const password = useField(\"Password\",\"password\");\r\n    // let onLoginPage = true;\r\n\r\n    async function grabSocialUserInfo(email) {\r\n        // try {\r\n        //     let response = await axios.get(\"${API_URL}/${email}\");\r\n        //     console.log(response);\r\n        //     if (response.status === 200) {\r\n        //         Depending on how i get the data, this might look different\r\n        //     }\r\n        //     Check if user exists in direct login database table\r\n        //     return null if it does, then setError(\"User already exists as a direct login account\")\r\n    }\r\n    \r\n    const responseFacebook = async response => {\r\n        console.log(\"User has tried to login through Facebook..\");\r\n        if (response.email) {\r\n            const email = response.email;\r\n            const access = response.accessToken;\r\n            const refresh = response.id;\r\n            const name = response.name.split(\" \");\r\n            const last_name = name[name.length - 1];\r\n            let first_name = \"\";\r\n            for (let i = 0; i < name.length - 1; i++) {\r\n                first_name += name[i] + \" \";\r\n            }\r\n            first_name = first_name.slice(0, -1);\r\n            // let data = await grabSocialUserInfo(email); // gets social user data, returns null if data doesn't exist\r\n            let data = null; // temp value\r\n\r\n            if (!data) {\r\n                // new user, send them to social signup page\r\n                console.log(\"Data not found..\");\r\n                history.push({\r\n                    pathname: \"/signup/social\",\r\n                    state: {\r\n                        lastname: last_name,\r\n                        firstname: first_name,\r\n                        email: email,\r\n                        social: \"Facebook\",\r\n                        accessToken: access,\r\n                        refreshToken: refresh,\r\n                        // SOCIAL_API_URL: `${props.SOCIAL_API_URL}acc`\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                console.log(\"Data:\", data);\r\n                // user logged in, update user data & status\r\n            }\r\n        }\r\n    }\r\n\r\n    const responseGoogle = async response => {\r\n        console.log(\"User has tried to login through Google..\");\r\n        if (response.profileObj) {\r\n            const email = response.profileObj.email;\r\n            const access = response.accessToken;\r\n            const refresh = response.googleId;\r\n            const first_name = response.profileObj.givenName;\r\n            const last_name = response.profileObj.familyName;\r\n            // let data = await grabSocialUserInfo(email); // get social data, returns null if user doesn't exist yet\r\n            let data = null; // temp value\r\n            \r\n            if (!data) {\r\n                // new user, send them to social signup page\r\n                console.log(\"Data not found..\");\r\n                history.push({\r\n                    pathname: \"/signup/social\",\r\n                    state: {\r\n                        lastname: last_name,\r\n                        firstname: first_name,\r\n                        email: email,\r\n                        social: \"Google\",\r\n                        accessToken: access,\r\n                        refreshToken: refresh,\r\n                        // SOCIAL_API_URL: `${props.SOCIAL_API_URL}acc`\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                console.log(\"Data:\", data);\r\n                // user logged in, update user data & status\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n    };\r\n\r\n    const handleClick = () => {\r\n        console.log(\"User has tried to login..\")\r\n        email.validate();\r\n        password.validate();\r\n        if (email.validate() && password.validate()) {\r\n            console.log(\"we did it!\");\r\n            checkLogin();\r\n        }\r\n        else {\r\n            console.log(\"User has failed to login..\");\r\n        }\r\n    }\r\n\r\n    async function grabLoginInfoForUser(userEmail, userPassword) {\r\n        // For testing...\r\n        // console.log(\"running function grabLoginInfoForUser()..\");\r\n        // console.log(\r\n        //             \"Email:\", (userEmail ? userEmail : undefined), \r\n        //             \"Password:\", (userPassword ? userPassword : undefined)\r\n        //             );\r\n\r\n        // Code here\r\n    }\r\n\r\n    const [error, setError] = useState(null);\r\n    function checkLogin() {\r\n        // For testing...\r\n        // console.log(\"running function checkLogin()..\")\r\n\r\n        // get user data based on email and password inputs\r\n        // grabLoginInfoForUser(email.value, password.value).then(response => {\r\n        //     login(response);\r\n        // }).catch(err => {\r\n        //     // For testing...\r\n        //     console.log(\"uh oh error \", err.response)\r\n\r\n        //     // Code here\r\n        // })\r\n\r\n\r\n        const data = {\r\n            \"email\": email.value,\r\n            \"password\": password.value,\r\n        }\r\n\r\n        axios.post(\r\n            \"https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/login\", \r\n            data\r\n        ).then(response => {\r\n            console.log(response);\r\n            if (response.status === 200 && response.data.auth_success) {\r\n                if (response.data.result.result[0].ctm_email_verify) {\r\n                    let first_name = response.data.result.result[0].ctm_first_name;\r\n                    let last_name = response.data.result.result[0].ctm_last_name;\r\n                    let phone = response.data.result.result[0].ctm_phone;\r\n                    \r\n                    let address1 = response.data.result.result[0].ctm_address1;\r\n                    let address2 = response.data.result.result[0].ctm_address2;\r\n                    let city = response.data.result.result[0].ctm_city;\r\n                    let state = response.data.result.result[0].ctm_state;\r\n                    let zipcode = response.data.result.result[0].ctm_zipcode;\r\n                    let email = response.data.result.result[0].ctm_email;\r\n                    \r\n                    let join_date = response.data.result.result[0].ctm_join_date;\r\n                    let uid = response.data.result.result[0].ctm_id;\r\n                    let login_id = response.data.login_attempt_log.login_id;\r\n                    let session_id = response.data.login_attempt_log.session_id;\r\n\r\n                    // setLoginInfo(prevState => ({...prevState, \r\n                    //     firstName: first_name,\r\n                    //     lastName: last_name,\r\n                    //     phoneNumber: phone,\r\n                    //     address1: address1,\r\n                    //     address2: address2,\r\n                    //     city: city,\r\n                    //     state: state,\r\n                    //     zip: zipcode,\r\n                    //     email: email,\r\n\r\n                    //     joinDate: join_date,\r\n                    //     userID: uid,\r\n                    //     loginID: login_id,\r\n                    //     sessionID: session_id,\r\n                    // }));\r\n\r\n                    let userInfo = {\r\n                        firstName: first_name,\r\n                        lastName: last_name,\r\n                        phoneNumber: phone,\r\n                        address1: address1,\r\n                        address2: address2,\r\n                        city: city,\r\n                        state: state,\r\n                        zip: zipcode,\r\n                        email: email,\r\n\r\n                        joinDate: join_date,\r\n                        userID: uid,\r\n                        loginID: login_id,\r\n                        sessionID: session_id,\r\n                    }\r\n                    window.localStorage.setItem('userInfo', JSON.stringify(userInfo));\r\n                    \r\n                    // Context API stuff here!\r\n                    context.setIsAuth(true);\r\n                    history.push('/');\r\n                }\r\n                else {\r\n                    setError(\"Please verify your email before logging in\");\r\n                }\r\n            }\r\n        }).catch(err => {\r\n            // console.log(err);\r\n            setError(\"Invalid email or password\");\r\n            // if (error.response.status === 500) setError(\"Failed to connect to the server, please try again later\");\r\n            // else if (error.response.status === 401) setError(\"Invalid password\");\r\n            // else if (error.response.status === 400) {\r\n            //     axios.get(\"${API_URL}/${email.value}\").then(response => {\r\n            //         setError(\"User already exists as a ${response.data.social} account\");\r\n            //     }).catch(err => {\r\n            //         setError(\"User does not exist, please create an account\");\r\n            //     })\r\n            // }\r\n            // // In case any other errors i don't know about appear during testing\r\n            // else {\r\n            //     setError(\"Error ${error.response.status} :\", error.data.message);\r\n            // }\r\n        })\r\n    }\r\n\r\n    function login(response) {\r\n        // For testing...\r\n        // console.log(\"running function login()..\");\r\n        // console.log(\"Response:\", response);\r\n\r\n        // Code here\r\n        if(response) {\r\n            // user has logged in, update user data and login status\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-signup-page\">\r\n            {/* Login image */}\r\n            <figure className=\"image is-3by1 has-margin-bottom-0-5\" style={{width: \"100%\"}}>\r\n                <img src={FarmersMarket}></img>\r\n            </figure>\r\n            {/* Login Form */}\r\n            <form onSubmit={handleSubmit} style={{width: \"400px\", maxWidth: \"100%\"}}>\r\n                <div className=\"column\">\r\n                    {/* Facebook and Google login go here */}\r\n                    <div className=\"has-text-centered has-margin-bottom-0-5\">\r\n                        <span className=\"has-margins-0-5\">\r\n                            <FacebookLogin\r\n                                appId='235300190881746'\r\n                                autoLoad={false}\r\n                                fields='name,email,picture'\r\n                                onClick='return false'\r\n                                callback={responseFacebook}\r\n                                size='small'\r\n                                textButton='FB Login'\r\n                            />\r\n                        </span>\r\n                        <span className=\"has-margins-0-5\">\r\n                            {/* <GoogleLogin\r\n                                clientId={null} // Not set up yet\r\n                                buttonText='Login'\r\n                                onSuccess={responseGoogle}\r\n                                onFailure={responseGoogle}\r\n                                isSignedIn={false}\r\n                                disable={false}\r\n                                cookiePolicy={\"single_host_origin\"}\r\n                            /> */}\r\n                        </span>\r\n                    </div>\r\n                    {/* Email input */}\r\n                    <InputField props={email} icon={Icons.faEnvelope} />\r\n                    {/* Password input */}\r\n                    <InputField props={password} icon={Icons.faLock} />\r\n                    {/* Error message */}\r\n                    {error && (\r\n                        <p className=\"has-text-centered has-text-danger\">{error}</p>\r\n                    )}\r\n                    {/* Buttons */}\r\n                    <div className=\"has-text-centered has-margin-bottom-0-5\">\r\n                        <button className=\"button is-success has-margins-0-5\" onClick={handleClick}>Login</button>\r\n                        <Link to=\"/signup\" >\r\n                            <button className=\"button is-success has-margins-0-5\">Sign Up</button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LoginPage;\r\n","/* Signup + Social Signup page TODO for me (Hao):\r\n *   Create seperate FamilyMembers & DietaryRestrictions Components\r\n *     Both signup pages are cluttered, this would make them more readable\r\n *     MAKE SURE WHEN USER SUBMITS, COMPONENT VALIDATE THEIR INPUTS\r\n *       How do I do this?\r\n */\r\n\r\nimport React, { useState } from \"react\";\r\n\r\nimport {\r\n    // BrowserRouter as Router,\r\n    // Switch,\r\n    // Route,\r\n    // Link,\r\n    // useRouteMatch,\r\n    // useParams,\r\n    useHistory\r\n  } from \"react-router-dom\";\r\n\r\nimport axios from 'axios';\r\n// import history from 'pages/App/History';\r\n\r\nimport StateAPI from 'API/StateAPI';\r\nimport \"pages/styles.css\";\r\nimport useField from \"components/Hooks/useField\";\r\nimport InputField from \"components/Form/InputField\";\r\nimport Select from 'components/Form/Select';\r\nimport ScrollToTopOnMount from \"utils/Scroll/ScrollToTopOnMount\";\r\nimport Icons from \"components/Icons/Icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n// import Notifications from \"components/Notifications/Notifications\";\r\n// import SignupLayout from \"pages/Signup/SignupLayout.js\";\r\n// import FarmersMarket from 'assets/image/farmers-market.jpg';\r\n\r\nfunction SignupPage() {\r\n    const states = StateAPI();\r\n    const history = useHistory();\r\n\r\n    const inputs = {\r\n        firstName : useField(\"First Name\", \"text\"),\r\n        lastName : useField(\"Last Name\",\"text\"),\r\n        dob : useField(\"Date of Birth\", \"date\"),\r\n        phoneNumber : useField(\"Phone Number\", \"tel\"),\r\n        email : useField(\"Email Address\", \"email\"),\r\n        emailConfirm : useField(\"Confirm Email\", \"email\"),\r\n        password : useField(\"Password\",\"password\"),\r\n        passwordConfirm : useField(\"Confirm Password\", \"password\"),\r\n        address_1 : useField(\"Address 1\", \"text\"),\r\n        address_2 : useField(\"Address 2\", \"text\", false),\r\n        city : useField(\"City\", \"text\"),\r\n        state : useField(\"State\", \"text\"),\r\n        zip : useField(\"Zip\", \"text\"),\r\n        vegan : useField(\"Vegan\", \"checkbox\"),\r\n        vegetarian : useField(\"Vegetarian\", \"checkbox\"),\r\n        glutenFree : useField(\"Gluten Free\", \"checkbox\"),\r\n        kosher : useField(\"Kosher\", \"checkbox\"),\r\n        halal : useField(\"Halal\", \"checkbox\"),\r\n        none : useField(\"None\", \"checkbox\"),\r\n\r\n        license: useField(\"Drivers License\", \"text\", false),\r\n        licenseImg: useField(\"License Image\", \"file\", false),\r\n        monthlyIncome : useField(\"Monthly Income\", \"number\", false),\r\n    }\r\n\r\n    const addition = {\r\n        a_firstName : useField(\"First Name\", \"text\"),\r\n        a_lastName : useField(\"Last Name\", \"text\"),\r\n        a_dob : useField(\"Date of Birth\", \"date\"),\r\n    }\r\n\r\n    const [hidden, setHidden] = useState(\"hidden\");\r\n    let hasRestrictions = inputs.vegan.value || inputs.vegetarian.value\r\n                       || inputs.glutenFree.value || inputs.kosher.value \r\n                       || inputs.halal.value;\r\n    let noneSelected = !!inputs.none.value;\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    const handleKeyPress = (e) => {\r\n        if (e.which === 13) {\r\n            e.preventDefault();\r\n        }\r\n    }\r\n\r\n    const validateInputs = () => {\r\n        let isAllValid = true;\r\n        for (let input in inputs) {\r\n            if (!inputs[input].validate()) {\r\n                isAllValid = false;\r\n            }\r\n        }\r\n        return isAllValid;\r\n    }\r\n\r\n    const handleClick = () => {\r\n        console.log(\"User has tried to sign up..\")\r\n        let isAllValid = validateInputs();\r\n        if (!inputs.none.value && !hasRestrictions) setHidden(\"\");\r\n        \r\n        // Checking if user filled all required inputs\r\n        let signupPassed = (inputs.none.value || hasRestrictions) && isAllValid;\r\n        if (signupPassed) {\r\n            // Checking if email/password matches its confirmed\r\n            if(inputs.email.value !== inputs.emailConfirm.value) {\r\n                // Email mismatch error message goes here\r\n                console.log(\"Email mismatch.\");\r\n                signupPassed = false;\r\n            }\r\n            if(inputs.password.value !== inputs.passwordConfirm.value) {\r\n                // Password mismatch error message goes here\r\n                console.log(\"Password mismatch.\");\r\n                signupPassed = false;\r\n            }\r\n        }\r\n\r\n        if(signupPassed) {\r\n            // Testing to see if all values went through\r\n            let data = {};\r\n            for (let input in inputs) {\r\n                // console.log(input + \":\", inputs[input].value);\r\n                if (inputs[input].type !== \"file\") data[input] = inputs[input].value;\r\n                else data[input] = inputs[input].file;\r\n            }\r\n            // console.log(\"persons\" + \":\", persons);\r\n            data[\"persons\"] = persons;\r\n            console.log(\"Data:\", data);\r\n            console.log(\"we did it!\");\r\n            let test = {\r\n                \"first_name\" : inputs.firstName.value,\r\n                \"last_name\" : inputs.lastName.value,\r\n                \"address1\" : inputs.address_1.value,\r\n                \"address2\" : inputs.address_2.value,\r\n                \"city\" : inputs.city.value,\r\n                \"state\" : inputs.state.value,\r\n                \"zipcode\" : inputs.zip.value,\r\n                \"phone\" : inputs.phoneNumber.value,\r\n                \"email\" : inputs.email.value,\r\n                \"password\": inputs.password.value\r\n            }\r\n            console.log(\"Test:\", test);\r\n            axios.post(\r\n                \"https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/signup\", \r\n                test\r\n            ).then(response => {\r\n                console.log(response);\r\n                if (response.status === 200) {\r\n                    // Send to verify email page\r\n                    history.push('/signup/verify');\r\n                }\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        }\r\n        else {\r\n            console.log(\"Sign up failed...\");\r\n        }\r\n    }\r\n\r\n    // Testing adding additional people\r\n    const [persons, setPersons] = useState([]);\r\n    const [showForm, setShowForm] = useState(false);\r\n\r\n    const savePerson = () => {\r\n        let data = [\r\n            addition.a_firstName.value, \r\n            addition.a_lastName.value, \r\n            addition.a_dob.value, \r\n        ]\r\n        let isAllValid = true;\r\n        for (let input in addition) {\r\n            if (!addition[input].validate()) {\r\n                isAllValid = false;\r\n            }\r\n        }\r\n        if (isAllValid) {\r\n            persons.push(data);\r\n            setPersons([...persons]);\r\n            \r\n            clearPersonForm();\r\n            console.log(persons);\r\n        }\r\n    }\r\n\r\n    const delPerson = (idx) => {\r\n        persons.splice(idx, 1);\r\n        console.log(idx);\r\n        console.log(persons);\r\n        setPersons([...persons]);\r\n    }\r\n\r\n    const clearPersonForm = () => {\r\n        for (let input in addition) {\r\n            addition[input].resetinput();\r\n        }\r\n        setShowForm(false);\r\n    }\r\n\r\n    function listPersons() {\r\n        return (\r\n            <div className=\"column\">\r\n                {persons.map((person, idx) => (\r\n                    <p key={idx}>\r\n                        {person[0] + ' ' + person[1]} <button onClick={() => delPerson(idx)}> X </button>\r\n                    </p>\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-signup-page signup-background-image\">\r\n            <form onSubmit={handleSubmit} onKeyPress={handleKeyPress} style={{width: \"720px\", maxWidth: \"100%\"}}>\r\n                <div className=\"column has-text-black\">\r\n                    {/* Asking for user data */}\r\n                    <div>\r\n                        <p className=\"subtitle is-1 has-margin-top-1 has-text-centered has-text-black\">Sign Up</p>\r\n                        <div className=\"columns has-margin-top-1\">\r\n                            <div className=\"column\">\r\n                                <InputField props={inputs.firstName} />\r\n                            </div>\r\n                            <div className=\"column\">\r\n                                <InputField  props={inputs.lastName} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"columns\">\r\n                            <div className=\"column is-8\">\r\n                                {/* Adding [+1] phone number button */}\r\n                                <div className=\"field-body\">\r\n                                    <div className=\"field is-expanded\">\r\n                                        <div className=\"field has-addons\">\r\n                                            <div className=\"control\">\r\n                                                <a className=\"button is-static\">+1</a>\r\n                                            </div>\r\n                                            <div className=\"control is-expanded\">\r\n                                                <InputField props={inputs.phoneNumber} />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"column\">\r\n                                <InputField  props={inputs.dob} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"columns\">\r\n                            <div className=\"column\">\r\n                                <InputField props={inputs.email} />\r\n                            </div>\r\n                            <div className=\"column\">\r\n                                <InputField  props={inputs.emailConfirm} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"columns\">\r\n                            <div className=\"column\">\r\n                                <InputField  props={inputs.password} />\r\n                            </div>\r\n                            <div className=\"column\">\r\n                                <InputField props={inputs.passwordConfirm} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <hr className=\"is-light-gray\"/>\r\n                    {/* Asking for user address */}\r\n                    <div>\r\n                        <p className=\"subtitle is-3 has-margin-top-1 has-text-centered has-text-black\">Would you like to add a permanent address?</p>\r\n                        <p className=\"subtitle is-4 has-text-centered has-text-black\">Or <u>use my current location</u> instead.</p>\r\n                        <p className=\"subtitle is-4 has-margin-top-1 has-text-centered has-text-black\">Add An Address</p>\r\n                        <div className=\"columns has-margin-top-1\">\r\n                            <div className=\"column\">\r\n                                <InputField props={inputs.address_1} />\r\n                            </div>\r\n                            <div className=\"column\">\r\n                                <InputField  props={inputs.address_2} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"columns\">\r\n                            <div className=\"column\">\r\n                                <InputField  props={inputs.city} />\r\n                            </div>\r\n                            <div className=\"column\">\r\n                                <Select props={inputs.state} data={states.data} />\r\n                            </div>\r\n                            <div className=\"column\">\r\n                                <InputField props={inputs.zip} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {/* testing adding additional people inputs */}\r\n                    <hr className=\"is-light-gray\"/>\r\n                    <div>\r\n                        <p className=\"subtitle is-3 has-margin-top-1 has-text-centered has-text-black\">Optional Personal Information</p>\r\n                        <div className=\"columns has-margin-top-1\">\r\n                            <div className=\"column has-text-centered\">\r\n                                {showForm ? (\r\n                                    <React.Fragment>\r\n                                        <button className=\"button is-success has-margins-0-5\" onClick={clearPersonForm}>Cancel</button>\r\n                                        <button className=\"button is-success has-margins-0-5\" onClick={savePerson}>Save</button>\r\n                                    </React.Fragment>\r\n                                ) : (\r\n                                    <button className=\"button is-success has-margins-0-5\" onClick={() => setShowForm(true)}>Add a Family Member</button>\r\n                                )}\r\n                                {showForm && (\r\n                                    <React.Fragment>\r\n                                        <InputField props={addition.a_firstName} />\r\n                                        <InputField props={addition.a_lastName} />\r\n                                        <InputField props={addition.a_dob} />\r\n                                    </React.Fragment>\r\n                                )}\r\n                                <div className=\"box\">\r\n                                    {listPersons()}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"column\">\r\n                                <InputField props={inputs.license} />\r\n                                <div className=\"box\">\r\n                                    <InputField props={inputs.licenseImg} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        {/* Adding $ to income input */}\r\n                        <div className=\"field-body\">\r\n                            <div className=\"field is-expanded\">\r\n                                <div className=\"field has-addons\">\r\n                                    <div className=\"control\">\r\n                                        <a className=\"button is-static\">$</a>\r\n                                    </div>\r\n                                    <div className=\"control is-expanded\">\r\n                                        <InputField props={inputs.monthlyIncome} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <hr className=\"is-light-gray\"/>\r\n                    {/* Asking for dietary restrictions */}\r\n                    <p className=\"right-most\" title=\"Substitutions allow users to choose different items that align with their dietary restrictions to add to their total cart.\">* Opt for substitutions.</p>\r\n                    <p className=\"subtitle is-3 has-text-centered has-text-black\">Dietary Restrictions*</p>\r\n                    <InputField props={inputs.vegan} icon={Icons.Vegan} isDisabled={noneSelected}/>\r\n                    <InputField props={inputs.vegetarian} icon={Icons.Vegetarian} isDisabled={noneSelected} />\r\n                    <InputField props={inputs.glutenFree} icon={Icons.GlutenFree} isDisabled={noneSelected} />\r\n                    <InputField props={inputs.kosher} icon={Icons.Kosher} isDisabled={noneSelected} />\r\n                    <InputField props={inputs.halal} icon={Icons.Halal} isDisabled={noneSelected} />\r\n                    <InputField props={inputs.none} isDisabled={hasRestrictions} />\r\n                    <div className={hidden === \"\" && (inputs.none.value || hasRestrictions === true) ? \"hidden\" : hidden}>\r\n                        <article className=\"message is-danger error-msg\">\r\n                            <div className=\"message-body\">Please select any dietary restrictions you have. If none are applicable, please select N/A.</div>\r\n                        </article>\r\n                    </div>\r\n                    <div className=\"has-text-centered\">\r\n                        <button className=\"button is-success has-margins-0-5\" type=\"button\" onClick={handleClick}>Sign Up</button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\nexport default SignupPage;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport {\r\n    // BrowserRouter as Router,\r\n    // Switch,\r\n    // Route,\r\n    // Link,\r\n    // useRouteMatch,\r\n    // useParams,\r\n    useHistory,\r\n    useLocation\r\n  } from \"react-router-dom\";\r\n\r\nimport axios from 'axios';\r\n// import history from 'pages/App/History';\r\n\r\nimport StateAPI from 'API/StateAPI';\r\nimport \"pages/styles.css\";\r\nimport useField from \"components/Hooks/useField\";\r\nimport InputField from \"components/Form/InputField\";\r\nimport Select from 'components/Form/Select';\r\nimport ScrollToTopOnMount from \"utils/Scroll/ScrollToTopOnMount\";\r\nimport Icons from \"components/Icons/Icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n// import Notifications from \"components/Notifications/Notifications\";\r\n// import SignupLayout from \"pages/Signup/SignupLayout.js\";\r\n// import FarmersMarket from 'assets/image/farmers-market.jpg';\r\n\r\nfunction SignupSocial() {\r\n    const states = StateAPI();\r\n    const location = useLocation();\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [firstname, setFirstName] = useState(\"\");\r\n    const [lastname, setLastName] = useState(\"\");\r\n    const [accessToken, setAccessToken] = useState(\"\");\r\n    const [refreshToken, setRefreshToken] = useState(\"\");\r\n    const [socialMedia, setSocialMedia] = useState(\"\");\r\n\r\n    const phoneNumber = useField(\"Phone Number\", \"tel\");\r\n    const dob = useField(\"Date of Birth\", \"date\");\r\n    const address_1 = useField(\"Address 1\", \"text\");\r\n    const address_2 = useField(\"Address 2\", \"text\", false);\r\n    const city = useField(\"City\", \"text\");\r\n    const state = useField(\"State\", \"text\");\r\n    const zip = useField(\"Zip\", \"text\");\r\n    const vegan = useField(\"Vegan\", \"checkbox\");\r\n    const vegetarian = useField(\"Vegetarian\", \"checkbox\");\r\n    const glutenFree = useField(\"Gluten Free\", \"checkbox\");\r\n    const kosher = useField(\"Kosher\", \"checkbox\");\r\n    const halal = useField(\"Halal\", \"checkbox\");\r\n    const none = useField(\"None\", \"checkbox\");\r\n\r\n    const license= useField(\"Drivers License\", \"text\", false);\r\n    const licenseImg= useField(\"License Image\", \"file\", false);\r\n    const monthlyIncome = useField(\"Monthly Income\", \"number\", false);\r\n\r\n    const a_firstName = useField(\"First Name\", \"text\");\r\n    const a_lastName = useField(\"Last Name\", \"text\");\r\n    const a_dob = useField(\"Date of Birth\", \"date\");\r\n\r\n    const [hidden, setHidden] = useState(\"hidden\");\r\n    const [persons, setPersons] = useState([]);\r\n    const [showForm, setShowForm] = useState(false);\r\n\r\n    let hasRestrictions = vegan.value || vegetarian.value\r\n                       || glutenFree.value || kosher.value \r\n                       || halal.value;\r\n    let noneSelected = !!none.value;\r\n\r\n    useEffect(() => {\r\n        (async function setSignupParams(state) {\r\n            if (state) {\r\n                await setParams(state);\r\n            }\r\n        })(location.state);\r\n    }, []);\r\n    \r\n    function setParams(state) {\r\n        setEmail(state.email);\r\n        setLastName(state.lastname);\r\n        setFirstName(state.firstname);\r\n        setAccessToken(state.accessToken);\r\n        setRefreshToken(state.refreshToken);\r\n        // setSOCIAL_API_URL(state.SOCIAL_API_URL);\r\n        setSocialMedia(state.social);\r\n    }\r\n\r\n    const savePerson = () => {\r\n        let data = [\r\n            a_firstName.value, \r\n            a_lastName.value, \r\n            a_dob.value, \r\n        ]\r\n        let isAllValid = true;\r\n        if (!a_firstName.validate() | !a_lastName.validate() | !a_dob.validate()) {\r\n            isAllValid = false;\r\n        }\r\n\r\n        if (isAllValid) {\r\n            persons.push(data);\r\n            setPersons([...persons]);\r\n            \r\n            clearPersonForm();\r\n            console.log(persons);\r\n        }\r\n    }\r\n\r\n    const delPerson = (idx) => {\r\n        persons.splice(idx, 1);\r\n        console.log(idx);\r\n        console.log(persons);\r\n        setPersons([...persons]);\r\n    }\r\n\r\n    const clearPersonForm = () => {\r\n        a_firstName.resetinput();\r\n        a_lastName.resetinput();\r\n        a_dob.resetinput();\r\n        setShowForm(false);\r\n    }\r\n\r\n    function listPersons() {\r\n        return (\r\n            <div className=\"column\">\r\n                {persons.map((person, idx) => (\r\n                    <p key={idx}>\r\n                        {person[0] + ' ' + person[1]} <button onClick={() => delPerson(idx)}> X </button>\r\n                    </p>\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const validateInputs = () => {\r\n        let isAllValid = true;\r\n        if (!phoneNumber.validate() |\r\n            !dob.validate() |\r\n            !address_1.validate() |\r\n            !address_2.validate() |\r\n            !city.validate() |\r\n            !state.validate() |\r\n            !zip.validate() |\r\n            !vegan.validate() |\r\n            !vegetarian.validate() |\r\n            !glutenFree.validate() |\r\n            !kosher.validate() |\r\n            !halal.validate() |\r\n            !none.validate()) {\r\n            isAllValid = false;\r\n        }\r\n        return isAllValid;\r\n    }\r\n\r\n    const handleClick = () => {\r\n        console.log(\"User has tried to sign up..\")\r\n        let isAllValid = validateInputs();\r\n        if (!none.value && !hasRestrictions) setHidden(\"\");\r\n        \r\n        // Checking if user filled all required inputs\r\n        let signupPassed = (none.value || hasRestrictions) && isAllValid;\r\n\r\n        if(signupPassed) {\r\n            // Testing to see if all values went through\r\n            let data = {};\r\n            // for (let input in inputs) {\r\n            //     // console.log(input + \":\", inputs[input].value);\r\n            //     if (inputs[input].type !== \"file\") data[input] = inputs[input].value;\r\n            //     else data[input] = inputs[input].file;\r\n            // }\r\n            data[\"email\"] = email;\r\n            data[\"firstname\"] = firstname;\r\n            data[\"lastname\"] = lastname;\r\n            data[\"accessToken\"] = accessToken;\r\n            data[\"refreshToken\"] = refreshToken;\r\n            data[\"socialMedia\"] = socialMedia;\r\n\r\n            data[\"phoneNumber\"] = phoneNumber.value;\r\n            data[\"dob\"] = dob.value;\r\n            data[\"address_1\"] = address_1.value;\r\n            data[\"address_2\"] = address_2.value;\r\n            data[\"city\"] = city.value;\r\n            data[\"state\"] = state.value;\r\n            data[\"zip\"] = zip.value;\r\n            data[\"vegan\"] = vegan.value;\r\n            data[\"vegetarian\"] = vegetarian.value;\r\n            data[\"glutenFree\"] = glutenFree.value;\r\n            data[\"kosher\"] = kosher.value;\r\n            data[\"halal\"] = halal.value;\r\n            data[\"none\"] = none.value;\r\n            // console.log(\"persons\" + \":\", persons);\r\n            data[\"persons\"] = persons;\r\n            console.log(\"Data:\", data);\r\n            console.log(\"we did it!\");\r\n            let test = {\r\n                \"first_name\" : firstname.value,\r\n                \"last_name\" : lastname.value,\r\n                \"address1\" : address_1.value,\r\n                \"address2\" : address_2.value,\r\n                \"city\" : city.value,\r\n                \"state\" : state.value,\r\n                \"zipcode\" : zip.value,\r\n                \"phone\" : phoneNumber.value,\r\n                \"email\" : email.value,\r\n                \"accessToken\": accessToken,\r\n                \"refreshToken\": refreshToken,\r\n                \"socialMedia\": socialMedia,\r\n            }\r\n            // axios.post(\r\n            //     \"${API_URL}\", \r\n            //     test\r\n            // ).then(response => {\r\n            //     console.log(response);\r\n            //     if (response.status === 200) {\r\n            //         // Log user in\r\n            //     }\r\n            // }).catch(err => {\r\n            //     console.log(err);\r\n            // });\r\n        }\r\n        else {\r\n            console.log(\"Sign up failed...\");\r\n        }\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    const handleKeyPress = (e) => {\r\n        if (e.which === 13) {\r\n            e.preventDefault();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-signup-page signup-background-image\">\r\n            <form onSubmit={handleSubmit} onKeyPress={handleKeyPress} style={{width: \"720px\", maxWidth: \"100%\"}}>\r\n                <div className=\"column has-text-black\">\r\n                    {/* Asking for user data */}\r\n                    <div>\r\n                        <p className=\"subtitle is-1 has-margin-top-1 has-text-centered has-text-black\">Social Sign Up</p>\r\n                        <div className=\"columns has-margin-top-1\">\r\n                            <div className=\"column\">\r\n                                <input className=\"input\" type=\"text\" value={firstname} readOnly/>\r\n                            </div>\r\n                            <div className=\"column\">\r\n                                <input className=\"input\" type=\"text\" value={lastname} readOnly/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"columns\">\r\n                            <div className=\"column is-8\">\r\n                                {/* Adding [+1] phone number button */}\r\n                                <div className=\"field-body\">\r\n                                    <div className=\"field is-expanded\">\r\n                                        <div className=\"field has-addons\">\r\n                                            <div className=\"control\">\r\n                                                <a className=\"button is-static\">+1</a>\r\n                                            </div>\r\n                                            <div className=\"control is-expanded\">\r\n                                                <InputField props={phoneNumber} />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"column\">\r\n                                <InputField  props={dob} />\r\n                            </div>\r\n                        </div>\r\n                        <input className=\"input\" type=\"text\" value={email} readOnly/>\r\n                    </div>\r\n                    <hr className=\"is-light-gray\"/>\r\n                    {/* Asking for user address */}\r\n                    <div>\r\n                        <p className=\"subtitle is-3 has-margin-top-1 has-text-centered has-text-black\">Would you like to add a permanent address?</p>\r\n                        <p className=\"subtitle is-4 has-text-centered has-text-black\">Or <u>use my current location</u> instead.</p>\r\n                        <p className=\"subtitle is-4 has-margin-top-1 has-text-centered has-text-black\">Add An Address</p>\r\n                        <div className=\"columns has-margin-top-1\">\r\n                            <div className=\"column\">\r\n                                <InputField props={address_1} />\r\n                            </div>\r\n                            <div className=\"column\">\r\n                                <InputField  props={address_2} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"columns\">\r\n                            <div className=\"column\">\r\n                                <InputField  props={city} />\r\n                            </div>\r\n                            <div className=\"column\">\r\n                                <Select props={state} data={states.data} />\r\n                            </div>\r\n                            <div className=\"column\">\r\n                                <InputField props={zip} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {/* testing adding additional people inputs */}\r\n                    <hr className=\"is-light-gray\"/>\r\n                    <div>\r\n                        <p className=\"subtitle is-3 has-margin-top-1 has-text-centered has-text-black\">Optional Personal Information</p>\r\n                        <div className=\"columns has-margin-top-1\">\r\n                            <div className=\"column has-text-centered\">\r\n                                {showForm ? (\r\n                                    <React.Fragment>\r\n                                        <button className=\"button is-success has-margins-0-5\" onClick={clearPersonForm}>Cancel</button>\r\n                                        <button className=\"button is-success has-margins-0-5\" onClick={savePerson}>Save</button>\r\n                                    </React.Fragment>\r\n                                ) : (\r\n                                    <button className=\"button is-success has-margins-0-5\" onClick={() => setShowForm(true)}>Add a Family Member</button>\r\n                                )}\r\n                                {showForm && (\r\n                                    <React.Fragment>\r\n                                        <InputField props={a_firstName} />\r\n                                        <InputField props={a_lastName} />\r\n                                        <InputField props={a_dob} />\r\n                                    </React.Fragment>\r\n                                )}\r\n                                <div className=\"box\">\r\n                                    {listPersons()}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"column\">\r\n                                <InputField props={license} />\r\n                                <div className=\"box\">\r\n                                    <InputField props={licenseImg} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        {/* Adding $ to income input */}\r\n                        <div className=\"field-body\">\r\n                            <div className=\"field is-expanded\">\r\n                                <div className=\"field has-addons\">\r\n                                    <div className=\"control\">\r\n                                        <a className=\"button is-static\">$</a>\r\n                                    </div>\r\n                                    <div className=\"control is-expanded\">\r\n                                        <InputField props={monthlyIncome} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <hr className=\"is-light-gray\"/>\r\n                    {/* Asking for dietary restrictions */}\r\n                    <p className=\"right-most\" title=\"Substitutions allow users to choose different items that align with their dietary restrictions to add to their total cart.\">* Opt for substitutions.</p>\r\n                    <p className=\"subtitle is-3 has-text-centered has-text-black\">Dietary Restrictions*</p>\r\n                    <InputField props={vegan} icon={Icons.Vegan} isDisabled={noneSelected}/>\r\n                    <InputField props={vegetarian} icon={Icons.Vegetarian} isDisabled={noneSelected} />\r\n                    <InputField props={glutenFree} icon={Icons.GlutenFree} isDisabled={noneSelected} />\r\n                    <InputField props={kosher} icon={Icons.Kosher} isDisabled={noneSelected} />\r\n                    <InputField props={halal} icon={Icons.Halal} isDisabled={noneSelected} />\r\n                    <InputField props={none} isDisabled={hasRestrictions} />\r\n                    <div className={hidden === \"\" && (none.value || hasRestrictions === true) ? \"hidden\" : hidden}>\r\n                        <article className=\"message is-danger error-msg\">\r\n                            <div className=\"message-body\">Please select any dietary restrictions you have. If none are applicable, please select N/A.</div>\r\n                        </article>\r\n                    </div>\r\n                    <div className=\"has-text-centered\">\r\n                        <button className=\"button is-success has-margins-0-5\" type=\"button\" onClick={handleClick}>Sign Up</button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\nexport default SignupSocial;","import React from \"react\";\r\nimport \"pages/styles.css\";\r\n// import Layout from \"./layout\";\r\n\r\nconst SignupVerify = () => {\r\n  \r\n  return (\r\n    <div className=\"login-signup-page\">\r\n      {/* <div className=\"container box level\"> */}\r\n        <div className=\"tile is-ancestor\">\r\n          <div className=\"tile is-parent has-margin-top-1\">\r\n            <article className=\"tile box is-child notification is-primary\">\r\n              <h6 className=\"has-text-white has-text-centered\">\r\n                You have successfully created a Feed The Hungry account!<br /><br />\r\n                A confirmation email has been sent to your email address with instructions to help you complete your registration.<br /><br />\r\n                Thank you.\r\n              </h6>\r\n            </article>\r\n          </div>\r\n        </div>\r\n      {/* </div> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignupVerify;","import React from 'react';\r\nimport './style.css';\r\nimport FailedOrder from 'assets/image/failed-order.svg';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Icons from 'components/Icons/Icons';\r\nfunction FailedOrderPage() {\r\n    return(\r\n        <div className=\"not-found-page\">\r\n            <div className=\"not-found-page-body\"> \r\n                <figure class=\"image is-128x128\">\r\n                <img src={FailedOrder} alt=\"Not-found image\"/>\r\n                </figure>   \r\n                <div className=\"not-found-page-content\">\r\n                <p className=\"title is-6 has-text-grey\">Oh no! A problem occurred when we were trying to process your order.</p>\r\n                <p className=\"subtitle is-bold is-6 has-text-grey \">Your order could not be placed.</p>\r\n                <div className=\"space-1-5\"></div>\r\n                <Link to=\"/\"><button className=\"button is-danger\"><span>Contact Support</span></button></Link>\r\n                </div>   \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default FailedOrderPage;","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport { Redirect, useParams, withRouter } from \"react-router-dom\";\r\nimport ErrorPage from \"pages/Error/ErrorPage\";\r\nimport LoadingPage from \"pages/Error/LoadingPage\";\r\nimport axios from \"axios\";\r\nimport FailedOrderPage from \"pages/Error/FailedOrderPage\";\r\nimport { OrderContext } from \"components/Context/OrderContext\";\r\nimport { useOurApi } from \"API/useOurApi\";\r\n\r\nfunction ConfirmationPage() {\r\n  console.log(\"confirm page\");\r\n  const unconfirmed_order = JSON.parse(window.localStorage.getItem(\"unconfirmed_order\")) || {};\r\n  const cartItems = unconfirmed_order.ordered_items\r\n    ? unconfirmed_order.ordered_items\r\n    : [];\r\n  if (cartItems.length === 0) return <ErrorPage />;\r\n  else {\r\n    const order = {\r\n      customer_id: \"\",\r\n      phone: unconfirmed_order.phone,\r\n      street: unconfirmed_order.street,\r\n      city: unconfirmed_order.city,\r\n      state: unconfirmed_order.state,\r\n      zipcode: unconfirmed_order.zipcode,\r\n      totalAmount: unconfirmed_order.totalAmount,\r\n      delivery_note: \"\",\r\n      kitchen_id: unconfirmed_order.kitchen_id,\r\n      longitude: unconfirmed_order.longitude,\r\n      latitude: unconfirmed_order.latitude,\r\n      delivery_date: unconfirmed_order.delivery_date,\r\n      order_type: unconfirmed_order.order_type,\r\n      ordered_items: [],\r\n    };\r\n    cartItems.forEach((x) =>\r\n      order.ordered_items.push({ meal_id: x.info.food_id, qty: x.amount })\r\n    );\r\n    console.log(order);\r\n\r\n    return (\r\n      <Confirmation\r\n        initialUrl=\"https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/add_order\"\r\n        unconfirmed_order={unconfirmed_order}\r\n        order={order}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\n//  WRITE DATA TO API\r\n// the reason why we have to make a separate Confirmation component for the state variables\r\n// is to prevent them from re-rendering the entire ConfirmationPage\r\n// ('url', 'sentOrder', etc will trigger re-render, so if you move all these hooks to ConfirmationPage, \r\n// they will cause the page to render infinitely!!!! that is very bad since that will cause the axios to fire infinitely,\r\n// resulting in a ton of similar rows of data in the db !!!)\r\n\r\n// params: 'order' is the data that will be written to the db, while 'sentOrder' will be written into localStorage\r\nconst Confirmation = ({ initialUrl, unconfirmed_order, order }) => {\r\n  const [url, setUrl] = useState(initialUrl);\r\n  const [sentOrder, setSentOrder] = useState(unconfirmed_order);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [hasError, setHasErrror] = useState(false);\r\n  const context = useContext(OrderContext);\r\n\r\n  useEffect(() => {\r\n    const writeData = async () => {\r\n      try {\r\n        setIsLoading(true)\r\n        const response = await axios.post(url, order);\r\n        const responseData = await response.data;\r\n        // once axios's POST method is called, we update sentOrder\r\n        // so that we know it has already been written to the db.\r\n        window.localStorage.removeItem(\"cart\"); // remove cart data from local storage\r\n        context.setOrderInfo(0);\r\n        setSentOrder(prevState => ({...prevState, isSent: true, order_id: responseData.result.order_id}));\r\n      } catch (err) {\r\n        console.log(err);\r\n        setHasErrror(true);\r\n      } finally {\r\n        setIsLoading(false);\r\n        // ???\r\n      }\r\n    };\r\n    \r\n    if (!sentOrder.isSent) writeData(); // if data is already written to the db, we don't call axios.\r\n  }, [url]);\r\n  \r\n  window.localStorage.setItem(\"unconfirmed_order\", JSON.stringify(sentOrder));\r\n  if (isLoading) return <LoadingPage />\r\n  if (hasError) return <FailedOrderPage />\r\n\r\n  return (\r\n    <div className=\"confirmation-page\">\r\n      <div className=\"confirmation-page-layer\">\r\n        <div className=\"confirmation-page-content\">\r\n          <div className=\"confirmation-page-title\">\r\n            <p className=\"title is-3\">{sentOrder.kitchen_name}</p>\r\n          </div>\r\n          <div className=\"space-2-5\"></div>\r\n          <div className=\"confirmation-page-body\">\r\n            <div className=\"columns\">\r\n              <div className=\"column is-7\">\r\n                <div className=\"confirm-order-container\">\r\n                  <p className=\"title is-6\">Your order has been placed</p>\r\n                  <p className=\"title is-6\">Confirmation number: {sentOrder.order_id} </p>\r\n                  <p className=\"subtitle is-6\">\r\n                    A confirmation email has been sent to{\" \"}\r\n                    {sentOrder.email}\r\n                  </p>\r\n                  <p className=\"subtitle is-6\">\r\n                    Click <a href=\"#\">here</a> to resend confirmation email\r\n                  </p>\r\n                  <div className=\"divider\"></div>\r\n                  <div className=\"columns\">\r\n                    <div className=\"column is-4\">\r\n                      <p className=\"subtitle is-6\">\r\n                        Delivery confirmed for: {sentOrder.date}\r\n                      </p>\r\n                      {/* <br></br> */}\r\n                     <p className=\"subtitle is-6\"> {order.order_type === \"delivery\" ? \"Delivery address\" : \"Pickup address\"}:</p>\r\n                    </div>\r\n                    \r\n                    <div className=\"column is-8\">\r\n                    <p className=\"subtitle is-6\">\r\n                        {sentOrder.delivery_date}\r\n                      </p>\r\n                    {sentOrder.order_type === \"delivery\" ?\r\n                      <div>\r\n                      {/* <br></br> */}\r\n                      <p className=\"subtitle is-6\">\r\n                        {sentOrder.street}\r\n                      </p>\r\n                      {/* <br></br> */}\r\n                      <p className=\"subtitle is-6\">\r\n                        {sentOrder.city}, {sentOrder.state}{\" \"}\r\n                        {sentOrder.zipcode}\r\n                      </p></div>\r\n                    :  <p className=\"subtitle is-6\">{sentOrder.kitchen_address}</p>}\r\n                    </div>\r\n                    \r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"column is-5\">\r\n                <div className=\"total-order-container\">\r\n                  {sentOrder.ordered_items.map((x) => (\r\n                    <div key={x.info.food_id} className=\"card cart-item\">\r\n                      <div className=\"card-image cart-item-image\">\r\n                        <img src={x.info.fl_image} alt=\"Placeholder image\" />\r\n                      </div>\r\n                      <div className=\"card-content no-overflow\">\r\n                        <p className=\"title is-7 has-text-grey-light item-brand\">\r\n                          {x.info.fl_brand}\r\n                        </p>\r\n                        <p className=\"subtitle is-6 is-bold\">\r\n                          {x.info.food_name}\r\n                        </p>\r\n                        <span className=\"tag\">\r\n                          <span className=\"subtitle is-7\">\r\n                            {x.info.fl_package_type} x{x.amount}\r\n                          </span>\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"divider\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default withRouter(ConfirmationPage);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst AuthRoute = ({component: Component, isAuth, ...rest}) => {\r\n    return (\r\n\r\n        // Show the component only when the user is logged in\r\n        // Otherwise, redirect the user to /signin page\r\n        <Route {...rest} render={props => (\r\n            isAuth ?\r\n                <Component {...props} />\r\n            : <Redirect to=\"/login\" />\r\n        )} />\r\n    );\r\n};\r\n\r\nexport default AuthRoute;","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst NonAuthRoute = ({component: Component, isAuth, ...rest}) => {\r\n    return (\r\n        // restricted = false meaning public route\r\n        // restricted = true meaning restricted route\r\n        <Route {...rest} render={props => (\r\n            isAuth ?\r\n                <Redirect to=\"/\" />\r\n            : <Component {...props} />\r\n        )} />\r\n    );\r\n};\r\n\r\nexport default NonAuthRoute;","import React, {useState, useEffect} from \"react\";\r\n// import { Router } from 'react-router';\r\nimport {\r\n  BrowserRouter as Router,\r\n  // Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  useRouteMatch,\r\n  useParams,\r\n  Redirect,\r\n  withRouter\r\n} from \"react-router-dom\";\r\n// import bulma and other css styles\r\nimport \"bulma/css/bulma.css\";\r\nimport \"./App.css\";\r\n// import components\r\nimport BanksPage from \"pages/Banks/BanksPage\";\r\nimport BankPage from \"pages/Bank/BankPage\";\r\nimport Header from \"components/Header/Header\";\r\nimport BankAPI from \"API/BankAPI\";\r\nimport CheckoutPage from \"pages/Checkout/CheckoutPage\";\r\nimport LoginPage from 'pages/Login/LoginPage';\r\nimport SignupPage from 'pages/Signup/SignupPage';\r\nimport SignupSocial from 'pages/Signup/SignupSocial';\r\nimport SignupVerify from 'pages/Signup/SignupVerify';\r\nimport ConfirmationPage from 'pages/Checkout/ConfirmationPage';\r\nimport ErrorPage from 'pages/Error/ErrorPage';\r\nimport history from 'pages/App/History';\r\n// import hooks\r\nimport { useCoordinates } from 'components/Hooks/useCoordinates';\r\nimport { OrderContext } from 'components/Context/OrderContext';\r\n\r\nimport AuthRoute from 'components/Route/AuthRoute';\r\nimport NonAuthRoute from 'components/Route/NonAuthRoute';\r\n\r\nfunction App() {\r\n  const [orderInfo, setOrderInfo] = useState(0);\r\n  const [deliveryMethod, setDeliveryMethod] = useState('');\r\n  const [isAuth, setIsAuth] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    onLoad();\r\n  }, [])\r\n\r\n  function onLoad() {\r\n    try {\r\n      if (!isAuth && JSON.parse(window.localStorage.getItem(\"userInfo\"))) {\r\n        console.log(\"Authenticated\");\r\n        setIsAuth(true);\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.log(err);\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  return !loading && (\r\n    <Router>\r\n      <OrderContext.Provider value={{orderInfo, setOrderInfo, isAuth, setIsAuth, deliveryMethod, setDeliveryMethod}}>\r\n        <Header />\r\n        <Switch>\r\n          <NonAuthRoute exact path=\"/login\" isAuth={isAuth} component={LoginPage} />\r\n          <NonAuthRoute exact path=\"/signup\" isAuth={isAuth} component={SignupPage} />\r\n          {/* <AuthRoute exact path=\"/\" isAuth={isAuth} bankAPI={bankAPI} component={BanksPage} /> */}\r\n          <Route exact path=\"/\"><BanksPage /></Route>\r\n          <NonAuthRoute exact path=\"/signup/social\" isAuth={isAuth} component={SignupSocial} />\r\n          <NonAuthRoute exact path=\"/signup/verify\" isAuth={isAuth} component={SignupVerify} />\r\n          <AuthRoute exact path={\"/banks/:bankId/products\"} isAuth={isAuth} component={BankPage} />\r\n          <AuthRoute exact path=\"/order/cart\" isAuth={isAuth} component={CheckoutPage} />\r\n          <AuthRoute exact path=\"/order/cart/confirm\" isAuth={isAuth} component={ConfirmationPage} />\r\n          <Route component={ErrorPage} /> \r\n          <Redirect to=\"/404\" />\r\n        </Switch>\r\n      </OrderContext.Provider>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport App from './pages/App/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport history from 'pages/App/History';\r\nimport { OrderContext } from 'components/Context/OrderContext';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    {/* <Router basena> */}\r\n    <BrowserRouter >\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/empty-cart.545cd479.png\";"],"sourceRoot":""}
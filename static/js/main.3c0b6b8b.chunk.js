(this["webpackJsonpfeed-the-hungry"]=this["webpackJsonpfeed-the-hungry"]||[]).push([[0],{114:function(e,a,t){e.exports=t.p+"static/media/Delivery.af41986f.png"},115:function(e,a,t){e.exports=t.p+"static/media/Pickup.011b01ba.png"},116:function(e,a,t){e.exports=t.p+"static/media/halal.6694f867.png"},117:function(e,a,t){e.exports=t.p+"static/media/404.1a53adde.svg"},119:function(e,a,t){e.exports=t.p+"static/media/ServingNow_Logo_Green.6649427f.png"},120:function(e,a,t){e.exports=t.p+"static/media/empty-cart.545cd479.png"},128:function(e,a,t){e.exports=t.p+"static/media/farmers-market.7128b6c5.jpg"},131:function(e,a,t){e.exports=t.p+"static/media/failed-order.fcc8c2fa.svg"},132:function(e,a,t){e.exports=t.p+"static/media/home-image-5.108ad175.webp"},133:function(e,a,t){e.exports=t.p+"static/media/home-image-4.5943da98.webp"},134:function(e,a,t){e.exports=t.p+"static/media/home-image-3.ac541f1e.jpg"},135:function(e,a,t){e.exports=t.p+"static/media/home-image-2.f9ee49cc.webp"},136:function(e,a,t){e.exports=t.p+"static/media/home-image-1.6dea3313.webp"},140:function(e,a,t){e.exports=t(251)},145:function(e,a,t){},147:function(e,a,t){},148:function(e,a,t){e.exports=t.p+"static/media/loading.d317a4d9.png"},172:function(e,a,t){},174:function(e,a,t){},189:function(e,a,t){},248:function(e,a,t){},249:function(e,a,t){},251:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(34),c=t.n(r),l=(t(145),t(96),t(5)),i=t(7),o=t(15),m=(t(146),t(147),t(33),t(49),t(148),t(9)),u=t(10),d=t(72),p=t(114),f=t.n(p),E=t(115),v=t.n(E),g=t(17),h=t(52),b=t.n(h),N=t(53),y=t.n(N),k=t(54),x=t.n(k),w=t(55),_=t.n(w),O=t(116),j=t.n(O),S=t(56),C=t.n(S),I={faShippingFast:u.u,faCube:u.k,faMapPin:u.q,faClock:u.j,faMapMarkerAlt:u.p,faCalendarAlt:u.b,faCheckCircle:u.d,faCheck:u.c,faStar:u.x,faSearch:u.t,faShoppingCart:u.w,faPlus:u.s,faMinus:u.r,faChevronUp:u.h,faChevronDown:u.e,Delivery:f.a,Pickup:v.a,faTimes:u.z,faLongArrowAltLeft:u.n,faTrashAlt:u.A,faCircleNotch:u.i,Kosher:b.a,GlutenFree:y.a,Vegan:x.a,Vegetarian:_.a,Halal:j.a,faShoppingBasket:u.v,faLongArrowAltRight:u.o,faChevronLeft:u.f,faChevronRight:u.g,faWalking:u.D,faTruck:u.B,faEnvelope:u.l,faLock:u.m,faBoxOpen:u.a,MarkerIcon:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:41;return new g.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-".concat(e,".png"),shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[a,t],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})},faUserCircle:u.C,faStarOfLife:u.y,faFacebookF:d.a,faTwitter:d.c,faLinkedinIn:d.b,RoomOutlinedIcon:S.RoomOutlinedIcon},D=t(57),A=t.n(D);var z=function(){return s.a.createElement("div",{className:"bd-main is-fullheight-with-navbar"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"loading-body"},s.a.createElement("figure",{className:"image is-128x128"},s.a.createElement("img",{src:A.a})))))},L=t(20),V=t.n(L),F=t(30),T=t(19),P=t.n(T),M=function(e){var a=Object(n.useState)(e),t=Object(l.a)(a,2),s=t[0],r=t[1],c=Object(n.useState)(!0),i=Object(l.a)(c,2),o=i[0],m=i[1],u=Object(n.useState)(!1),d=Object(l.a)(u,2),p=d[0],f=d[1],E=Object(n.useState)({}),v=Object(l.a)(E,2),g=v[0],h=v[1];Object(n.useEffect)((function(){var e=!1;new AbortController;return function(){var a=Object(F.a)(V.a.mark((function a(){var t,n;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch(s);case 3:return t=a.sent,a.next=6,t.json();case 6:n=a.sent,console.log("fetch data"),e||h(n),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),f(!0);case 14:return a.prev=14,console.log("loading done"),m(!1),a.finish(14);case 18:case"end":return a.stop()}}),a,null,[[0,11,14,18]])})));return function(){return a.apply(this,arguments)}}()(),function(){e=!0}}),[s]);return{isLoading:o,hasError:p,setUrl:r,data:g,getBankBy:function(e,a){return g.result.result.find((function(t){return t[e]===a}))}}},B=t(117),R=t.n(B);var U=function(){return s.a.createElement("div",{className:"not-found-page"},s.a.createElement("div",{className:"not-found-page-body"},s.a.createElement("figure",{className:"image is-128x128"},s.a.createElement("img",{src:R.a,alt:"Not Found"})),s.a.createElement("div",{className:"not-found-page-content"},s.a.createElement("p",{className:"title is-6 has-text-grey"},"Oh no! the page you are looking for doesn't exist."),s.a.createElement(i.b,{to:"/"},s.a.createElement("button",{className:"button is-green"},s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:I.faLongArrowAltLeft})),s.a.createElement("span",null,"Back Home"))))))},J=t(268),q=t(269),G=t(267),H=t(270);t(172);var W=function(e,a,t,n,s){var r=Math.PI*e/180,c=Math.PI*t/180,l=a-n,i=Math.PI*l/180,o=Math.sin(r)*Math.sin(c)+Math.cos(r)*Math.cos(c)*Math.cos(i);return o=60*(o=180*(o=Math.acos(o))/Math.PI)*1.1515,"K"===s&&(o*=1.609344),"M"===s&&(o*=.8684),o},Y=t(118);var K=function(e){var a=e.userLocation,t=e.bankLocation,r=e.marker,c=Object(n.useState)(I.MarkerIcon("green")),m=Object(l.a)(c,2),u=m[0],d=m[1],p=Object(o.j)(),f=p.path;p.url;Object(n.useEffect)((function(){r.activeMarker===t.foodbank_id?d(I.MarkerIcon("black",26,42)):d(I.MarkerIcon("green"))}),[r.activeMarker]);var E=Math.round(10*W(a[0],a[1],t.fb_latitude,t.fb_longitude,"M"))/10;return s.a.createElement(G.a,{position:[t.fb_latitude,t.fb_longitude],icon:u,onClick:function(){return r.setActiveMarker(t.foodbank_id)},onMouseOver:function(){return r.setActiveMarker(t.foodbank_id)},onMouseOut:function(){return r.setActiveMarker(null)}},s.a.createElement(H.a,{closeOnClick:!0,closeButton:!1,autoPanPadding:[50,50]},s.a.createElement("article",{className:"media marker-popup"},s.a.createElement("figure",{className:"media-left"},s.a.createElement("p",{className:"image is-48x48"},s.a.createElement("img",{src:t.fb_logo}))),s.a.createElement("div",{className:"media-content"},s.a.createElement("div",{className:"content"},s.a.createElement("p",null,s.a.createElement(i.b,{to:"".concat(f,"/").concat(t.foodbank_id,"/products")},s.a.createElement("strong",null,t.fb_name)),s.a.createElement("br",null),t.foodbank_address,s.a.createElement("br",null),E," miles"))))))},$=function(e){var a=e.marker,t=e.banks,r=function(){var e=Object(Y.usePosition)(!1,{enableHighAccuracy:!0}),a=e.latitude,t=e.longitude;return{position:a&&t?[a,t]:[37.338208,-121.886329],error:e.error}}().position;return Object(n.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("userInfo"));e&&(e.position=r),window.localStorage.setItem("userInfo",JSON.stringify(e))}),[r]),s.a.createElement(J.a,{center:r,zoom:11},s.a.createElement(q.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r?s.a.createElement(G.a,{position:r,icon:I.MarkerIcon("red")},s.a.createElement(H.a,null,s.a.createElement("div",{className:"marker-popup"},s.a.createElement("p",{className:"title has-font-14"},"Your Location"),s.a.createElement("p",{className:"subtitle has-font-14"}," ","(",r[0],",",r[1],")"," ")))):s.a.createElement("div",{className:"loading"},"Cannot load current location."),Array.isArray(t)?t.map((function(e){return s.a.createElement(K,{key:e.foodbank_id,userLocation:r,bankLocation:e,marker:a})})):s.a.createElement(K,{userLocation:r,bankLocation:t,marker:a}))};var Z=Object(o.k)((function(e){var a=e.marker,t=e.banks,n=Object(o.g)();return(new Date).getDay(),s.a.createElement("div",{className:"banks"},t.map((function(e){return s.a.createElement("div",{key:e.foodbank_id,className:"card bank-card",onMouseEnter:function(){return a.setActiveMarker(e.foodbank_id)},onMouseLeave:function(){return a.setActiveMarker("")},onClick:function(){return n.push("/banks/".concat(e.foodbank_id,"/products"))}},s.a.createElement("div",{className:"card-content"},s.a.createElement("div",{className:"media"},s.a.createElement("div",{className:"media-left"},s.a.createElement("div",{className:"bank-card-logo"},s.a.createElement("img",{src:e.fb_logo,alt:"Bank's Logo"}))),s.a.createElement("div",{className:"media-content"},s.a.createElement("p",{className:"title bank-card-title"},e.fb_name),s.a.createElement("div",{className:"divider-24"}),s.a.createElement("div",{className:"buttons are-small",style:{marginBottom:0}},s.a.createElement("button",{className:"button delivery-btn",style:1===e.fb_delivery?{visibility:"visible"}:{visibility:"hidden"}},"Delivery"),s.a.createElement("button",{className:"button pickup-btn",style:1===e.fb_pickup?{visibility:"visible"}:{visibility:"hidden"}},"Pick Up"))))))})))}));function Q(){var e=Object(o.h)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var X=function(){var e=Object(n.useState)(""),a=Object(l.a)(e,2);return{activeMarker:a[0],setActiveMarker:a[1]}};var ee=function(){return s.a.createElement("footer",{className:"app-footer"},s.a.createElement("div",{className:"footer-content"},s.a.createElement("div",{className:"footer-left"},s.a.createElement("div",{className:"footer-left-content"},s.a.createElement("p",{className:"is-Nunito",style:{fontSize:14}},"\xa92020 by Serving Now"))),s.a.createElement("div",{className:"footer-right"},s.a.createElement("div",{className:"footer-right-content"},s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:I.faFacebookF})),s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:I.faTwitter})),s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:I.faLinkedinIn}))))))};var ae=function(e){var a=e.api,t=X();if(a.isLoading)return s.a.createElement(z,null);if(a.hasError)return s.a.createElement(U,null);var n=a.data.result.result;return s.a.createElement("div",{className:"bd-main is-fullheight-with-navbar"},s.a.createElement("div",{className:"columns",style:{margin:0}},s.a.createElement("div",{className:"column has-no-padding"},s.a.createElement("div",{className:"bank-list"},s.a.createElement("div",{className:"container"},s.a.createElement(Z,{marker:t,banks:n})))),s.a.createElement("div",{className:"column has-no-padding"},s.a.createElement("div",{className:"sticky"},s.a.createElement($,{marker:t,banks:n})))))};t(173);var te=function(){return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),null},ne=Object(n.createContext)();var se=function(){return s.a.createElement("div",{className:"spinner"},s.a.createElement("figure",{className:"image is-96x96"},s.a.createElement("img",{src:A.a})))};function re(e){var a=e.bank,t=e.item,n=e.orderType,r=ce(a,t,n);return s.a.createElement("div",null,s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control item-actions"},s.a.createElement("button",{className:"button is-small",onClick:r.decrease,disabled:0===r.value},"-"),s.a.createElement("input",{type:"text",className:"input is-small",value:r.value,readOnly:!0}),s.a.createElement("button",{className:"button is-small",onClick:r.increase,disabled:0===t.quantity},"+"))),s.a.createElement("div",{className:"space-1-5"}),0===t.quantity&&s.a.createElement("p",{className:"p is-danger"},"Out of stock"))}var ce=function(e,a,t){var s=e.foodbank_id,r=Object(n.useContext)(ne),c=Object(n.useState)((function(){var e=JSON.parse(window.localStorage.getItem("userInfo")),t=""!=e.cart?e.cart:{},n=t.bankId===s?t.items.find((function(e){return e.info.food_id===a.food_id})):{};return n&&n.amount?n.amount:0})),i=Object(l.a)(c,2),o=i[0],m=i[1],u=function(e){var a=0;return e.forEach((function(e){a+=e.amount})),a};return Object(n.useEffect)((function(){var n=JSON.parse(window.localStorage.getItem("userInfo")),c=n&&""!=n.cart?n.cart:{bankId:"",items:[],total:0,order_type:""},l=c.bankId,i=c.items;if(c.bankId===s){var m=i.find((function(e){return e.info.food_id===a.food_id}));m&&o>0?m.amount=o:m&&0===o?i.splice(i.indexOf(m),1):!m&&o>0&&i.push({info:a,amount:o});var d=le(i,"pickup",0),p=le(i,"delivery",0);d.length>0?c.order_type="delivery":p.length>0?c.order_type="pickup":c.order_type="",t.setOrderType(c.order_type)}else c.bankId!=s&&o>0&&((i=[]).push({info:a,amount:o}),l=s,window.localStorage.setItem("current_pantry",JSON.stringify(e)));c.bankId=l,c.items=i,c.total=u(i),n.cart=c,window.localStorage.setItem("userInfo",JSON.stringify(n)),r.setCartTotal(u(i))}),[o]),{value:o,increase:function(){m(o+1)},decrease:function(){m(o-1)},zero:function(){m(0)}}},le=function(e,a,t){return e.filter((function(e){return e.info[a]===t}))},ie=Object(o.k)((function(e){var a=e.bank,t=e.delivery,r=e.pickup,c=e.search,i=e.orderType,o=Object(n.useState)(0),m=Object(l.a)(o,2),u=m[0],d=m[1],p="https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/inventory_filter/".concat(a.foodbank_id,"?delivery=").concat(t,"&pickup=").concat(r)+c,f=M(p);return Object(n.useEffect)((function(){f.setUrl(p),d(u+1)}),[p]),f.isLoading?s.a.createElement(se,null):f.hasError?s.a.createElement("p",{className:"title is-6"},"Unable to load products"):0===f.data.result.result.length||"delivery"===i.orderType&&0===t||"pickup"===i.orderType&&0===r?"":s.a.createElement("div",{key:u,className:"inventory-container animate-bottom"},s.a.createElement("div",{className:"inventory-title-container"},1===t&&1===r&&s.a.createElement("p",{className:"subtitle inventory-title"},"Delivery or Pickup"),1===t&&0===r&&s.a.createElement("p",{className:"subtitle inventory-title"},"Delivery Only"),0===t&&1===r&&s.a.createElement("p",{className:"subtitle inventory-title"},"Pickup Only")),s.a.createElement("div",{className:"inventory"},f.data.result.result.map((function(e){return s.a.createElement("div",{key:e.food_id,className:"card item-card"},s.a.createElement("div",{className:"card-image"},s.a.createElement("figure",{className:"image is-155x155"},s.a.createElement("img",{src:e.fl_image}))),s.a.createElement("div",{className:"card-content"},s.a.createElement("div",{className:"content"},s.a.createElement("p",{className:"item-brand",style:{marginBottom:0}},e.fl_brand),s.a.createElement("p",{className:"item-name is-bold",style:{marginBottom:0}},e.fl_name),s.a.createElement("p",{className:"item-unit"},e.fl_package_type," (",e.fl_amount," ",e.fl_unit,")"),s.a.createElement("p",null,e.food_id),s.a.createElement(re,{bank:a,item:e,orderType:i}))))}))))})),oe=t(81),me=t.n(oe);var ue=Object(o.k)((function(e){var a=e.obj,t=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],n=new Date;console.log(n.getDay());var r=function(e){var a=e.obj,r=e.day,c=e.type,l=a["fb_".concat(r,"_time")]?JSON.parse(a["fb_".concat(r,"_time")])[c]:"Closed";return s.a.createElement("p",{className:t[n.getDay()>0?n.getDay()-1:6]===r?"subtitle is-6 capitalized is-bold":"subtitle is-6 has-text-grey capitalized"},l)};return s.a.createElement("div",{className:"bank-info-content no-overflow",style:{marginTop:".4rem"}},s.a.createElement("div",{className:"schedule-title",style:{padding:0,marginRight:"6px"}},s.a.createElement("span",{className:"icon"},s.a.createElement(me.a,null))),s.a.createElement("div",{className:"schedule-title"},s.a.createElement("p",{className:"title capitalized is-6 is-Nunito"},"Days"),t.map((function(e){return s.a.createElement("p",{key:e,className:t[n.getDay()>0?n.getDay()-1:6]===e?"subtitle is-6 is-Nunito capitalized is-bold":"subtitle is-6 is-Nunito capitalized"},e.substring(0,3))}))),s.a.createElement("div",{className:"schedule-title"},s.a.createElement("div",{className:"title capitalized is-6 is-Nunito"},"Delivery Hours"),t.map((function(e){return s.a.createElement(r,{key:"".concat(e,"_delivery"),obj:a,day:e,type:"delivery"})}))),s.a.createElement("div",{className:"schedule-title"},s.a.createElement("div",{className:"title capitalized is-6 is-Nunito"},"Pick Up Hours"),t.map((function(e){return s.a.createElement(r,{key:"".concat(e,"_pickup"),obj:a,day:e,type:"order"})}))))}));var de=Object(o.k)((function(e){var a=e.obj,t=X();return s.a.createElement("section",{className:"hero"},s.a.createElement("div",{className:"bank-banner"},s.a.createElement("div",{className:"columns",style:{margin:0}},s.a.createElement("div",{className:"column has-no-padding"},s.a.createElement("div",{className:"bank-banner-info"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"media"},s.a.createElement("div",{className:"media-left"},s.a.createElement("figure",{className:"image is-64x64"},s.a.createElement("img",{src:a.fb_logo,alt:""}))),s.a.createElement("div",{className:"media-content"},s.a.createElement("p",{className:"title bank-title"},a.fb_name," "))),s.a.createElement("div",{className:"divider-25"}),s.a.createElement("p",null,a.foodbank_id),s.a.createElement("div",{className:"bank-info-wrapper"},s.a.createElement("div",{className:"bank-info-icon"},s.a.createElement("span",{className:"icon"},s.a.createElement(C.a,null))),s.a.createElement("div",{className:"bank-info-content no-overflow"},s.a.createElement("p",{className:"title is-6 capitalized is-Nunito"},a.fb_address1,", ",a.fb_city,", ",a.fb_state," ",a.fb_zipcode))),s.a.createElement("div",{className:"bank-info-wrapper"},s.a.createElement(ue,{obj:a}))))),s.a.createElement("div",{className:"column has-no-padding"},s.a.createElement("div",{className:"small-map"},s.a.createElement($,{banks:a,marker:t}))))))})),pe=t(48),fe=function(){return new URLSearchParams(Object(o.h)().search)};var Ee=Object(o.k)((function(){var e=Object(o.g)(),a=fe(),t=Object(n.useState)(a&&a.get("search")?a.get("search").split(" "):[]),r=Object(l.a)(t,2),c=r[0],i=r[1],m=Object(n.useState)(!1),u=Object(l.a)(m,2),d=u[0],p=u[1],f=function(e,a){e.target.checked?i((function(e){return[].concat(Object(pe.a)(e),[a])})):i(c.filter((function(e){return e!==a}))),p(!0)};Object(n.useEffect)((function(){var a="search=";if(c.length>0){for(var t=0;t<c.length;t++)a+=c[t],t!==c.length-1&&(a+="+");e.push("products?".concat(a))}else 0===c.length&&d&&e.push("products")}),[c]);var E=function(e){return!!c.find((function(a){return a===e}))};return s.a.createElement("div",{className:"bank-filters"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"field is-grouped"},s.a.createElement("div",{className:"control"},s.a.createElement("label",{className:"checkbox",onClick:function(e){return f(e,"vegetarian")}},s.a.createElement("input",{className:"no-checkbox",type:"checkbox",defaultChecked:E("vegetarian")}),s.a.createElement("span",{className:E("vegetarian")?"icon tooltip filter is-active":"icon tooltip filter"},s.a.createElement("img",{src:_.a,alt:"Vegetarian"}),s.a.createElement("span",{className:"tooltiptext"},"Vegetarian")))),s.a.createElement("div",{className:"control"},s.a.createElement("label",{className:"checkbox",onClick:function(e){return f(e,"vegan")}},s.a.createElement("input",{className:"no-checkbox",type:"checkbox",defaultChecked:E("vegan")}),s.a.createElement("span",{className:E("vegan")?"icon tooltip filter is-active":"icon tooltip filter"},s.a.createElement("img",{src:x.a,alt:"Vegan"}),s.a.createElement("span",{className:"tooltiptext"},"Vegan")))),s.a.createElement("div",{className:"control"},s.a.createElement("label",{className:"checkbox",onClick:function(e){return f(e,"gluten-free")}},s.a.createElement("input",{className:"no-checkbox",type:"checkbox",defaultChecked:E("gluten-free")}),s.a.createElement("span",{className:E("gluten-free")?"icon tooltip filter is-active":"icon tooltip filter"},s.a.createElement("img",{src:y.a,alt:"Gluten Free"}),s.a.createElement("span",{className:"tooltiptext"},"Gluten-free")))),s.a.createElement("div",{className:"control"},s.a.createElement("label",{className:"checkbox",onClick:function(e){return f(e,"kosher")}},s.a.createElement("input",{className:"no-checkbox",type:"checkbox",defaultChecked:E("kosher")}),s.a.createElement("span",{className:E("kosher")?"icon tooltip filter is-active":"icon tooltip filter"},s.a.createElement("img",{src:b.a,alt:"Kosher"}),s.a.createElement("span",{className:"tooltiptext"},"Kosher")))))))})),ve=function(e){var a=e.bank,t=ge(a),r=Object(n.useState)(1),c=Object(l.a)(r,2),o=c[0],u=c[1];window.addEventListener("storage",(function(){u(o+1)}));var d=fe(),p=d.get("search")?"&"+d.get("search").replace(/ /g,"&"):"",f=M("https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/inventory_filter/".concat(a.foodbank_id));return f.hasError?s.a.createElement(U,null):s.a.createElement("div",{className:"bd-main is-fullheight-with-navbar"},s.a.createElement(te,null),s.a.createElement(de,{obj:a}),s.a.createElement(Ee,null),s.a.createElement("div",{className:"container"},f.data.result&&f.data.result.result.length>0?s.a.createElement("div",{key:o,className:"bank-body"},s.a.createElement(ie,{bank:a,delivery:1,pickup:1,orderType:t,search:p}),s.a.createElement(ie,{bank:a,delivery:1,pickup:0,orderType:t,search:p}),s.a.createElement(ie,{bank:a,delivery:0,pickup:1,orderType:t,search:p})):s.a.createElement("div",{className:"no-product"},s.a.createElement("p",{className:"is-Nunito is-6"},"This food pantry does not have any product at the moment.")),s.a.createElement("div",{className:"bank-actions"},s.a.createElement("button",{className:"button is-info"},s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:I.faLongArrowAltLeft})),s.a.createElement("span",null,"Return to Search Results")),s.a.createElement(i.b,{to:"/order/cart"},s.a.createElement("button",{className:"button is-success"},s.a.createElement("span",null,"Checkout Now"),s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:I.faLongArrowAltRight})))))))},ge=function(e){var a=Object(n.useState)((function(){var a=JSON.parse(window.localStorage.getItem("userInfo"));return""!=a.cart&&a.cart.bankId===e.foodbank_id?a.cart.order_type:""})),t=Object(l.a)(a,2);return{orderType:t[0],setOrderType:t[1]}},he=s.a.memo((function(e){var a=e.api,t=Object(o.i)().bankId;if(a.isLoading)return s.a.createElement(z,null);if(a.hasError||!a.data.result.result)return s.a.createElement(U,null);var n=a.getBankBy("foodbank_id",t);return s.a.createElement(ve,{bank:n})})),be=(t(174),t(119)),Ne=t.n(be);function ye(e){var a=e.num;return s.a.createElement(i.b,{to:"/order/cart",alt:"cart button"},s.a.createElement("span",{className:"icon has-text-success"},s.a.createElement(m.a,{icon:I.faShoppingBasket})),s.a.createElement("span",{className:"has-padding-left-0-5 has-text-success"},a))}var ke=function(){var e=Object(o.g)(),a=Object(n.useContext)(ne);a.setCartTotal((function(){var e=JSON.parse(window.localStorage.getItem("userInfo"));return e&&e.cart?e.cart.total:0}));var t=function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";a.preventDefault();var n=a.target.pathname?a.target.pathname:t;window.location.pathname===n?window.scrollTo({top:0,left:0,behavior:"smooth"}):(e.push("/"+n.split("/").pop()),window.scrollTo(0,0))},r=Object(n.useState)(!1),c=Object(l.a)(r,2),u=c[0],d=c[1];return s.a.createElement("nav",{className:"navbar is-fixed-top",role:"navigation","aria-label":"main navigation"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"navbar-brand "},s.a.createElement(i.b,{className:"navbar-item",to:"/"},s.a.createElement("img",{className:"logo",src:Ne.a,alt:"Logo"})),s.a.createElement("div",{className:"brand-text-container"},s.a.createElement("p",{className:"brand-text"},"SERVING NOW"),s.a.createElement("p",{className:"brand-sub-text"},"Fast, Fresh, and Free")),s.a.createElement("a",{role:"button",className:u?"navbar-burger burger is-active":"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"mainNavbar",onClick:function(){d(!u)}},s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}))),s.a.createElement("div",{id:"mainNavbar",className:u?"navbar-menu is-active":"navbar-menu"},s.a.createElement("div",{className:"navbar-end"},s.a.createElement(i.b,{to:"/",className:"navbar-item navbar-item-text",onClick:t},"Home"),s.a.createElement(i.b,{to:"/about",className:"navbar-item navbar-item-text",onClick:t},"About Us"),s.a.createElement(i.b,{to:a.isAuth?"/admin":"/adminlogin",className:"navbar-item navbar-item-text",onClick:t},"Admin"),s.a.createElement(i.b,{to:a.isAuth?"/donate":"/donateform",className:"navbar-item navbar-item-text",onClick:t},"Donate"),s.a.createElement(i.b,{to:"/banks",className:"navbar-item",onClick:function(e){return t(e,"/feed-the-hungry/banks")}},s.a.createElement("button",{className:"button navbar-item-text is-success is-outlined"},"Get Food")),a.isAuth&&s.a.createElement("div",{className:"navbar-item navbar-item-text"},s.a.createElement(ye,{num:a.cartTotal})),a.isAuth?s.a.createElement(i.b,{to:"/login",className:"navbar-item navbar-item-text",onClick:function(){console.log(window),window.FB&&"Facebook"===JSON.parse(window.localStorage.getItem("userInfo")).social&&window.FB.logout(),window.localStorage.removeItem("userInfo"),a.setIsAuth(!1)}},"Logout"):s.a.createElement(i.b,{to:"/login",className:"navbar-item navbar-item-text"},s.a.createElement("span",{className:"icon has-text-success"},s.a.createElement(m.a,{icon:I.faUserCircle,style:{fontSize:22}})),s.a.createElement("span",{className:"has-padding-left-0-8"},"Login"))))))},xe=t(120),we=t.n(xe);var _e=function(){return s.a.createElement("div",{className:"bd-main is-fullheight-with-navbar"},s.a.createElement(Q,null),s.a.createElement("div",{className:"empty-cart-msg"},s.a.createElement("div",{className:"container"},s.a.createElement("figure",{className:"image is-128x128"},s.a.createElement("img",{src:we.a,alt:"Not-found image"})),s.a.createElement("div",{className:"not-found-page-content"},s.a.createElement("p",{className:"title is-6 has-text-grey"},"Your cart is empty"),s.a.createElement(i.b,{to:"/banks"},s.a.createElement("button",{className:"button is-green"},s.a.createElement("span",null,"Shop Now")))))))},Oe=t(121),je=t.n(Oe);var Se=function(e){var a=e.foodItem;return s.a.createElement("div",{className:"card cart-item"},s.a.createElement("div",{className:"card-image cart-item-image"},s.a.createElement("img",{src:a.info.fl_image,alt:"Placeholder image"})),s.a.createElement("div",{className:"card-content no-overflow"},s.a.createElement("p",{className:"title is-7 has-text-grey-light item-brand"},a.info.fl_brand),s.a.createElement("p",{className:"subtitle is-6 is-bold"},a.info.food_name),s.a.createElement("span",{className:"tag"},s.a.createElement("span",{className:"subtitle is-7"},a.info.fl_package_type," x",a.amount)),"delivery"===a.info.delivery_pickup?s.a.createElement("p",{className:"subtitle is-7 is-bold has-text-danger"},"Delivery Only"):"","pickup"===a.info.delivery_pickup?s.a.createElement("p",{className:"subtitle is-7 is-bold has-text-danger"},"Pickup Only"):""))};var Ce=function(e){var a=e.itemList,t=Object(n.useState)(0),r=Object(l.a)(t,2),c=r[0],i=r[1];return s.a.createElement("div",{style:{padding:"0 ".concat(60,"px")}},s.a.createElement(je.a,{requestToChangeActive:i,activeItemIndex:c,numberOfCards:4,gutter:20,leftChevron:s.a.createElement("button",{className:"button round-btn"},s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:I.faChevronLeft}))),rightChevron:s.a.createElement("button",{className:"button round-btn"},s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:I.faChevronRight}))),outsideChevron:!0,chevronWidth:60},a.map((function(e){return s.a.createElement(Se,{key:e.info.food_id,foodItem:e})}))))};function Ie(e){return/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(e)}function De(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function Ae(e){var a=e.replace(/\D/g,"");return/^[2-9]\d{2}[2-9]\d{2}\d{4}$/.test(a)}function ze(e){var a=e.toLowerCase();return a.includes("income")||a.includes("currency")}function Le(e){return/^([0-9]{1,3},([0-9]{3},)*[0-9]{3}|[0-9]+)(.[0-9][0-9])?$/.test(e)}function Ve(e){return/^[1-9]\d*$/.test(e)}var Fe=function(e,a){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Object(n.useState)("checkbox"!==a&&"switch"!==a&&""),r=Object(l.a)(s,2),c=r[0],i=r[1],o=Object(n.useState)(!t),m=Object(l.a)(o,2),u=m[0],d=m[1],p=Object(n.useState)(""),f=Object(l.a)(p,2),E=f[0],v=f[1],g=Object(n.useState)(!1),h=Object(l.a)(g,2),b=h[0],N=h[1],y=Object(n.useState)(!1),k=Object(l.a)(y,2),x=(k[0],k[1]),w=Object(n.useState)({}),_=Object(l.a)(w,2),O=_[0],j=_[1],S=function(){x(!0),N(!1),D()?d(!0):d(!1)},C=function(e){N(!0),x(!1),i("checkbox"===e.target.type||"switch"===e.target.type?e.target.checked:e.target.value),"file"===e.target.type&&j(e.target.files[0]),v("")},I=function(){v("")};Object(n.useEffect)((function(){!b&&c&&(D()?d(!0):d(!1))}),[c]);var D=function(){if(t&&0===c.length)return e.toLowerCase().includes("state")?v("Please select your state."):v("Please fill in this field."),console.log(!1),!1;if(c.length>0){if("zip"!==e.toLowerCase()||Ie(c))if("tel"!==a||Ae(c))if("email"!==a||De(c))if("number"===a&&ze(e)&&!Le(c))v("Invalid currency amount");else{if("number"!==a||ze(e)||Ve(c))return v(""),!0;v("Invalid amount")}else v("Please check that your email address is correct.");else v("Only number that is 10 digits in length.");else v("Only number that is 5 digits in length.");return console.log(!1),!1}return v(""),!0},A=function(){i(""),v("")};return{error:E,setError:v,type:a,name:e,value:c,setValue:i,onChange:C,onBlur:S,onClick:I,isRequired:t,resetinput:A,file:O,isValid:u,isOnChange:b,checkInputs:D}},Te=(t(189),function(e){var a=e.props,t=e.icon,n=e.isDisabled,r=e.color,c=void 0===r?"":r,l=e.readOnly,i=void 0!==l&&l;return"checkbox"===a.type?s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("label",{className:"checkbox level-item",style:{justifyContent:"flex-start"}},s.a.createElement("input",{type:a.type,onChange:a.onChange,value:a.value,disabled:n}),s.a.createElement("span",{className:"has-margin-left-0-5"},a.name),t&&s.a.createElement("span",{className:"icon has-margin-left-0-5"},s.a.createElement("img",{src:t,alt:""}))))):"switch"===a.type?s.a.createElement("div",{className:"field"},s.a.createElement("input",{id:a.name,type:"checkbox",name:"switchRoundedDefault",className:"switch is-rounded",value:a.value,onChange:a.onChange}),s.a.createElement("label",{htmlFor:a.name},a.name)):"tel"===a.type||"number"===a.type?s.a.createElement("div",{className:"field horizontal"},s.a.createElement("div",{className:"field-body"},s.a.createElement("div",{className:"field is-expanded"},s.a.createElement("div",{className:"field has-addons"},s.a.createElement("div",{className:"control"},"quantity"!==a.name.toLowerCase()&&s.a.createElement("a",{className:"button is-static"},"tel"===a.type?"+1":"$")),s.a.createElement("div",{className:"control is-expanded"},s.a.createElement("input",{type:"tel",className:a.error.length>0?"input is-danger":"input",onChange:a.onChange,onBlur:a.onBlur,value:a.value,onClick:a.onClick,placeholder:a.name,readOnly:i}))),s.a.createElement("p",{className:"help is-danger"},a.error),"tel"===a.type&&s.a.createElement("p",{className:"help"},"Do not enter the first zero")))):"textarea"===a.type?s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("textarea",{className:a.error.length>0?"textarea is-danger ".concat(c):"textarea ".concat(c),placeholder:a.name,onChange:a.onChange,onBlur:a.onBlur,onClick:a.onClick,value:a.value,readOnly:i})),s.a.createElement("p",{className:"help is-danger"},a.error)):s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:t?"control has-icons-right":"control"},"file"===a.type&&s.a.createElement("img",{id:"inputImg"}),s.a.createElement("input",Object.assign({className:a.error.length>0?"input is-danger ".concat(c):"input ".concat(c),type:"text",onChange:a.onChange,onBlur:a.onBlur,onClick:a.onClick,value:a.value,placeholder:a.name},"file"===a.type?{accept:"image/*",onChange:function(e){a.onChange(e);var t=e.target.files[0],n=new FileReader,s=document.getElementById("inputImg");s.title=t.name,n.onload=function(e){s.src=e.target.result},n.readAsDataURL(t)}}:{},{readOnly:i})),t?s.a.createElement("span",{className:"icon is-right has-text-danger"},s.a.createElement(m.a,{icon:t})):""),s.a.createElement("p",{className:"help is-danger"},a.error))});var Pe=function(e){var a=e.fname,t=e.lname,n=e.email,r=e.phone,c=e.switchUserInfo;return s.a.createElement("div",null,s.a.createElement(Te,{props:c}),s.a.createElement("div",{className:"field horizontal"},s.a.createElement("div",{className:"field-body"},s.a.createElement(Te,{props:a}),s.a.createElement(Te,{props:t}))),s.a.createElement(Te,{props:n}),s.a.createElement(Te,{props:r}))},Me=function(){var e=Object(n.useState)([]),a=Object(l.a)(e,2),t=a[0],s=a[1];Object(n.useEffect)((function(){fetch("https://gist.githubusercontent.com/mshafrir/2646763/raw/8b0dbb93521f5d6889502305335104218454c2bf/states_hash.json").then((function(e){return e.json()})).then((function(e){return s(e)}))}),[]);return{data:t,contain:function(e){return t.filter((function(a){return a.name===e||a.abbreviation===e})).length>0}}};var Be=function(e){var a=e.props,t=e.data,n=0;return s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control is-expanded"},s.a.createElement("div",{className:a.error.length>0?"select is-danger is-fullwidth":"select is-fullwidth"},s.a.createElement("select",{value:a.value,onChange:a.onChange,onBlur:a.onBlur,onClick:a.onClick},s.a.createElement("option",{key:n++,value:""},a.name),Object.keys(t).map((function(e){return s.a.createElement("option",{key:n++,value:e},t[e])}))))),s.a.createElement("p",{className:"help is-danger"},a.error))};var Re=function(e){var a=e.street,t=e.city,n=e.state,r=e.zip,c=e.switchUserAddress,l=Me();return s.a.createElement("div",null,s.a.createElement(Te,{props:c}),s.a.createElement(Te,{props:a}),s.a.createElement(Te,{props:t}),s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("div",{className:"field-body"},s.a.createElement(Be,{props:n,data:l.data}),s.a.createElement(Te,{props:r}))))};var Ue=function(e){for(var a=e.items,t="",n=0;n<a.length-1;n++)t+=" "+a[n].info.food_name+",";return t+=" "+a[n].info.food_name,s.a.createElement("div",null,s.a.createElement("span",{className:"subtitle is-6 has-text-danger"},"Pick up is not available for the following item(s): "),s.a.createElement("span",{className:"subtitle is-6 "},t))},Je=function(e){var a=e.bank,t=e.items,n=t.length>0?t.filter((function(e){return 1===e.info.deliver})):[];return s.a.createElement("div",{className:"pickup-confirm"},s.a.createElement("p",{className:"title is-5"},"Pickup Address"),s.a.createElement("p",{className:"subtitle is-6"},a.foodbank_address),s.a.createElement("div",{className:"space-1"}),n.length>0?s.a.createElement(Ue,{items:n}):"")},qe=t(125),Ge=t.n(qe),He=Object(n.forwardRef)((function(e,a){return s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control has-icons-right"},s.a.createElement("input",{ref:a,className:e.className,type:"text",placeholder:e.placeholder,value:e.value,onChange:e.onChange,onBlur:e.onBlur,onClick:e.onClick,onFocus:e.onFocus,disabled:e.disabled,readOnly:!0}),s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement(m.a,{icon:I.faCalendarAlt}))))})),We=function(e){var a=e.props;e.disabled;return s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement(Ge.a,{selected:a.startDate,value:a.disabled?"":a.startDate,onChange:function(e){return a.onChange(e)},onFocus:a.onFocus,onBlur:a.onBlur,minDate:a.minDate,maxDate:a.maxDate,showTimeSelect:a.showTimeSelect,customInput:s.a.createElement(He,null),dateFormat:a.showTimeSelect?"MM/dd/yyyy h:mm aa":"MM/dd/yyyy",placeholderText:a.placeholder,className:a.disabled||0===a.error.length?"input":"input is-danger",disabled:a.disabled})),s.a.createElement("p",{className:"help is-danger"},a.disabled?"":a.error))},Ye=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=Object(n.useState)(null),i=Object(l.a)(c,2),o=i[0],m=i[1],u=Object(n.useState)(!1),d=Object(l.a)(u,2),p=d[0],f=d[1],E=Object(n.useState)(""),v=Object(l.a)(E,2),g=v[0],h=v[1],b=function(e){m(e)},N=function(){x()},y=function(){h("")},k=function(){h("")};Object(n.useEffect)((function(){o&&x()}),[o]);var x=function(){return o?(f(!0),h(""),!0):(h("Please fill in this field."),!1)};return{startDate:o,minDate:t,maxDate:s,onChange:b,onBlur:N,onClick:y,onFocus:k,placeholder:e,showTimeSelect:a,isValid:p,error:g,setError:h,disabled:r,checkInputs:x}};var Ke=function(e){var a=0;return e.forEach((function(e){a+=e.amount})),a};var $e=function(e){var a=e.bank,t=e.items,r=Object(o.g)(),c=Fe("First Name","text"),i=Fe("Last Name","text"),u=Fe("Phone Number","tel"),d=Fe("Email","email"),p=Fe("Street","text"),f=Fe("City","text"),E=Fe("Select a state","text"),v=Fe("Zip","text"),g=Fe("Use my current information","switch",!1),h=Fe("Use my current address","switch",!1),b=Fe("I want my delivery as soon as possible","checkbox",!1),N=Ye("Select a date and time",!0,new Date,null,!!b.value),y=t.filter((function(e){return 1===e.info.delivery&&1===e.info.pickup})),k=(t.filter((function(e){return 1===e.info.delivery})),t.filter((function(e){return 1===e.info.delivery&&0===e.info.pickup}))),x=(t.filter((function(e){return 1===e.info.pickup})),t.filter((function(e){return 0===e.info.delivery&&1===e.info.pickup}))),w=Object(n.useState)((function(){return y.length>0&&0===k.length&&0===x.length?"delivery":0===k.length?"pickup":"delivery"})),_=Object(l.a)(w,2),O=_[0],j=_[1],S=function(){if(!c.isValid||!i.isValid||!u.isValid||!d.isValid)return!1;if("delivery"===O){if(!p.isValid||!f.isValid||!E.isValid||!v.isValid)return!1;if(!1===b.value&&!N.isValid)return!1}return!0}(),C=JSON.parse(window.localStorage.getItem("userInfo"));return Object(n.useEffect)((function(){g.value&&C?(c.setValue(C.firstName),i.setValue(C.lastName),u.setValue(C.phoneNumber.replace(/\D/g,"")),d.setValue(C.email)):(c.setValue(""),i.setValue(""),u.setValue(""),d.setValue(""))}),[g.value]),Object(n.useEffect)((function(){h.value&&C?(p.setValue(C.address1),f.setValue(C.city),E.setValue(C.state),v.setValue(C.zip)):(p.setValue(""),f.setValue(""),E.setValue(""),v.setValue(""))}),[h.value]),s.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),S){var n=N.startDate?function(e){var a=e.getHours(),t=e.getMinutes(),n=a>=12?"pm":"am",s=(a=(a%=12)?a:12)+":"+(t=t<10?"0"+t:t)+" "+n;return(e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()+" "+s).toUpperCase()}(N.startDate):"Today",s=JSON.parse(window.localStorage.getItem("userInfo")),c=s?s.position:"",l=Ke(t),i={isSent:!1,order_id:"",customer_id:s?s.userID:"",phone:u.value.replace(/\D/g,""),email:d.value,street:p.value,city:f.value,state:E.value,zipcode:v.value.toString(),totalAmount:l,delivery_note:"",kitchen_id:a.foodbank_id,kitchen_name:a.fb_name,kitchen_address:a.fb_address1,longitude:c[1],latitude:c[0],delivery_date:n,order_type:O,ordered_items:t};window.localStorage.setItem("unconfirmed_order",JSON.stringify(i)),r.push("/order/cart/confirm")}else console.log("Some inputs are invalid")}},s.a.createElement("div",{className:"delivery-confirm"},s.a.createElement("p",{className:"title is-5"},"Customer Information"),s.a.createElement(Pe,{fname:c,lname:i,email:d,phone:u,switchUserInfo:g}),s.a.createElement("div",{className:"divider"}),s.a.createElement("p",{className:"title is-5"},"Delivery Method"),s.a.createElement("div",{className:"tabs is-toggle is-fullwidth is-medium"},s.a.createElement("ul",null,s.a.createElement("li",{className:"delivery"===O?"is-active":"",onClick:0===k.length?function(){return j("pickup")}:function(){return j("delivery")}},s.a.createElement("a",{className:0===k.length?"disabled":""},s.a.createElement("span",{className:"uppercase"},"Delivery"))),s.a.createElement("li",{className:"pickup"===O?"is-active":"",onClick:0===x.length?function(){return j("delivery")}:function(){return j("pickup")}},s.a.createElement("a",{className:0===x.length?"disabled":""},s.a.createElement("span",{className:"uppercase"},"Pick Up"))))),"delivery"===O?s.a.createElement("div",null,s.a.createElement("p",{className:"title is-5"},"Delivery Address"),s.a.createElement(Re,{street:p,city:f,state:E,zip:v,switchUserAddress:h}),s.a.createElement("div",{className:"divider"}),s.a.createElement("p",{className:"title is-5"},"Delivery Options"),s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("div",{className:"field-body"},s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement(We,{props:N}))),s.a.createElement("div",{className:"right-most"},s.a.createElement(Te,{props:b}))))):s.a.createElement(Je,{bank:a,items:t})),s.a.createElement("div",{className:"space-1"}),s.a.createElement("div",{className:"field right-most"},s.a.createElement("div",{className:"control"},s.a.createElement("button",{className:"button is-success",disabled:!S},s.a.createElement("span",{className:"uppercase"},"Place Order"),s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:I.faLongArrowAltRight}))))),s.a.createElement("div",{className:"space-2-5"}))};t(248);var Ze=function(e){var a=e.bank,t=e.user.cart,r=Object(n.useState)(1),c=Object(l.a)(r,2),i=c[0],o=c[1];return window.addEventListener("storage",(function(){o(i+1)})),s.a.createElement("div",{className:"bd-main is-fullheight-with-navbar"},s.a.createElement("div",{className:"checkout-page-layer"},s.a.createElement(te,null),s.a.createElement("div",{className:"checkout-page-content"},s.a.createElement("div",{className:"checkout-page-title"},s.a.createElement("p",{className:"title is-4"},a.fb_name)),s.a.createElement("div",{key:i,className:"checkout-page-body"},s.a.createElement("div",{className:"order-items"},s.a.createElement(Ce,{itemList:t.items})),s.a.createElement("div",{className:"order-confirm fade-in-quick"},s.a.createElement($e,{bank:a,items:t.items}))))))},Qe=function(e){var a=e.api,t=JSON.parse(window.localStorage.getItem("userInfo"));if(a.isLoading)return s.a.createElement(z,null);if(a.hasError||!t)return s.a.createElement(U,null);var n=a.getBankBy("foodbank_id",t.cart.bankId);return t.cart.total&&0!==t.cart.total?s.a.createElement(Ze,{bank:n,user:t}):s.a.createElement(_e,null)},Xe=t(128),ea=t.n(Xe),aa=function(e){var a=e.props,t=e.icon;return s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control has-icons-right"},s.a.createElement("input",{className:a.error.length?"input is-danger":"input",type:a.type,onChange:a.onChange,value:a.value,placeholder:a.name}),t&&s.a.createElement("span",{className:"icon is-right"},s.a.createElement(m.a,{icon:t}))),s.a.createElement("p",{className:"help is-danger"},"Please fill in this field."===a.error?"":a.error))},ta=t(129),na=t.n(ta),sa=t(130),ra=t.n(sa);var ca=function(e){var a="https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/social/",t=Object(n.useContext)(ne),r=Object(o.g)(),c=e.loginStatus,m=Object(n.useState)(null),u=Object(l.a)(m,2),d=u[0],p=u[1],f=Fe("Email","email"),E=Fe("Password","password"),v=function(e){console.log("Data:",e),P.a.get(a+e.email).then((function(a){if(console.log(a),a.data){var t=a.data.result.result;if(t.length)if(console.log("Exists"),e.social===t[0].social_media){var n=t[0].user_id;console.log(n),P.a.post("https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/socialacc/"+n).then((function(a){console.log(a);var t=a.data.result.result,n={firstName:t[0].user_first_name,lastName:t[0].user_last_name,phoneNumber:t[0].user_phone,address1:t[0].user_address1,address2:t[0].user_address2,city:t[0].user_city,state:t[0].user_state,zip:t[0].user_zipcode,email:t[0].user_email,joinDate:t[0].user_join_date,userID:t[0].user_id,loginID:a.data.login_attempt_log.login_id,sessionID:a.data.login_attempt_log.session_id,isCustomer:t[0].user_is_customer,isDonor:t[0].user_is_donor,isAdmin:t[0].user_is_admin,isFoodbank:t[0].user_is_foodbank,social:e.social,loginType:c,position:"",cart:""};b(n)}))}else p("Your account is registered as a ".concat(t[0].social_media," user"));else console.log("No exist"),r.push({pathname:"/signup/social",state:{lastname:e.last_name,firstname:e.first_name,email:e.email,social:e.social,accessToken:e.access,refreshToken:e.refresh,signupStatus:c}})}})).catch((function(e){console.log(e.response)}))},g=function(){var e=Object(F.a)(V.a.mark((function e(a){var t,n,s,r,c,l,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.email){for(console.log("User has tried to login through Facebook.."),t=a.email,n=a.accessToken,s=a.id,r=a.name.split(" "),c=r[r.length-1],l="",i=0;i<r.length-1;i++)l+=r[i]+" ";l=l.slice(0,-1),v({email:t,access:n,refresh:s,first_name:l,last_name:c,social:"Facebook"})}case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),h=function(){var e=Object(F.a)(V.a.mark((function e(a){var t,n,s,r,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.profileObj&&(console.log("User has tried to login through Google.."),t=a.profileObj.email,n=a.accessToken,s=a.googleId,r=a.profileObj.givenName,c=a.profileObj.familyName,v({email:t,access:n,refresh:s,first_name:r,last_name:c,social:"Google"}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),b=function(e){var a=e.loginType,n="customer"===a?"/banks":"donor"===a?"/donate":"admin"===a?"/admin":"/foodbank";t.setIsAuth(!0),window.localStorage.setItem("userInfo",JSON.stringify(e)),r.push(n)};return s.a.createElement("form",{onSubmit:function(e){e.preventDefault()},style:{width:"400px",maxWidth:"100%",margin:"auto"}},s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"has-text-centered has-margin-bottom-0-5"},s.a.createElement("span",{className:"has-margins-0-5"},s.a.createElement(na.a,{appId:"235300190881746",autoLoad:!1,fields:"name,email,picture",onClick:"return false",callback:g,size:"small",textButton:"Login",icon:"fa-facebook-square"})),s.a.createElement("span",{className:"has-margins-0-5"},s.a.createElement(ra.a,{clientId:"1031017519051-tuc2hrq6otb40imvmmc9mucecu2u7ggj.apps.googleusercontent.com",buttonText:"Login",onSuccess:h,onFailure:h,isSignedIn:!1,disable:!1,cookiePolicy:"single_host_origin"}))),s.a.createElement(aa,{props:f,icon:I.faEnvelope}),s.a.createElement(aa,{props:E,icon:I.faLock}),d&&s.a.createElement("p",{className:"has-text-centered has-text-danger"},d),s.a.createElement("div",{className:"has-text-centered"},s.a.createElement("button",{className:"button is-success has-margins-0-5",type:"button",onClick:function(){console.log("User has tried to login.."),f.checkInputs()&E.checkInputs()?(console.log("we did it!"),P.a.get(a+f.value).then((function(e){var a=e.data.result.result;if(e.data&&a.length)p("Your account is registered as a ".concat(a[0].social_media," user"));else{var t={email:f.value,password:E.value};P.a.post("https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/login",t).then((function(e){console.log("response:",e);var a=e.data.result.result;if(200===e.status&&e.data.auth_success)if(a[0].user_email_verified){var t={firstName:a[0].user_first_name,lastName:a[0].user_last_name,phoneNumber:a[0].user_phone,address1:a[0].user_address1,address2:a[0].user_address2,city:a[0].user_city,state:a[0].user_state,zip:a[0].user_zipcode,email:a[0].user_email,joinDate:a[0].user_join_date,userID:a[0].user_id,loginID:e.data.login_attempt_log.login_id,sessionID:e.data.login_attempt_log.session_id,isCustomer:a[0].user_is_customer,isDonor:a[0].user_is_donor,isAdmin:a[0].user_is_admin,isFoodbank:a[0].user_is_foodbank,loginType:c,position:"",cart:""};console.log("what"),b(t)}else p("Please verify your email address before logging in")})).catch((function(e){console.log(e.response?e.response:e),500===e.response.status?p("Failed to connect to the server, please try again later"):401!==e.response.status||e.response.data.auth_success?400===e.response.status?p("User does not exist, please create an account"):p("Error ".concat(d.response.status," :"),e.data.message):p("Invalid email or password")}))}})).catch((function(e){console.log(e.response)}))):(p("Please fill out your login information"),console.log("User has failed to login..",f.error))}},"Login"),"customer"===c&&s.a.createElement(i.b,{to:"/signup"},s.a.createElement("button",{className:"button is-success has-margins-0-5",type:"button"},"Sign Up")))))};var la=function(){return s.a.createElement("div",{className:"login-signup-page"},s.a.createElement("figure",{className:"image is-3by1 has-margin-bottom-0-5",style:{width:"100%"}},s.a.createElement("img",{alt:"placeholder",src:ea.a})),s.a.createElement(ca,{loginStatus:"customer"}))},ia=(Object(n.forwardRef)((function(e,a){var t={vegan:Fe("Vegan","checkbox"),vegetarian:Fe("Vegetarian","checkbox"),glutenFree:Fe("Gluten Free","checkbox"),kosher:Fe("Kosher","checkbox"),halal:Fe("Halal","checkbox"),none:Fe("None","checkbox")},r=Object(n.useState)("hidden"),c=Object(l.a)(r,2),i=c[0],o=c[1],m=[t.vegan.value,t.vegetarian.value,t.glutenFree.value,t.kosher.value,t.halal.value],u=t.vegan.value||t.vegetarian.value||t.glutenFree.value||t.kosher.value||t.halal.value,d=!!t.none.value;return Object(n.useImperativeHandle)(a,(function(){return{checkValues:function(){t.none.value||u||o("")},valid:function(){return t.none.value||u},restrictions:m}})),s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",{className:"is-light-gray"}),s.a.createElement("p",{className:"right-most",title:"Substitutions allow users to choose different items that align with their dietary restrictions to add to their total cart."},"* Opt for substitutions."),s.a.createElement("p",{className:"subtitle is-3 has-text-centered has-text-black"},"Dietary Restrictions*"),s.a.createElement(Te,{props:t.vegan,icon:I.Vegan,isDisabled:d}),s.a.createElement(Te,{props:t.vegetarian,icon:I.Vegetarian,isDisabled:d}),s.a.createElement(Te,{props:t.glutenFree,icon:I.GlutenFree,isDisabled:d}),s.a.createElement(Te,{props:t.kosher,icon:I.Kosher,isDisabled:d}),s.a.createElement(Te,{props:t.halal,icon:I.Halal,isDisabled:d}),s.a.createElement(Te,{props:t.none,isDisabled:u}),s.a.createElement("div",{className:""!==i||!t.none.value&&!0!==u?i:"hidden"},s.a.createElement("article",{className:"message is-danger error-msg"},s.a.createElement("div",{className:"message-body"},"Please select any dietary restrictions you have. If none are applicable, please select N/A."))))})),Object(n.forwardRef)((function(e,a){var t={a_firstName:Fe("First Name","text"),a_lastName:Fe("Last Name","text"),a_dob:Fe("Date of Birth","date")},r=Object(n.useState)([]),c=Object(l.a)(r,2),i=c[0],o=c[1],m=Object(n.useState)(!1),u=Object(l.a)(m,2),d=u[0],p=u[1],f=function(){for(var e in t)t[e].resetinput();p(!1)};return Object(n.useImperativeHandle)(a,(function(){return{persons:i}})),s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"has-text-centered"},d?s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:"button is-success has-margins-0-5",onClick:f},"Cancel"),s.a.createElement("button",{className:"button is-success has-margins-0-5",onClick:function(){var e=[t.a_firstName.value,t.a_lastName.value,t.a_dob.value],a=!0;for(var n in t)t[n].isValid||(a=!1);a&&(i.push(e),o(Object(pe.a)(i)),f(),console.log(i))}},"Save")):s.a.createElement("button",{className:"button is-success has-margins-0-5",onClick:function(){return p(!0)}},"Add a Family Member")),d&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Te,{props:t.a_firstName}),s.a.createElement(Te,{props:t.a_lastName}),s.a.createElement(Te,{props:t.a_dob})),s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"column"},i.map((function(e,a){return s.a.createElement("p",{key:a},e[0]+" "+e[1]," ",s.a.createElement("button",{onClick:function(){return function(e){i.splice(e,1),console.log(e),console.log(i),o(Object(pe.a)(i))}(a)}}," X "))})))))})));var oa=function(e){var a=Me(),t=Object(o.g)(),r=Object(n.useRef)(),c=Object(o.h)(),i=e.signupStatus,m=e.isSocial,u={firstName:Fe("First Name","text"),lastName:Fe("Last Name","text"),dob:Ye("Date of Birth",!1,null,new Date),phoneNumber:Fe("Phone Number","tel"),email:Fe("Email Address","email"),emailConfirm:Fe("Confirm Email","email",!m),password:Fe("Password","password",!m),passwordConfirm:Fe("Confirm Password","password",!m),address_1:Fe("Address 1","text","customer"!==i),address_2:Fe("Address 2","text",!1),city:Fe("City","text","customer"!==i),state:Fe("State","text","customer"!==i),zip:Fe("Zip","text","customer"!==i),license:Fe("Drivers License","text",!1),licenseImg:Fe("License Image","file",!1),monthlyIncome:Fe("Monthly Income","number",!1)},d=Object(n.useState)(),p=Object(l.a)(d,2),f=p[0],E=p[1],v=Object(n.useState)(),g=Object(l.a)(v,2),h=g[0],b=g[1],N=Object(n.useState)(),y=Object(l.a)(N,2),k=y[0],x=y[1];function w(e){u.email.setValue(e.email),u.firstName.setValue(e.firstname?e.firstname:""),u.lastName.setValue(e.lastname?e.lastname:""),E(e.accessToken),b(e.refreshToken),x(e.social)}Object(n.useEffect)((function(){!function(){var e=Object(F.a)(V.a.mark((function e(a){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m||!a){e.next=3;break}return e.next=3,w(a);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()(c.state)}),[]);var _=function(e){return console.log(e,i),e===i?1:0};return m&&!c.state?s.a.createElement(U,null):s.a.createElement("form",{onSubmit:function(e){e.preventDefault()},onKeyPress:function(e){13===e.which&&e.preventDefault()},style:{width:"720px",maxWidth:"100%",margin:"auto"}},s.a.createElement("div",{className:"column has-text-black"},s.a.createElement("div",null,s.a.createElement("div",{className:"columns has-margin-top-1"},s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:u.firstName})),s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:u.lastName}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-8"},s.a.createElement(Te,{props:u.phoneNumber})),s.a.createElement("div",{className:"column"},s.a.createElement(We,{props:u.dob}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:u.email,readOnly:!!m})),!m&&s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:u.emailConfirm}))),!m&&s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:u.password})),s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:u.passwordConfirm})))),s.a.createElement("hr",{className:"is-light-gray"}),s.a.createElement("div",null,"customer"===i&&s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"subtitle is-3 has-margin-top-1 has-text-centered has-text-black"},"Would you like to add a permanent address?"),s.a.createElement("p",{className:"subtitle is-4 has-text-centered has-text-black"},"Or ",s.a.createElement("u",null,"use my current location")," instead.")),s.a.createElement("p",{className:"subtitle is-4 has-margin-top-1 has-text-centered has-text-black"},"Add An Address"),s.a.createElement("div",{className:"columns has-margin-top-1"},s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:u.address_1})),s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:u.address_2}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:u.city})),s.a.createElement("div",{className:"column"},s.a.createElement(Be,{props:u.state,data:a.data})),s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:u.zip})))),"customer"===i&&s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",{className:"is-light-gray"}),s.a.createElement("div",null,s.a.createElement("p",{className:"subtitle is-3 has-margin-top-1 has-text-centered has-text-black"},"Additional Personal Information"),s.a.createElement("div",{className:"columns has-margin-top-1"},s.a.createElement(ia,{ref:r}),s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:u.license}),s.a.createElement("div",{className:"box"},s.a.createElement(Te,{props:u.licenseImg})))),s.a.createElement(Te,{props:u.monthlyIncome}))),s.a.createElement("div",{className:"has-text-centered"},s.a.createElement("button",{className:"button is-success has-margin-top-1 has-margin-bottom-0-5",type:"button",onClick:function(){console.log("User has tried to sign up..");var e=function(){var e=!0;for(var a in u)console.log(a,u[a].isValid),!u[a].checkInputs()&&e&&(e=!1);return e}();if(!m&&e&&(u.email.value!==u.emailConfirm.value&&(console.log("Email mismatch."),e=!1),u.password.value!==u.passwordConfirm.value&&(console.log("Password mismatch."),e=!1)),e){var a={};for(var n in u)"file"!==u[n].type?a[n]=u[n].value:a[n]=u[n].file;a.persons=r.current?r.current.persons:[],console.log("Data:",a),console.log("we did it!");var s={first_name:u.firstName.value,last_name:u.lastName.value,address1:u.address_1.value,address2:u.address_2.value,city:u.city.value,state:u.state.value,zipcode:u.zip.value,phone:u.phoneNumber.value.replace(/\D/g,""),email:u.email.value,password:u.password.value,user_is_customer:_("customer"),user_is_donor:_("donor"),user_is_admin:_("admin"),user_is_foodbank:_("foodbank")};m&&(delete s.password,s.access_token=f,s.refresh_token=h,s.social_media=k),console.log("Test:",s),P.a.post(m?"https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/socialsignup":"https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/signup",s).then((function(e){if(console.log(e),200===e.status){var a=m?"/login":"/signup/verify";t.push(a)}})).catch((function(e){console.log(e.response)}))}else console.log("Sign up failed...")}},"Sign Up"))))};var ma=function(){return s.a.createElement("div",{className:"login-signup-page signup-background-image"},s.a.createElement("p",{className:"subtitle is-1 has-margin-top-1 has-text-centered has-text-black"},"Sign Up"),s.a.createElement(oa,{signupStatus:"customer"}))};var ua=function(){return s.a.createElement("div",{className:"login-signup-page signup-background-image"},s.a.createElement(oa,{signupStatus:"customer",isSocial:!0}))},da=function(){return s.a.createElement("div",{className:"login-signup-page"},s.a.createElement("div",{className:"tile is-ancestor"},s.a.createElement("div",{className:"tile is-parent has-margin-top-1"},s.a.createElement("article",{className:"tile box is-child notification is-primary"},s.a.createElement("h6",{className:"has-text-white has-text-centered"},"You have successfully created a Feed The Hungry account!",s.a.createElement("br",null),s.a.createElement("br",null),"A confirmation email has been sent to your email address with instructions to help you complete your registration.",s.a.createElement("br",null),s.a.createElement("br",null),"Thank you.")))))};var pa=function(){var e=Fe("First Name","text"),a=Fe("Last Name","text"),t=Fe("Email Address","email"),n=Fe("Phone Number","tel"),r=Fe("Donation Details","textarea");return s.a.createElement("form",{className:"has-text-left",onSubmit:function(e){e.preventDefault()},style:{width:"480px",maxWidth:"100%",margin:"auto"}},s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:e,errorOnSubmit:!0})),s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:a}))),s.a.createElement(Te,{props:t}),s.a.createElement(Te,{props:n}),s.a.createElement(Te,{props:r}),s.a.createElement("div",{className:"has-text-centered"},s.a.createElement("button",{className:"button is-success has-margins-0-5",onClick:function(){console.log("User has tried to submit donation.."),e.checkInputs()&a.checkInputs()&t.checkInputs()&n.checkInputs()&r.checkInputs()?console.log("we did it!"):console.log("User has failed to submit..")}},"Submit"))))};var fa=function(){var e=Object(n.useState)(!0),a=Object(l.a)(e,2),t=a[0],r=a[1];return s.a.createElement("div",{className:"donate-page has-text-centered"},s.a.createElement("p",{className:"subtitle is-2 has-text-black"},"Donate Now!"),s.a.createElement("div",{className:"columns",style:{width:"100%",margin:"auto"}},s.a.createElement("div",{className:"column is-half"},s.a.createElement("div",{className:"card donate-card"},s.a.createElement("p",{className:"subtitle is-3 has-text-black"},"Quick Donation"),s.a.createElement("p",null,"Make donations without signing in!"),s.a.createElement(pa,null))),s.a.createElement("div",{className:"column is-half"},t?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"card donate-card"},s.a.createElement("p",{className:"subtitle is-3 has-text-black"},"Login now!"),s.a.createElement("p",null,"New to Feed the Hungry? ",s.a.createElement("a",{href:"#",onClick:function(){return r(!t)}},s.a.createElement("u",null,"Create an account")),"."),s.a.createElement(ca,{loginStatus:"donor"}))):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"card donate-card"},s.a.createElement("p",{className:"subtitle is-3 has-text-black"},"Sign up now!"),s.a.createElement("p",null,"Already have an account? ",s.a.createElement("a",{href:"#",onClick:function(){return r(!t)}},s.a.createElement("u",null,"Sign in")),"."),s.a.createElement("div",{className:"has-text-left"},s.a.createElement(oa,{signupStatus:"donor"})))))))};var Ea=function(e){var a=e.userInfo,t=Me(),r=Fe("Address 1","text"),c=Fe("Address 2","text",!1),i=Fe("City","text"),o=Fe("State","text"),m=Fe("Zip","text"),u=Object(n.useState)(!1),d=Object(l.a)(u,2),p=d[0],f=d[1];return Object(n.useEffect)((function(){a.address1&&a.city&&a.state&&a.zip&&f(!0)}),[]),s.a.createElement("form",{onSubmit:function(e){e.preventDefault()},style:{width:"720px",margin:"auto"}},s.a.createElement("p",null,"WORK IN PROGRESS (BASED ON LOGIN TYPE, ASK FOR CERTAIN EXTRA INFO)"),s.a.createElement("div",{className:"column has-text-left"},!p&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:r})),s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:c}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:i})),s.a.createElement("div",{className:"column"},s.a.createElement(Be,{props:o,data:t.data})),s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:m}))))),s.a.createElement("button",{className:"button is-success",type:"button",onClick:function(t){if(p||r.isValid&&c.isValid&&i.isValid&&o.isValid&&m.isValid){console.log("Inputs are valid");var n="https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/edit_user_status/".concat(a.userID,"?");P.a.get(n+"user_is_donor=1&"+'user_address1="'.concat(r.value,'"&')+'user_address2="'.concat(c.value,'"&')+'user_city="'.concat(i.value,'"&')+'user_state="'.concat(o.value,'"&')+'user_zipcode="'.concat(m.value,'"')).then((function(){a.isDonor=1,a.address1=r.value,a.address2=c.value,a.city=i.value,a.state=o.value,a.zip=m.value,window.localStorage.setItem("userInfo",JSON.stringify(a)),e.setValue(1)}))}}},"Submit"))};var va=function(){var e=[{id:"700-00001",bank:"Lord's Pantry",type:"Canned Beans",amount:3,date_sent:"2020-03-27",date_received:"2020-04-01"},{id:"700-00002",bank:"Lord's Pantry",type:"Cash",amount:24.99,date_sent:"2020-04-06",date_received:"2020-04-08"}];return s.a.createElement(s.a.Fragment,null,e.length?s.a.createElement("table",{className:"table is-striped is-hoverable is-fullwidth has-text-centered"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"has-text-centered"},"Donation ID"),s.a.createElement("th",{className:"has-text-centered"},"Food Bank"),s.a.createElement("th",{className:"has-text-centered"},"Type"),s.a.createElement("th",{className:"has-text-centered"},"Value"),s.a.createElement("th",{className:"has-text-centered"},"Date Sent"),s.a.createElement("th",{className:"has-text-centered"},"Date Received"))),s.a.createElement("tbody",null,e.map((function(e,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",{className:"has-text-centered"},e.id),s.a.createElement("td",{className:"has-text-centered"},e.bank),s.a.createElement("td",{className:"has-text-centered"},e.type),s.a.createElement("td",{className:"has-text-centered"},e.amount),s.a.createElement("td",{className:"has-text-centered"},e.date_sent),s.a.createElement("td",{className:"has-text-centered"},e.date_received))})))):s.a.createElement("p",{className:"is-size-4 is-italic has-text-grey-light"},"Donation history not found..."))};function ga(e){var a=Fe("Produce Name","text"),t=Fe("Quantity","number"),n=Fe("Expiration Date","date"),r=Fe("Donation Receiver","text"),c=Fe("Donation Currency","number"),l=Fe("Additional Information","textarea",!1);return s.a.createElement("form",{onSubmit:e.handleSubmit,style:{width:"720px",maxWidth:"100%",margin:"auto"}},"produce"===e.name?s.a.createElement("div",{className:"has-text-left"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:r})),s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:a}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:t})),s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:n})),s.a.createElement("div",{className:"column"},"Checkbox [N/A]")),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:l})))):s.a.createElement("div",{className:"has-text-left"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:r})),s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:c}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(Te,{props:l})))),s.a.createElement("button",{className:"button is-success has-margins-0-5",name:"cancel",type:"button",onClick:e.handleClick},"Cancel"),s.a.createElement("button",{className:"button is-success has-margins-0-5",type:"button",onClick:function(){console.log("Submitted ".concat(e.name," donation.."))}},"Submit"))}var ha=function(){var e=Object(n.useState)(0),a=Object(l.a)(e,2),t=a[0],r=a[1],c=function(e){var a=e.target.name;r("cancel"===a?0:"produce"===a?1:2)};return s.a.createElement("div",{style:{marginTop:"15vh"}},0===t&&s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"is-size-4 is-italic"},"What would you like to donate?"),s.a.createElement("button",{className:"button is-text has-margins-0-5",onClick:c,name:"produce"},"Produce"),s.a.createElement("button",{className:"button is-text has-margins-0-5",onClick:c,name:"cash"},"Cash")),0!==t&&s.a.createElement(ga,{name:1===t?"produce":"cash",handleClick:c,handleSubmit:function(e){e.preventDefault()}}))};var ba=function(){var e=JSON.parse(window.localStorage.getItem("userInfo")),a=Object(n.useState)(0),t=Object(l.a)(a,2),r=t[0],c=t[1],i=Object(n.useState)(!0),o=Object(l.a)(i,2),m=o[0],u=o[1],d=Object(n.useState)(e.isDonor),p=Object(l.a)(d,2),f=p[0],E=p[1];Object(n.useEffect)((function(){var a="https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/edit_user_status/".concat(e.userID,"?");e.isDonor?u(!1):e.address1&&e.city&&e.state&&e.zip?(e.isDonor=1,P.a.get(a+"user_is_donor=1").then((function(a){console.log(a),E(1),u(!1),window.localStorage.setItem("userInfo",JSON.stringify(e))})).catch((function(e){console.log(e.response)}))):u(!1)}),[]);var v=function(e){console.log(e.target.name);var a=e.target.name;c("donate"===a?0:"volunteer"===a?1:2)};return!m&&s.a.createElement("div",{className:"donate-page has-text-centered"},f?s.a.createElement(s.a.Fragment,null,s.a.createElement("nav",{className:"level is-mobile"},s.a.createElement("p",{className:"level-item has-text-centered",style:{margin:"0"}},s.a.createElement("button",{name:"donate",className:"button is-fullwidth is-success"+(0===r?" is-active":""),onClick:v},"Make Donation")),s.a.createElement("p",{className:"level-item has-text-centered",style:{margin:"0"}},s.a.createElement("button",{name:"volunteer",className:"button is-fullwidth is-success"+(1===r?" is-active":""),onClick:v},"Volunteer")),s.a.createElement("p",{className:"level-item has-text-centered",style:{margin:"0"}},s.a.createElement("button",{name:"history",className:"button is-fullwidth is-success"+(2===r?" is-active":""),onClick:v},"History"))),0===r&&s.a.createElement(ha,null),1===r&&s.a.createElement("div",{className:"column"},"List of food banks requiring volunteers",s.a.createElement("br",null),"OR",s.a.createElement("br",null),"Fill form (location, contact info, etc) and based on form inputs, a nearby food bank in need will choose from a queue of volunteers"),2===r&&s.a.createElement(va,null)):s.a.createElement(Ea,{type:"donor",userInfo:e,setValue:E}))},Na=t(95),ya=t(131),ka=t.n(ya);var xa=function(){return s.a.createElement("div",{className:"not-found-page"},s.a.createElement("div",{className:"not-found-page-body"},s.a.createElement("figure",{className:"image is-128x128"},s.a.createElement("img",{src:ka.a,alt:"Not-found image"})),s.a.createElement("div",{className:"not-found-page-content"},s.a.createElement("p",{className:"title is-6 has-text-grey"},"Oh no! A problem occurred when we were trying to process your order."),s.a.createElement("p",{className:"subtitle is-bold is-6 has-text-grey "},"Your order could not be placed."),s.a.createElement("div",{className:"space-1-5"}),s.a.createElement(i.b,{to:"/"},s.a.createElement("button",{className:"button is-danger"},s.a.createElement("span",null,"Contact Support"))))))};var wa=function(e){var a=e.initialUrl,t=e.unconfirmed_order,r=e.order,c=Object(n.useState)(a),i=Object(l.a)(c,2),o=i[0],m=(i[1],Object(n.useState)(t)),u=Object(l.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)(!1),E=Object(l.a)(f,2),v=E[0],g=E[1],h=Object(n.useState)(!1),b=Object(l.a)(h,2),N=b[0],y=b[1],k=Object(n.useContext)(ne);return Object(n.useEffect)((function(){var e=function(){var e=Object(F.a)(V.a.mark((function e(){var a,t,n,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,P.a.post(o,r);case 4:return a=e.sent,e.next=7,a.data;case 7:t=e.sent,(n=JSON.parse(window.localStorage.getItem("userInfo")))&&n.cart&&(n.cart=""),s="https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/edit_user_status/".concat(n.userID,"?"),n.isCustomer||(n.isCustomer=1,P.a.get(s+"user_is_customer=1").then((function(){window.localStorage.setItem("userInfo",JSON.stringify(n))})).catch((function(e){console.log(e.response)}))),window.localStorage.setItem("userInfo",JSON.stringify(n)),k.setCartTotal(0),p((function(e){return Object(Na.a)(Object(Na.a)({},e),{},{isSent:!0,order_id:t.result.order_id})})),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0),y(!0);case 21:return e.prev=21,g(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,17,21,24]])})));return function(){return e.apply(this,arguments)}}();d.isSent||e()}),[o]),window.localStorage.setItem("unconfirmed_order",JSON.stringify(d)),v?s.a.createElement(z,null):N?s.a.createElement(xa,null):s.a.createElement("div",{className:"confirmation-page"},s.a.createElement("div",{className:"confirmation-page-layer"},s.a.createElement("div",{className:"confirmation-page-content"},s.a.createElement("div",{className:"confirmation-page-title"},s.a.createElement("p",{className:"title is-3"},d.kitchen_name)),s.a.createElement("div",{className:"space-2-5"}),s.a.createElement("div",{className:"confirmation-page-body"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-7"},s.a.createElement("div",{className:"confirm-order-container"},s.a.createElement("p",{className:"title is-6"},"Your order has been placed"),s.a.createElement("p",{className:"title is-6"},"Confirmation number: ",d.order_id," "),s.a.createElement("p",{className:"subtitle is-6"},"A confirmation email has been sent to"," ",d.email),s.a.createElement("p",{className:"subtitle is-6"},"Click ",s.a.createElement("a",{href:"#"},"here")," to resend confirmation email"),s.a.createElement("div",{className:"divider"}),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-4"},s.a.createElement("p",{className:"subtitle is-6"},"Delivery confirmed for: ",d.date),s.a.createElement("p",{className:"subtitle is-6"}," ","delivery"===r.order_type?"Delivery address":"Pickup address",":")),s.a.createElement("div",{className:"column is-8"},s.a.createElement("p",{className:"subtitle is-6"},d.delivery_date),"delivery"===d.order_type?s.a.createElement("div",null,s.a.createElement("p",{className:"subtitle is-6"},d.street),s.a.createElement("p",{className:"subtitle is-6"},d.city,", ",d.state," ",d.zipcode)):s.a.createElement("p",{className:"subtitle is-6"},d.kitchen_address))))),s.a.createElement("div",{className:"column is-5"},s.a.createElement("div",{className:"total-order-container"},d.ordered_items.map((function(e){return s.a.createElement("div",{key:e.info.food_id,className:"card cart-item"},s.a.createElement("div",{className:"card-image cart-item-image"},s.a.createElement("img",{src:e.info.fl_image,alt:"Placeholder image"})),s.a.createElement("div",{className:"card-content no-overflow"},s.a.createElement("p",{className:"title is-7 has-text-grey-light item-brand"},e.info.fl_brand),s.a.createElement("p",{className:"subtitle is-6 is-bold"},e.info.fl_name),s.a.createElement("span",{className:"tag"},s.a.createElement("span",{className:"subtitle is-7"},e.info.fl_package_type," x",e.amount))))})))))),s.a.createElement("div",{className:"divider"}))))},_a=Object(o.k)((function(){var e=JSON.parse(window.localStorage.getItem("unconfirmed_order"))||{},a=e.ordered_items?e.ordered_items:[];if(0===a.length)return s.a.createElement(U,null);var t={customer_id:e.customer_id,phone:e.phone,street:e.street,city:e.city,state:e.state,zipcode:e.zipcode,totalAmount:e.totalAmount,delivery_note:"",kitchen_id:e.kitchen_id,longitude:e.longitude,latitude:e.latitude,delivery_date:e.delivery_date,order_type:e.order_type,ordered_items:[]};return a.forEach((function(e){return t.ordered_items.push({meal_id:e.info.food_id,qty:e.amount})})),console.log(t),s.a.createElement(wa,{initialUrl:"https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/add_order",unconfirmed_order:e,order:t})})),Oa=(t(249),t(132)),ja=t.n(Oa),Sa=t(133),Ca=t.n(Sa),Ia=t(134),Da=t.n(Ia),Aa=t(135),za=t.n(Aa),La=t(136),Va=t.n(La);function Fa(){var e=Fe("Name","text"),a=Fe("Email","email"),t=Fe("Phone","text",!1),r=Fe("Address","text",!1),c=Fe("Subject","text"),i=Fe("Type your message here...","textarea"),o=Object(n.useState)(!1),u=Object(l.a)(o,2),d=u[0],p=u[1];return s.a.createElement("div",{className:"contact-right-content"},d?s.a.createElement("div",{className:"message-sent"},s.a.createElement("p",{className:"is-Raleway has-text-green",style:{fontSize:40,marginBottom:"33px"}},"Thank you!"," "),s.a.createElement("span",{className:"icon has-text-green is-large",style:{marginBottom:"36px"}},s.a.createElement(m.a,{icon:I.faCheckCircle,style:{fontSize:"64px"}})),s.a.createElement("p",{className:"is-Nunito has-text-white",style:{fontSize:15,marginBottom:"33px"}},"Your message has been sent"," ")):s.a.createElement("form",{className:"contact-form"},s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("div",{className:"field-body"},s.a.createElement(Te,{props:e,color:"is-white"}),s.a.createElement(Te,{props:a,color:"is-white"}))),s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("div",{className:"field-body"},s.a.createElement(Te,{props:t,color:"is-white"}),s.a.createElement(Te,{props:r,color:"is-white"}))),s.a.createElement(Te,{props:c,color:"is-white"}),s.a.createElement(Te,{props:i,color:"is-white"}),s.a.createElement("button",{className:"button is-fullWidth submit-btn",disabled:!(e.isValid&&a.isValid&&!(!c.isValid|!i.isValid)),onClick:function(t){if(t.preventDefault(),e.isValid&&a.isValid&&c.isValid&&i.isValid){!function(e,a){window.emailjs.send("gmail",e,a).then((function(e){console.log("Email successfully sent!"),p(!0)})).catch((function(e){console.error("Oh well, you failed. Here some thoughts on the error that occured:",e),p(!1)}))}("template_L4Ie7OMc",{message_html:i.value,subject:c.value,to_user_email:a.value,from_user_name:e.value,from_user_email:a.value,to_email:"kumaqi97@gmail.com"})}}},"Submit")))}var Ta=function(){return s.a.createElement("div",{className:"bd-main is-fullheight-with-navbar"},s.a.createElement("section",{className:"splash-banner"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-6 has-no-padding splash-banner-left"},s.a.createElement("div",{className:"parallax"})),s.a.createElement("div",{className:"column is-6 has-no-padding splash-banner-right"},s.a.createElement("div",{className:"splash-banner-right-content"},s.a.createElement("p",{className:"splash-banner-title"},"GET FREE GROCERIES"),s.a.createElement("p",{className:"splash-banner-subtitle"},"Order now for pick up or free delivery!"),s.a.createElement(i.b,{to:"/banks"},s.a.createElement("button",{className:"button get-food-btn"},"Get Food")))))),s.a.createElement("section",{className:"steps"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"steps-title"},s.a.createElement("p",{className:"is-Raleway has-text-green",style:{fontSize:40}},"3 SIMPLE STEPS")),s.a.createElement("div",{className:"level"},s.a.createElement("div",{className:"level-item has-text-centered"},s.a.createElement("div",{className:"step-item"},s.a.createElement("div",{className:"step-item-image"},s.a.createElement("img",{src:Va.a,alt:"Sign Up Image"})),s.a.createElement("div",{className:"step-item-content",style:{backgroundColor:"black"}},s.a.createElement("p",{className:"step-title"},"LOGIN / SIGN UP"),s.a.createElement("p",{className:"is-Nunito has-text-white"},"Register in under 3 minutes")))),s.a.createElement("div",{className:"level-item has-text-centered"},s.a.createElement("div",{className:"step-item"},s.a.createElement("div",{className:"step-item-image"},s.a.createElement("img",{src:za.a,alt:"Products Image"})),s.a.createElement("div",{className:"step-item-content",style:{backgroundColor:"#009E00"}},s.a.createElement("p",{className:"step-title"},"SELECT PRODUCTS"),s.a.createElement("p",{className:"is-Nunito has-text-white"},"Get groceries you love")))),s.a.createElement("div",{className:"level-item has-text-centered"},s.a.createElement("div",{className:"step-item"},s.a.createElement("div",{className:"step-item-image"},s.a.createElement("img",{src:Da.a,alt:"Products Image"})),s.a.createElement("div",{className:"step-item-content",style:{backgroundColor:"#C2B39B"}},s.a.createElement("p",{className:"step-title"},"FREE PICKUP/DELIVERY"),s.a.createElement("p",{className:"is-Nunito has-text-white"},"Contactless doorstep delivery"))))))),s.a.createElement("section",{className:"quotes"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"columns",style:{margin:0,width:"100%"}},s.a.createElement("div",{className:"column has-no-padding"},s.a.createElement("figure",{className:"image is-480"},s.a.createElement("img",{src:Ca.a,alt:"Quote Image"}))),s.a.createElement("div",{className:"column has-no-padding"},s.a.createElement("div",{className:"quotes-text-container"},s.a.createElement("div",{className:"quotes-text"},s.a.createElement("p",{className:"quote-title"},"\u201cOne of the greatest feelings in the world is knowing that we as individuals can make a difference. Ending hunger in America is a goal that is literally within our grasp.\u201d"),s.a.createElement("p",{className:"quote-subtitle"},"Jeff Bridges"))))))),s.a.createElement("section",{className:"overlay"},s.a.createElement("figure",{className:"image is-560"},s.a.createElement("img",{src:ja.a}))),s.a.createElement("section",{className:"contact"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"columns",style:{margin:0}},s.a.createElement("div",{className:"column has-no-padding"},s.a.createElement("div",{className:"contact-left-content"},s.a.createElement("div",{className:"contact-left-text"},s.a.createElement("p",{className:"is-Raleway has-text-green",style:{fontSize:40,marginBottom:"33px"}},"How can we help you today?"),s.a.createElement("p",{className:"is-Nunito has-text-white",style:{fontSize:15}},"Please send us a message or email us at partnership@infiniteoptions.com")))),s.a.createElement("div",{className:"column has-no-padding"},s.a.createElement(Fa,null))))))},Pa=t(69),Ma=function(e){var a=e.component,t=Object(Pa.a)(e,["component"]),r=Object(n.useContext)(ne);return s.a.createElement(o.b,Object.assign({},t,{render:function(e){return r.isAuth?s.a.createElement(a,e):s.a.createElement(o.a,{to:"/login"})}}))},Ba=function(e){var a=e.component,t=Object(Pa.a)(e,["component"]),r=Object(n.useContext)(ne);return s.a.createElement(o.b,Object.assign({},t,{render:function(e){return r.isAuth?s.a.createElement(o.a,{to:"/"}):s.a.createElement(a,e)}}))};var Ra=function(){var e=Object(n.useState)(!1),a=Object(l.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(!0),m=Object(l.a)(c,2),u=m[0],d=m[1],p=Object(n.useState)(0),f=Object(l.a)(p,2),E=f[0],v=f[1],g=M("https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/foodbanks");function h(){try{!t&&JSON.parse(window.localStorage.getItem("userInfo"))?(console.log("Authenticated"),r(!0)):JSON.parse(window.localStorage.getItem("userInfo"))||(console.log("User is not logged in"),r(!1))}catch(e){console.log(e)}d(!1)}return Object(n.useEffect)((function(){return h(),window.addEventListener("storage",h),function(){window.removeEventListener("storage",h)}}),[]),!u&&s.a.createElement(i.a,{basename:"feed-the-hungry",onUpdate:function(){return window.scrollTo(0,0)}},s.a.createElement(ne.Provider,{value:{cartTotal:E,setCartTotal:v,isAuth:t,setIsAuth:r}},s.a.createElement(ke,null),s.a.createElement(o.d,null,s.a.createElement(Ba,{exact:!0,path:"/login",component:la}),s.a.createElement(Ba,{exact:!0,path:"/signup",component:ma}),s.a.createElement(Ba,{exact:!0,path:"/donateform",component:fa}),s.a.createElement(Ma,{exact:!0,path:"/donate",component:ba}),s.a.createElement(o.b,{exact:!0,path:"/banks"},s.a.createElement(ae,{api:g})),s.a.createElement(o.b,{exact:!0,path:"/"},s.a.createElement(Ta,null)),s.a.createElement(o.b,{exact:!0,path:"/loading",component:z}),s.a.createElement(Ba,{exact:!0,path:"/signup/social",component:ua}),s.a.createElement(Ba,{exact:!0,path:"/signup/verify",component:da}),s.a.createElement(Ma,{exact:!0,path:"/banks/:bankId/products"},s.a.createElement(he,{api:g})),s.a.createElement(Ma,{exact:!0,path:"/order/cart"},s.a.createElement(Qe,{api:g})),s.a.createElement(Ma,{exact:!0,path:"/order/cart/confirm",component:_a}),s.a.createElement(o.b,{component:U}),s.a.createElement(o.a,{to:"/404"})),s.a.createElement(ee,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(i.a,null,s.a.createElement(Ra,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},33:function(e,a,t){},49:function(e,a,t){},52:function(e,a,t){e.exports=t.p+"static/media/kosher.a05262d3.png"},53:function(e,a,t){e.exports=t.p+"static/media/gluten_free.c5a3deab.png"},54:function(e,a,t){e.exports=t.p+"static/media/vegan.b5cece1e.png"},55:function(e,a,t){e.exports=t.p+"static/media/vegetarian.b27bed4d.png"},57:function(e,a,t){e.exports=t.p+"static/media/Spinner.2e57d8ab.svg"}},[[140,1,2]]]);
//# sourceMappingURL=main.3c0b6b8b.chunk.js.map
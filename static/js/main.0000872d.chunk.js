(this["webpackJsonpfeed-the-hungry"]=this["webpackJsonpfeed-the-hungry"]||[]).push([[0],{104:function(e,a,t){e.exports=t.p+"static/media/confirmation.3c02e813.svg"},108:function(e,a,t){e.exports=t.p+"static/media/Delivery.af41986f.png"},109:function(e,a,t){e.exports=t.p+"static/media/Pickup.011b01ba.png"},110:function(e,a,t){e.exports=t.p+"static/media/kosher.a05262d3.png"},111:function(e,a,t){e.exports=t.p+"static/media/gluten_free.c5a3deab.png"},112:function(e,a,t){e.exports=t.p+"static/media/vegan.b5cece1e.png"},113:function(e,a,t){e.exports=t.p+"static/media/vegetarian.b27bed4d.png"},114:function(e,a,t){e.exports=t.p+"static/media/halal.6694f867.png"},115:function(e,a,t){e.exports=t.p+"static/media/404.1a53adde.svg"},124:function(e,a,t){e.exports=t.p+"static/media/farmers-market.7128b6c5.jpg"},127:function(e,a,t){e.exports=t.p+"static/media/failed-order.fcc8c2fa.svg"},132:function(e,a,t){e.exports=t(241)},137:function(e,a,t){},139:function(e,a,t){},144:function(e,a,t){},147:function(e,a,t){},148:function(e,a,t){e.exports=t.p+"static/media/loading.d317a4d9.png"},166:function(e,a,t){},181:function(e,a,t){},240:function(e,a,t){},241:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(30),l=t.n(r),c=(t(137),t(87),t(4)),i=t(7),o=t(15),m=(t(138),t(139),t(34),t(10)),u=t(9),d=t(48),p=t.n(d),f=(t(104),t(144),t(105)),v=(Object(f.a)({basename:"/feed-the-hungry"}),t(106)),E=t(107),g=t(129),b=t(128),h=t(248),N=t(249),k=t(247),y=t(250),_=t(71),O=t(108),x=t.n(O),w=t(109),j=t.n(w),S=t(16),I=t(110),C=t.n(I),A=t(111),D=t.n(A),M=t(112),L=t.n(M),z=t(113),P=t.n(z),U=t(114),F=t.n(U),V={faShippingFast:u.u,faCube:u.k,faMapPin:u.q,faClock:u.j,faMapMarkerAlt:u.p,faCalendarAlt:u.b,faCheckCircle:u.d,faCheck:u.c,faStar:u.x,faSearch:u.t,faShoppingCart:u.w,faPlus:u.s,faMinus:u.r,faChevronUp:u.h,faChevronDown:u.e,Delivery:x.a,Pickup:j.a,faTimes:u.y,faLongArrowAltLeft:u.n,faTrashAlt:u.z,faCircleNotch:u.i,Kosher:C.a,GlutenFree:D.a,Vegan:L.a,Vegetarian:P.a,Halal:F.a,faShoppingBasket:u.v,faLongArrowAltRight:u.o,faChevronLeft:u.f,faChevronRight:u.g,faWalking:u.B,faTruck:u.A,faEnvelope:u.l,faLock:u.m,faBoxOpen:u.a,MarkerIcon:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:41;return new S.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-".concat(e,".png"),shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[a,t],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})}};t(147);var T=function(e,a,t,n,s){var r=Math.PI*e/180,l=Math.PI*t/180,c=a-n,i=Math.PI*c/180,o=Math.sin(r)*Math.sin(l)+Math.cos(r)*Math.cos(l)*Math.cos(i);return o=60*(o=180*(o=Math.acos(o))/Math.PI)*1.1515,"K"==s&&(o*=1.609344),"M"==s&&(o*=.8684),o},R=function(e){Object(g.a)(t,e);var a=Object(b.a)(t);function t(){return Object(v.a)(this,t),a.apply(this,arguments)}return Object(E.a)(t,[{key:"render",value:function(){var e=this.props.coords?this.props.coords.latitude:37.338208,a=this.props.coords?this.props.coords.longitude:-121.886329,t=this.props.banks,n=this.props.marker;return s.a.createElement(h.a,{center:[e,a],zoom:11},s.a.createElement(N.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),this.props.coords?s.a.createElement(k.a,{position:[e,a],icon:V.MarkerIcon("red")},s.a.createElement(y.a,null,s.a.createElement("div",{className:"marker-popup"},s.a.createElement("p",{className:"title has-font-14"},"Your Location"),s.a.createElement("p",{className:"subtitle has-font-14"}," ","(",e,",",a,")"," ")))):s.a.createElement("div",{className:"loading"},"Cannot load current location."),Array.isArray(t)?t.map((function(t){return s.a.createElement(J,{key:t.foodbank_id,userLocation:[e,a],bankLocation:t,marker:n})})):s.a.createElement(J,{userLocation:[e,a],bankLocation:t,marker:n}))}}]),t}(s.a.Component),J=function(e){var a=e.userLocation,t=e.bankLocation,r=e.marker,l=Object(n.useState)(V.MarkerIcon("green")),m=Object(c.a)(l,2),u=m[0],d=m[1],p=Object(o.j)(),f=p.path;p.url;Object(n.useEffect)((function(){r.activeMarker===t.foodbank_id?d(V.MarkerIcon("black",26,42)):d(V.MarkerIcon("green"))}),[r.activeMarker]);var v=Math.round(10*T(a[0],a[1],t.fb_latitude,t.fb_longitude,"M"))/10;return s.a.createElement(k.a,{position:[t.fb_latitude,t.fb_longitude],icon:u,onClick:function(){return r.setActiveMarker(t.foodbank_id)},onMouseOver:function(){return r.setActiveMarker(t.foodbank_id)},onMouseOut:function(){return r.setActiveMarker(null)}},s.a.createElement(y.a,{closeOnClick:!0,closeButton:!1,autoPanPadding:[50,50]},s.a.createElement("article",{className:"media marker-popup"},s.a.createElement("figure",{className:"media-left"},s.a.createElement("p",{className:"image is-48x48"},s.a.createElement("img",{src:t.fb_logo}))),s.a.createElement("div",{className:"media-content"},s.a.createElement("div",{className:"content"},s.a.createElement("p",null,s.a.createElement(i.b,{to:"/".concat(f,"/").concat(t.foodbank_id,"/products")},s.a.createElement("strong",null,t.fb_name)),s.a.createElement("br",null),t.foodbank_address,s.a.createElement("br",null),v," miles"))))))},B=Object(_.geolocated)({positionOptions:{enableHighAccuracy:!0},watchPosition:!0,userDecisionTimeout:1e4})(R);var H=Object(o.k)((function(e){var a=e.marker,t=e.banks,n=Object(o.g)(),r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][(new Date).getDay()];return s.a.createElement("div",{className:"banks"},t.map((function(e){return s.a.createElement("div",{key:e.foodbank_id,className:"card bank-card",onMouseEnter:function(){return a.setActiveMarker(e.foodbank_id)},onMouseLeave:function(){return a.setActiveMarker("")},onClick:function(){return n.push("/banks/".concat(e.foodbank_id,"/products"))}},s.a.createElement("div",{className:"card-content"},s.a.createElement("div",{className:"media"},s.a.createElement("div",{className:"media-left"},s.a.createElement("figure",{className:"image is-48x48"},s.a.createElement("img",{src:e.fb_logo,alt:"Placeholder image"}))),s.a.createElement("div",{className:"media-content"},s.a.createElement("p",{className:"title is-6 has-text-grey-dark"},e.fb_name),s.a.createElement("p",{className:"subtitle has-font-13 has-text-grey"}," ",e.foodbank_address))),s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"columns is-mobile"},s.a.createElement("div",{className:"column is-6"},s.a.createElement("p",{className:"subtitle has-font-13 no-overflow"},"Hours"),s.a.createElement("p",{className:"subtitle has-font-13 is-bold no-overflow"},s.a.createElement("span",{className:"days"},r),s.a.createElement("span",{className:"hours"},"fb_".concat(e[r],"_time")))),s.a.createElement("div",{className:"column is-3"},s.a.createElement("p",{className:"subtitle has-font-13  no-overflow"},"Delivery"),s.a.createElement("span",{className:"icon tooltip"},s.a.createElement("img",{src:V.Delivery,alt:""}),s.a.createElement("span",{className:"tooltiptext"},"Delivery is available"))),s.a.createElement("div",{className:"column is-3"},s.a.createElement("p",{className:"subtitle has-font-13  no-overflow"},"Pickup"),s.a.createElement("span",{className:"icon tooltip"},s.a.createElement("img",{className:"not-available",src:V.Pickup,alt:""}),s.a.createElement("span",{className:"tooltiptext"},"Pickup is not available")))))))})))}));var q=function(){return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),null},W=function(){var e=Object(n.useState)(""),a=Object(c.a)(e,2);return{activeMarker:a[0],setActiveMarker:a[1]}};Object(o.k)((function(e){var a=Object.assign({},e),t=W(),n=a.data;return s.a.createElement("div",{className:"banks-page-bd"},s.a.createElement(q,null),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-6"},s.a.createElement("div",{className:"bank-list"},s.a.createElement(H,{marker:t,banks:n}))),s.a.createElement("div",{className:"column is-6 has-no-padding has-shadow"},s.a.createElement("div",{className:"sticky"},s.a.createElement(B,{marker:t,banks:n})))))})),t(45),t(148);var $=function(){return s.a.createElement("div",{className:"not-found-page"},s.a.createElement("div",{className:"not-found-page-body"},s.a.createElement("div",{className:"not-found-page-content"},s.a.createElement("div",{className:"icon"},s.a.createElement(m.a,{icon:V.faCircleNotch,style:{fontSize:50},spin:!0})),s.a.createElement("div",{className:"space-1"}),s.a.createElement("p",{className:"title is-6 has-text-grey"},"Page is loading..."))))},K=t(18),Y=t.n(K),G=t(29),Z=t(21),X=t.n(Z),Q=function(e){var a=Object(n.useState)(e),t=Object(c.a)(a,2),s=t[0],r=t[1],l=Object(n.useState)(!0),i=Object(c.a)(l,2),o=i[0],m=i[1],u=Object(n.useState)(!1),d=Object(c.a)(u,2),p=d[0],f=d[1],v=Object(n.useState)({}),E=Object(c.a)(v,2),g=E[0],b=E[1];return Object(n.useEffect)((function(){var e=!1;new AbortController;return function(){var a=Object(G.a)(Y.a.mark((function a(){var t,n;return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch(s);case 3:return t=a.sent,a.next=6,t.json();case 6:n=a.sent,console.log("fetch data"),e||b(n),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),f(!0);case 14:return a.prev=14,console.log("loading done"),m(!1),a.finish(14);case 18:case"end":return a.stop()}}),a,null,[[0,11,14,18]])})));return function(){return a.apply(this,arguments)}}()(),function(){e=!0}}),[s]),{isLoading:o,hasError:p,setUrl:r,data:g}},ee=t(115),ae=t.n(ee);var te=function(){return s.a.createElement("div",{className:"not-found-page"},s.a.createElement("div",{className:"not-found-page-body"},s.a.createElement("figure",{class:"image is-128x128"},s.a.createElement("img",{src:ae.a,alt:"Not-found image"})),s.a.createElement("div",{className:"not-found-page-content"},s.a.createElement("p",{className:"title is-6 has-text-grey"},"Oh no! the page you are looking for doesn't exist."),s.a.createElement(i.b,{to:"/"},s.a.createElement("button",{className:"button is-green"},s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:V.faLongArrowAltLeft})),s.a.createElement("span",null,"Back Home"))))))};var ne=function(e,a){var t={};return a.forEach((function(a){t[a[e]]=a})),Object.values(t)},se=function(){console.log("banks page");var e=Q("https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/foodbankinfo"),a=e.data,t=e.isLoading,n=e.hasError,r=Object.keys(a).length?ne("foodbank_id",a.result.result):[],l=W();return t?(console.log("loading"),s.a.createElement($,null)):n?s.a.createElement(te,null):s.a.createElement("div",{className:"banks-page-bd"},s.a.createElement(q,null),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-6"},s.a.createElement("div",{className:"bank-list"},s.a.createElement(H,{marker:l,banks:r}))),s.a.createElement("div",{className:"column is-6 has-no-padding has-shadow"},s.a.createElement("div",{className:"sticky"},s.a.createElement(B,{marker:l,banks:r})))))},re=function(){return new URLSearchParams(Object(o.h)().search)},le=Object(n.createContext)();function ce(e){var a=e.str,t=Object(o.i)().bankId;return s.a.createElement("div",{className:"tags-container no-overflow"},a?a.split(";").map((function(e){return s.a.createElement(i.b,{key:e,to:"banks/".concat(t,"/products?type=").concat(e),className:"item-tag subtitle has-margin-left-12",alt:""},"#",e)})):"")}function ie(e){var a=e.item,t=oe(a),r=Object(n.useContext)(le);return s.a.createElement("div",null,s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control item-actions"},s.a.createElement("button",{className:"button is-small",onClick:t.decrease,disabled:0===t.value},"-"),s.a.createElement("input",{type:"text",className:"input is-small",value:t.value,readOnly:!0}),s.a.createElement("button",{className:"button is-small",onClick:t.increase,disabled:!a.delivery_pickup.includes(r.deliveryMethod)||0===a.quantity||t.value>=a.food_id_limit},"+"))),s.a.createElement("div",{className:"space-1-5"}),0===a.quantity&&s.a.createElement("p",{className:"p is-danger"},"Out of stock"),t.value>=a.food_id_limit&&s.a.createElement("p",{className:"help is-danger"},"Limit is ",a.food_id_limit))}var oe=function(e){var a=Object(o.i)().bankId,t=Object(n.useContext)(le),s=JSON.parse(window.localStorage.getItem("cart"))||{},r=0;if(s.bankId&&s.bankId===a){var l=(s.items?s.items:[]).find((function(a){return a.info.food_id===e.food_id}));r=l?l.amount:0}var i=Object(n.useState)(r),m=Object(c.a)(i,2),u=m[0],d=m[1],p=function(e){var a=0;return e.forEach((function(e){a+=e.amount})),a};return Object(n.useEffect)((function(){var n=JSON.parse(window.localStorage.getItem("cart"))||{bankId:"",items:[]},s=n.items?n.items:[];if(n.bankId&&n.bankId===a){var r=s.find((function(a){return a.info.food_id===e.food_id}));r&&u>0?r.amount=u:r&&0===u?s.splice(s.indexOf(r),1):!r&&u>0&&s.push({info:e,amount:u}),window.localStorage.setItem("cart",JSON.stringify({bankId:a,total:p(s),items:s})),t.setDeliveryMethod(s[0]?s[0].info.delivery_pickup:"")}else n.bankId&&n.bankId!=a&&u>0?((s=[]).push({info:e,amount:u}),window.localStorage.setItem("cart",JSON.stringify({bankId:a,total:p(s),items:s})),t.setDeliveryMethod(s[0].info.delivery_pickup)):n.bankId&&n.bankId!=a?(window.localStorage.setItem("cart",JSON.stringify(n)),t.setDeliveryMethod("")):n.bankId||(window.localStorage.setItem("cart",JSON.stringify({bankId:a,total:p(s),items:s})),t.setDeliveryMethod(""));t.setOrderInfo(p(s))}),[u]),{value:u,increase:function(){d(u+1)},decrease:function(){d(u-1)},zero:function(){d(0)}}},me=function(e,a){return a.filter((function(a){return a.fl_food_type.includes(e)}))},ue=Object(o.k)((function(e){var a=e.inventory,t=(e.deliveryOrPickup,re()),r=Object(n.useContext)(le);return t.get("type")&&(a=me(t.get("type"),a)),s.a.createElement("div",{className:"inventory fade-in"},a.map((function(e){return s.a.createElement("div",{key:e.food_id,className:e.delivery_pickup.includes(r.deliveryMethod)?"card item":" card item has-opacity-0-6"},s.a.createElement("div",{className:"card-content has-no-padding item-content"},s.a.createElement("div",{className:"item-image-container"},s.a.createElement("img",{src:e.fl_image,className:"item-image",alt:"Placeholder image"})),s.a.createElement("div",{className:"item-info"},s.a.createElement("p",{className:"title has-text-grey-light is-7 item-brand"},e.fl_brand),s.a.createElement("p",{className:"subtitle is-6 is-bold no-overflow"},e.food_name),s.a.createElement("p",{className:"subtitle is-7 has-text-grey no-overflow"},e.fl_package_type," (",e.food_unit,")"),s.a.createElement(ie,{item:e}))),s.a.createElement("div",{className:"card-footer"},s.a.createElement("div",{className:"item-price"},s.a.createElement("span",{className:"subtitle has-font-13 has-text-grey"},"$",e.fl_value_in_dollars)),s.a.createElement("div",{className:"item-tags"},s.a.createElement(ce,{str:e.fl_food_type}))))})))}));var de=Object(o.k)((function(e){var a=e.obj,t=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];return s.a.createElement("div",{className:"bank-info-content no-overflow"},s.a.createElement("div",{className:"schedule-days"},t.map((function(e){return s.a.createElement("p",{key:e,className:"subtitle is-bold has-font-13 capitalized"},e.substring(0,3))}))),s.a.createElement("div",{className:"schedule-hours"},t.map((function(e){return s.a.createElement("p",{key:"".concat(e,"_time"),className:"subtitle has-font-13 has-text-grey capitalized"},a["fb_".concat(e,"_time_delivery")])}))))}));var pe=Object(o.k)((function(e){var a=e.obj,t=W();return s.a.createElement("section",{className:"hero"},s.a.createElement("div",{className:"bank-banner"},s.a.createElement("div",{className:"bank-banner-left"},s.a.createElement("div",{className:"bank-banner-info"},s.a.createElement("figure",{className:"image bank-logo is-96x96"},s.a.createElement("img",{src:a.fb_logo,alt:""})),s.a.createElement("div",{className:"bank-info-wrapper has-no-margin"},s.a.createElement("p",{className:"title bank-title is-5"},a.fb_name," ")),s.a.createElement("div",{className:"bank-info-wrapper"},s.a.createElement("div",{className:"bank-info-icon"},s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:V.faMapMarkerAlt,style:{fontSize:16}}))),s.a.createElement("div",{className:"bank-info-content no-overflow"},s.a.createElement("p",{className:"subtitle is-bold bank-address has-font-13"},a.foodbank_address))),s.a.createElement("div",{className:"bank-info-wrapper"},s.a.createElement("div",{className:"bank-info-icon"},s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:V.faClock,style:{fontSize:16}}))),s.a.createElement(de,{obj:a})))),s.a.createElement("div",{className:"bank-banner-right"},s.a.createElement(B,{banks:a,marker:t}))))}));var fe=Object(o.k)((function(){var e=Object(o.i)().bankId,a=re().get("type"),t=Object(n.useState)(a||"all"),r=Object(c.a)(t,2),l=r[0],m=r[1],u=function(e,a){e.preventDefault(),m(a)};return s.a.createElement("div",{className:"bank-filters"},s.a.createElement("div",{className:"tabs is-right"},s.a.createElement("ul",null,s.a.createElement("li",{className:"all"===l?"is-active":"",onClick:function(e){return u(e,"all")}},s.a.createElement(i.b,{to:"/banks/".concat(e,"/products")},s.a.createElement("span",{className:"icon is-small"},s.a.createElement("i",{className:"fas fa-image","aria-hidden":"true"})),s.a.createElement("span",null,"All"))),s.a.createElement("li",{className:"vegetarian"===l?"is-active":"",onClick:function(e){return u(e,"vegetarian")}},s.a.createElement(i.b,{to:"/banks/".concat(e,"/products?type=vegetarian")},s.a.createElement("span",{className:"icon is-small"},s.a.createElement("i",{className:"fas fa-image","aria-hidden":"true"})),s.a.createElement("span",null,"Vegetarian"))),s.a.createElement("li",{className:"vegan"===l?"is-active":"",onClick:function(e){return u(e,"vegan")}},s.a.createElement(i.b,{to:"/banks/".concat(e,"/products?type=vegan")},s.a.createElement("span",{className:"icon is-small"},s.a.createElement("i",{className:"fas fa-music","aria-hidden":"true"})),s.a.createElement("span",null,"Vegan"))),s.a.createElement("li",{className:"gluten-free"===l?"is-active":"",onClick:function(e){return u(e,"gluten-free")}},s.a.createElement(i.b,{to:"/banks/".concat(e,"/products?type=gluten-free")},s.a.createElement("span",{className:"icon is-small"},s.a.createElement("i",{className:"fas fa-film","aria-hidden":"true"})),s.a.createElement("span",null,"Gluten-free"))),s.a.createElement("li",{className:"kosher"===l?"is-active":"",onClick:function(e){return u(e,"kosher")}},s.a.createElement(i.b,{to:"/banks/".concat(e,"/products?type=kosher")},s.a.createElement("span",{className:"icon is-small"},s.a.createElement("i",{className:"far fa-file-alt","aria-hidden":"true"})),s.a.createElement("span",null,"Kosher"))))))}));var ve=function(e){var a=e.bankUrl,t=Q(a),r=t.data,l=t.isLoading,o=t.hasError,u=Object(n.useState)(1),d=Object(c.a)(u,2),p=d[0],f=d[1];if(window.addEventListener("storage",(function(){f(p+1)})),l)return s.a.createElement($,null);if(o||!r.result)return s.a.createElement(te,null);var v=r.result,E=v.inventory.filter((function(e){return e.delivery_pickup.includes("both")})),g=v.inventory.filter((function(e){return e.delivery_pickup.includes("delivery")})),b=v.inventory.filter((function(e){return e.delivery_pickup.includes("pickup")}));return s.a.createElement("div",{className:"bank-page-bd"},s.a.createElement(q,null),s.a.createElement("div",{className:"bank-container"},s.a.createElement(pe,{obj:v}),s.a.createElement(fe,null),s.a.createElement("div",{className:"bank-body"},E.length>0&&s.a.createElement("div",{className:"inventory-container"},s.a.createElement("div",{className:"inventory-title-container"},s.a.createElement("p",{className:"subtitle inventory-title"},"Delivery or Pickup")),s.a.createElement(ue,{key:p,inventory:E})),g.length>0&&s.a.createElement("div",{className:"inventory-container"},s.a.createElement("div",{className:"inventory-title-container"},s.a.createElement("p",{className:"subtitle inventory-title"},"Delivery Only")),s.a.createElement(ue,{key:p,inventory:g})),b.length>0&&s.a.createElement("div",{className:"inventory-container"},s.a.createElement("div",{className:"inventory-title-container"},s.a.createElement("p",{className:"subtitle inventory-title"},"Pick Up Only")),s.a.createElement(ue,{key:p,inventory:b}))),s.a.createElement("div",{className:"bank-actions"},s.a.createElement("button",{className:"button is-info"},s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:V.faLongArrowAltLeft})),s.a.createElement("span",null,"Return to Search Results")),s.a.createElement(i.b,{to:"/order/cart"},s.a.createElement("button",{className:"button is-success"},s.a.createElement("span",null,"Checkout Now"),s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:V.faLongArrowAltRight})))))))},Ee=function(){var e=Object(o.i)().bankId,a="https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/foodbankinfonew/".concat(e);return s.a.createElement(ve,{bankUrl:a})};t(166);function ge(){return s.a.createElement("div",{className:"field is-grouped"},s.a.createElement("p",{id:"search",className:"control is-expanded no-bottom-margin has-icons-right"},s.a.createElement("input",{className:"input",type:"search",placeholder:"Find a food bank"}),s.a.createElement("span",{className:"icon is-small has-text-black is-right"},s.a.createElement(m.a,{icon:V.faSearch}))))}function be(e){e.num;var a=Object(n.useState)(0),t=Object(c.a)(a,2),r=t[0],l=t[1];Object(n.useEffect)((function(){return o(),window.addEventListener("storage",o),function(){window.removeEventListener("storage",o)}}),[]);var o=function(){var e=JSON.parse(window.localStorage.getItem("cart"))||{},a=e.items?e.items:[];l(Ne(a))};return s.a.createElement(i.b,{to:"/order/cart",alt:"cart button"},s.a.createElement("div",{className:"button add-cart"},s.a.createElement("span",{className:"icon shopping-cart"},s.a.createElement(m.a,{icon:V.faShoppingBasket})),s.a.createElement("span",null,r)))}function he(){return s.a.createElement("a",{role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"mainNavbar"},s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}))}var Ne=function(e){var a=0;return e.length>0&&e.forEach((function(e){a+=e.amount})),a},ke=function(){var e=Object(n.useContext)(le);return s.a.createElement("nav",{className:"navbar is-fixed-top",role:"navigation","aria-label":"main navigation"},s.a.createElement("div",{className:"navbar-brand "},s.a.createElement(i.b,{className:"navbar-item has-no-padding-left",to:"/"},s.a.createElement("span",{className:"subtitle is-5 brand-text"},"Feed The Hungry")),s.a.createElement(he,null)),s.a.createElement("div",{id:"mainNavbar",className:"navbar-menu"},s.a.createElement("div",{className:"navbar-end"},s.a.createElement("div",{className:"navbar-item"},s.a.createElement(ge,null)),e.isAuth?s.a.createElement(i.b,{to:"/login",className:"navbar-item",onClick:function(){window.localStorage.removeItem("userInfo"),e.setIsAuth(!1)}},"Logout"):s.a.createElement(i.b,{to:"/login",className:"navbar-item"},"Login"),e.isAuth&&s.a.createElement("div",{className:"navbar-item has-no-padding-right"},s.a.createElement(be,{num:e.orderInfo})))))};var ye=function(){return s.a.createElement("div",{className:"not-found-page"},s.a.createElement("div",{className:"not-found-page-body"},s.a.createElement("figure",{className:"image is-128x128"},s.a.createElement("img",{src:p.a,alt:"Not-found image"})),s.a.createElement("div",{className:"not-found-page-content"},s.a.createElement("p",{className:"title is-6 has-text-grey"},"Your cart is empty"),s.a.createElement(i.b,{to:"/"},s.a.createElement("button",{className:"button is-green"},s.a.createElement("span",null,"Shop Now"))))))},_e=t(116),Oe=t.n(_e);var xe=function(e){var a=e.foodItem;return s.a.createElement("div",{className:"card cart-item"},s.a.createElement("div",{className:"card-image cart-item-image"},s.a.createElement("img",{src:a.info.fl_image,alt:"Placeholder image"})),s.a.createElement("div",{className:"card-content no-overflow"},s.a.createElement("p",{className:"title is-7 has-text-grey-light item-brand"},a.info.fl_brand),s.a.createElement("p",{className:"subtitle is-6 is-bold"},a.info.food_name),s.a.createElement("span",{className:"tag"},s.a.createElement("span",{className:"subtitle is-7"},a.info.fl_package_type," x",a.amount)),"delivery"===a.info.delivery_pickup?s.a.createElement("p",{className:"subtitle is-7 is-bold has-text-danger"},"Delivery Only"):"","pickup"===a.info.delivery_pickup?s.a.createElement("p",{className:"subtitle is-7 is-bold has-text-danger"},"Pickup Only"):""))};var we=function(e){var a=e.itemList,t=Object(n.useState)(0),r=Object(c.a)(t,2),l=r[0],i=r[1];return s.a.createElement("div",{style:{padding:"0 ".concat(60,"px")}},s.a.createElement(Oe.a,{requestToChangeActive:i,activeItemIndex:l,numberOfCards:4,gutter:20,leftChevron:s.a.createElement("button",{className:"button round-btn"},s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:V.faChevronLeft}))),rightChevron:s.a.createElement("button",{className:"button round-btn"},s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:V.faChevronRight}))),outsideChevron:!0,chevronWidth:60},a.map((function(e){return s.a.createElement(xe,{key:e.info.food_id,foodItem:e})}))))},je=t(121),Se=t.n(je),Ie=t(31);function Ce(e){return/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(e)}function Ae(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function De(e){var a=e.replace(/\D/g,"");return/^[2-9]\d{2}[2-9]\d{2}\d{4}$/.test(a)}function Me(e){return/^([0-9]{1,3},([0-9]{3},)*[0-9]{3}|[0-9]+)(.[0-9][0-9])?$/.test(e)}var Le=function(e,a){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Object(n.useState)("checkbox"!==a&&"switch"!==a&&""),r=Object(c.a)(s,2),l=r[0],i=r[1],o=Object(n.useState)(""),m=Object(c.a)(o,2),u=m[0],d=m[1],p=Object(n.useState)({}),f=Object(c.a)(p,2),v=f[0],E=f[1],g=function(e){i("checkbox"===e.target.type||"switch"===e.target.type?e.target.checked:e.target.value),"file"===e.target.type&&E(e.target.files[0]),t&&0===e.target.value.length?d("This field is required"):e.target.value.length>0?h(e.target.value):d("")},b=function(){var e=new Date,a=e.getDate(),t=e.getMonth()+1;return a<10&&(a="0"+a),t<10&&(t="0"+t),e.getFullYear()+"-"+t+"-"+a},h=function(t){if("zip"!==e.toLowerCase()||Ce(t))if("state"===e.toLowerCase()&&""===t)d("Invalid state");else if("tel"!==a||De(t))if("email"!==a||Ae(t))if("number"!==a||Me(t)){if(!("date of birth"===e.toLowerCase()&&b()<t))return d(""),!0;d("Invalid birthdate")}else d("Invalid currency amount");else d("Invalid email address");else d("Invalid phone number");else d("Invalid zip code");return!1},N=function(){return t&&0===l.length?(d("This field is required"),!1):l.length>0?h(l):(d(""),!0)},k=function(){i(""),d("")};return{error:u,setError:d,type:a,name:e,value:l,setValue:i,onChange:g,isRequired:t,validate:N,resetinput:k,file:v}},ze=(t(181),function(e){var a=e.props,t=e.icon,n=e.isDisabled,r=function(e){"text"===e.currentTarget.type?e.currentTarget.type="date":e.currentTarget.type="text"};return"checkbox"===a.type?s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("label",{className:"checkbox level-item",style:{justifyContent:"flex-start"}},s.a.createElement("input",{type:a.type,onChange:a.onChange,value:a.value,disabled:n}),s.a.createElement("span",{className:"has-margin-left-0-5"},a.name),t&&s.a.createElement("span",{className:"icon has-margin-left-0-5"},s.a.createElement("img",{src:t,alt:""}))))):"switch"===a.type?s.a.createElement("div",{className:"field"},s.a.createElement("input",{id:a.name,type:"checkbox",name:"switchRoundedDefault",className:"switch is-rounded",value:a.value,onChange:a.onChange}),s.a.createElement("label",{htmlFor:a.name},a.name)):s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:t?"control has-icons-right":"control"},"file"===a.type&&s.a.createElement("img",{id:"inputImg"}),s.a.createElement("input",Object.assign({className:a.error.length>0?"input is-danger":"input",type:"date"!==a.type?a.type:"text",onChange:a.onChange,value:a.value,placeholder:a.name},"date"===a.type?{onFocus:r,onBlur:r,max:function(){var e=new Date,a=e.getDate(),t=e.getMonth()+1;return a<10&&(a="0"+a),t<10&&(t="0"+t),e.getFullYear()+"-"+t+"-"+a}()}:{},"file"===a.type?{accept:"image/*",onChange:function(e){a.onChange(e);var t=e.target.files[0],n=new FileReader,s=document.getElementById("inputImg");s.title=t.name,n.onload=function(e){s.src=e.target.result},n.readAsDataURL(t)}}:{})),t?s.a.createElement("span",{className:"icon is-right"},s.a.createElement(m.a,{icon:t})):""),s.a.createElement("p",{className:"help is-danger"},a.error))}),Pe={Danger:function(e){return s.a.createElement("article",{className:"message is-danger"},s.a.createElement("div",{className:"message-body"},e))},Success:function(e){return s.a.createElement("article",{className:"message is-success"},s.a.createElement("div",{className:"message-body"},e))}};var Ue=function(e){var a=e.fname,t=e.lname,n=e.email,r=e.phone,l=e.switchUserInfo;return s.a.createElement("div",null,s.a.createElement(ze,{props:l}),s.a.createElement("div",{className:"field horizontal"},s.a.createElement("div",{className:"field-body"},s.a.createElement(ze,{props:a}),s.a.createElement(ze,{props:t}))),s.a.createElement(ze,{props:n}),s.a.createElement("div",{className:"field horizontal"},s.a.createElement("div",{className:"field-body"},s.a.createElement("div",{className:"field is-expanded"},s.a.createElement("div",{className:"field has-addons"},s.a.createElement("div",{className:"control"},s.a.createElement("a",{className:"button is-static"},"+1")),s.a.createElement("div",{className:"control is-expanded"},s.a.createElement(ze,{props:r}))),s.a.createElement("p",{className:"help"},"Do not enter the first zero")))))},Fe=function(){var e=Object(n.useState)([]),a=Object(c.a)(e,2),t=a[0],s=a[1];Object(n.useEffect)((function(){fetch("https://gist.githubusercontent.com/mshafrir/2646763/raw/8b0dbb93521f5d6889502305335104218454c2bf/states_hash.json").then((function(e){return e.json()})).then((function(e){return s(e)}))}),[]);return{data:t,contain:function(e){return t.filter((function(a){return a.name===e||a.abbreviation===e})).length>0}}};var Ve=function(e){var a=e.props,t=e.data,n=0;return s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control is-expanded"},s.a.createElement("div",{className:a.error.length>0?"select is-danger is-fullwidth":"select is-fullwidth"},s.a.createElement("select",{value:a.value,onChange:a.onChange},s.a.createElement("option",{key:n++,value:""},a.name),Object.keys(t).map((function(e){return s.a.createElement("option",{key:n++,value:e},t[e])}))))),s.a.createElement("p",{className:"help is-danger"},a.error))};var Te=function(e){var a=e.street,t=e.city,n=e.state,r=e.zip,l=e.switchUserAddress,c=Fe();return s.a.createElement("div",null,s.a.createElement(ze,{props:l}),s.a.createElement(ze,{props:a}),s.a.createElement(ze,{props:t}),s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("div",{className:"field-body"},s.a.createElement(Ve,{props:n,data:c.data}),s.a.createElement(ze,{props:r}))))};var Re=function(e){for(var a=e.items,t="",n=0;n<a.length-1;n++)t+=" "+a[n].info.food_name+",";return t+=" "+a[n].info.food_name,s.a.createElement("div",null,s.a.createElement("span",{className:"subtitle is-6 has-text-danger"},"Pick up is not available for the following item(s): "),s.a.createElement("span",{className:"subtitle is-6 "},t))},Je=function(e){var a=e.bank,t=e.items,n=(t.length>0&&t.filter((function(e){return e.info.delivery_pickup.includes("both")})),t.length>0?t.filter((function(e){return"delivery"===e.info.delivery_pickup})):[]);return t.filter((function(e){return"pickup"===e.info.delivery_pickup})),s.a.createElement("div",{className:"pickup-confirm"},s.a.createElement("p",{className:"title is-5"},"Pickup Address"),s.a.createElement("p",{className:"subtitle is-6"},a.foodbank_address),s.a.createElement("div",{className:"space-1"}),n.length>0?s.a.createElement(Re,{items:n}):"")},Be=t(120);var He=function(e){var a=0;return e.forEach((function(e){a+=e.amount})),a},qe=Object(n.forwardRef)((function(e,a){return s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control has-icons-right"},s.a.createElement("input",{ref:a,className:"input",type:"text",placeholder:e.placeholder,value:e.value,id:e.id,onClick:e.onClick,readOnly:!0,disabled:e.disabled}),s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement(m.a,{icon:V.faCalendarAlt}))))})),We=function(){var e=Object(n.useState)(null),a=Object(c.a)(e,2),t=a[0],s=a[1];return{startDate:t,onChange:function(e){s(e)},minDate:Object(Ie.default)(new Date,2)}};var $e=Object(o.k)((function(e){var a=e.bank,t=e.items,r=Object(o.g)(),l=Object(Be.usePosition)(!0,{enableHighAccuracy:!0}),i=l.latitude,u=l.longitude,d=l.error?[37.338208,-121.886329]:[i,u],p=Object(n.useState)("hidden"),f=Object(c.a)(p,2),v=f[0],E=f[1],g=t.filter((function(e){return e.info.delivery_pickup.includes("delivery")})),b=t.filter((function(e){return e.info.delivery_pickup.includes("pickup")})),h=Object(n.useState)(g.length?"delivery":"pickup"),N=Object(c.a)(h,2),k=N[0],y=N[1],_=Le("First Name","text"),O=Le("Last Name","text"),x=Le("Phone Number","tel"),w=Le("Email","email"),j=We(),S=Le("Street","text"),I=Le("City","text"),C=Le("Select a state","text"),A=Le("Zip","text"),D=Le("Use my current information","switch"),M=Le("Use my current address","switch"),L=Le("I want my delivery as soon as possible","checkbox");Object(n.useEffect)((function(){(L.value||j.startDate)&&E("hidden")}),[L.value||j.startDate]);var z=JSON.parse(window.localStorage.getItem("userInfo"));return Object(n.useEffect)((function(){console.log(D.value),D.value?(_.setValue(z.firstName),O.setValue(z.lastName),x.setValue(z.phoneNumber.replace(/\D/g,"")),w.setValue(z.email)):(_.setValue(""),O.setValue(""),x.setValue(""),w.setValue(""))}),[D.value]),Object(n.useEffect)((function(){M.value?(S.setValue(z.address1),I.setValue(z.city),C.setValue(z.state),A.setValue(z.zip)):(S.setValue(""),I.setValue(""),C.setValue(""),A.setValue(""))}),[M.value]),s.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=!0;if(_.validate()||(n=!1),O.validate()||(n=!1),w.validate()||(n=!1),x.validate()||(n=!1),"delivery"===k&&(S.validate()||(n=!1),I.validate()||(n=!1),C.validate()||(n=!1),A.validate()||(n=!1),L.value||j.startDate||(n=!1,E(""))),n){console.log("All inputs are valid");var s=j.startDate?function(e){var a=e.getHours(),t=e.getMinutes(),n=a>=12?"pm":"am",s=(a=(a%=12)?a:12)+":"+(t=t<10?"0"+t:t)+" "+n;return(e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()+" "+s).toUpperCase()}(j.startDate):"ASAP",l=JSON.parse(window.localStorage.getItem("userInfo")),c=He(t),i={isSent:!1,order_id:"",customer_id:l.userID,phone:x.value.replace(/\D/g,""),email:w.value,street:S.value,city:I.value,state:C.value,zipcode:A.value.toString(),totalAmount:c,delivery_note:"",kitchen_id:a.foodbank_id,kitchen_name:a.fb_name,kitchen_address:a.foodbank_address,longitude:d[1],latitude:d[0],delivery_date:s,order_type:t[0].info.delivery_pickup,ordered_items:t};window.localStorage.setItem("unconfirmed_order",JSON.stringify(i)),r.push("/order/cart/confirm")}else console.log("Some inputs are invalid")}},s.a.createElement("div",{className:"delivery-confirm"},s.a.createElement("p",{className:"title is-5"},"Customer Information"),s.a.createElement(Ue,{fname:_,lname:O,email:w,phone:x,switchUserInfo:D}),s.a.createElement("div",{className:"divider"}),s.a.createElement("p",{className:"title is-5"},"Delivery Method"),s.a.createElement("div",{className:"tabs is-toggle is-fullwidth is-medium"},s.a.createElement("ul",null,s.a.createElement("li",{className:"delivery"===k?"is-active":"",onClick:function(){return y("delivery")}},s.a.createElement("a",null,s.a.createElement("span",{className:"uppercase"},"Delivery"))),s.a.createElement("li",{className:"pickup"===k?"is-active":"",onClick:function(){return y("pickup")}},s.a.createElement("a",null,s.a.createElement("span",{className:"uppercase"},"Pick Up"))))),"delivery"===k?s.a.createElement("div",null,s.a.createElement("p",{className:"title is-5"},"Delivery Address"),s.a.createElement(Te,{street:S,city:I,state:C,zip:A,switchUserAddress:M}),s.a.createElement("div",{className:"divider"}),s.a.createElement("p",{className:"title is-5"},"Delivery Options"),s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("div",{className:"field-body"},s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement(Se.a,{selected:!0===L.value?null:j.startDate,value:j.startDate,onChange:function(e){return j.onChange(e)},minDate:j.minDate,showTimeSelect:!0,customInput:s.a.createElement(qe,null),dateFormat:"MMMM d, yyyy h:mm aa",placeholderText:!0===L.value?"No date selected":"Select a date and time",disabled:!0===L.value}))),s.a.createElement("div",{className:"right-most"},s.a.createElement(ze,{props:L})))),s.a.createElement("div",{className:v},s.a.createElement("div",{className:"space-1"}),s.a.createElement("div",{className:"error-msg"},Pe.Danger("Please make sure that you schedule a delivery date or soonest delivery.")))):s.a.createElement(Je,{bank:a,items:t})),s.a.createElement("div",{className:"space-1"}),s.a.createElement("div",{className:"field right-most"},s.a.createElement("div",{className:"control"},s.a.createElement("button",{className:"button is-success",disabled:!!("delivery"===k&&b.length||"pickup"===k&&g.length)},s.a.createElement("span",{className:"uppercase"},"Place Order"),s.a.createElement("span",{className:"icon"},s.a.createElement(m.a,{icon:V.faLongArrowAltRight}))))),s.a.createElement("div",{className:"space-2-5"}))}));t(240);var Ke=function(){console.log("checkout");var e=JSON.parse(window.localStorage.getItem("cart"))||{},a=e.bankId?e.bankId:"",t=e.items?e.items:[],r="https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/foodbankinfonew/".concat(a),l=Q(r),i=l.data,o=l.isLoading,m=l.hasError,u=i.result,d=Object(n.useState)(1),p=Object(c.a)(d,2),f=p[0],v=p[1];return window.addEventListener("storage",(function(){v(f+1)})),0===t.length?s.a.createElement(ye,null):o?s.a.createElement($,null):m?s.a.createElement(te,null):s.a.createElement("div",{className:"checkout-page"},s.a.createElement("div",{className:"checkout-page-layer"},s.a.createElement(q,null),s.a.createElement("div",{className:"checkout-page-content"},s.a.createElement("div",{className:"checkout-page-title"},s.a.createElement("p",{className:"title is-4"},u.fb_name)),s.a.createElement("div",{key:f,className:"checkout-page-body"},s.a.createElement("div",{className:"order-items"},s.a.createElement(we,{itemList:t})),s.a.createElement("div",{className:"order-confirm fade-in-quick"},s.a.createElement($e,{bank:u,items:t}))))))},Ye=t(124),Ge=t.n(Ye),Ze=t(125),Xe=t.n(Ze),Qe=t(126),ea=t.n(Qe);var aa=function(){var e=Object(n.useContext)(le),a=Object(o.g)(),t=Object(n.useState)(null),r=Object(c.a)(t,2),l=r[0],m=r[1],u=Le("Email","email"),d=Le("Password","password"),p=function(t){console.log("Data:",t),X.a.get("https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/social/".concat(t.email)).then((function(n){if(console.log(n),n.data)if(n.data.result.result.length){console.log("Exists");var s=n.data.result.result[0].ctm_id;console.log(s),X.a.post("https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/socialacc/".concat(s)).then((function(t){console.log(t);var n={firstName:t.data.result.result[0].ctm_first_name,lastName:t.data.result.result[0].ctm_last_name,phoneNumber:t.data.result.result[0].ctm_phone,address1:t.data.result.result[0].ctm_address1,address2:t.data.result.result[0].ctm_address2,city:t.data.result.result[0].ctm_city,state:t.data.result.result[0].ctm_state,zip:t.data.result.result[0].ctm_zipcode,email:t.data.result.result[0].ctm_email,joinDate:t.data.result.result[0].ctm_join_date,userID:t.data.result.result[0].ctm_id,loginID:t.data.login_attempt_log.login_id,sessionID:t.data.login_attempt_log.session_id};window.localStorage.setItem("userInfo",JSON.stringify(n)),e.setIsAuth(!0),a.push("/")}))}else console.log("No exist"),a.push({pathname:"/signup/social",state:{lastname:t.last_name,firstname:t.first_name,email:t.email,social:t.social,accessToken:t.access,refreshToken:t.refresh}})})).catch((function(e){console.log(e.response)}))},f=function(){var e=Object(G.a)(Y.a.mark((function e(a){var t,n,s,r,l,c,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.email){for(console.log("User has tried to login through Facebook.."),t=a.email,n=a.accessToken,s=a.id,r=a.name.split(" "),l=r[r.length-1],c="",i=0;i<r.length-1;i++)c+=r[i]+" ";c=c.slice(0,-1),p({email:t,access:n,refresh:s,first_name:c,last_name:l,social:"Facebook"})}case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),v=function(){var e=Object(G.a)(Y.a.mark((function e(a){var t,n,s,r,l;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.profileObj&&(console.log("User has tried to login through Google.."),t=a.profileObj.email,n=a.accessToken,s=a.googleId,r=a.profileObj.givenName,l=a.profileObj.familyName,p({email:t,access:n,refresh:s,first_name:r,last_name:l,social:"Google"}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"login-signup-page"},s.a.createElement("figure",{className:"image is-3by1 has-margin-bottom-0-5",style:{width:"100%"}},s.a.createElement("img",{src:Ge.a})),s.a.createElement("form",{onSubmit:function(e){e.preventDefault()},style:{width:"400px",maxWidth:"100%"}},s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"has-text-centered has-margin-bottom-0-5"},s.a.createElement("span",{className:"has-margins-0-5"},s.a.createElement(Xe.a,{appId:"235300190881746",autoLoad:!1,fields:"name,email,picture",onClick:"return false",callback:f,size:"small",textButton:"FB Login"})),s.a.createElement("span",{className:"has-margins-0-5"},s.a.createElement(ea.a,{clientId:"1031017519051-tuc2hrq6otb40imvmmc9mucecu2u7ggj.apps.googleusercontent.com",buttonText:"Login",onSuccess:v,onFailure:v,isSignedIn:!1,disable:!1,cookiePolicy:"single_host_origin"}))),s.a.createElement(ze,{props:u,icon:V.faEnvelope}),s.a.createElement(ze,{props:d,icon:V.faLock}),l&&s.a.createElement("p",{className:"has-text-centered has-text-danger"},l),s.a.createElement("div",{className:"has-text-centered has-margin-bottom-0-5"},s.a.createElement("button",{className:"button is-success has-margins-0-5",onClick:function(){console.log("User has tried to login.."),u.validate(),d.validate(),u.validate()&&d.validate()?(console.log("we did it!"),function(){var t={email:u.value,password:d.value};X.a.post("https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/login",t).then((function(t){if(console.log(t),200===t.status&&t.data.auth_success)if(t.data.result.result[0].ctm_email_verify){var n={firstName:t.data.result.result[0].ctm_first_name,lastName:t.data.result.result[0].ctm_last_name,phoneNumber:t.data.result.result[0].ctm_phone,address1:t.data.result.result[0].ctm_address1,address2:t.data.result.result[0].ctm_address2,city:t.data.result.result[0].ctm_city,state:t.data.result.result[0].ctm_state,zip:t.data.result.result[0].ctm_zipcode,email:t.data.result.result[0].ctm_email,joinDate:t.data.result.result[0].ctm_join_date,userID:t.data.result.result[0].ctm_id,loginID:t.data.login_attempt_log.login_id,sessionID:t.data.login_attempt_log.session_id};window.localStorage.setItem("userInfo",JSON.stringify(n)),e.setIsAuth(!0),a.push("/")}else m("Please verify your email before logging in")})).catch((function(e){console.log(e.response),m("Invalid email or password")}))}()):console.log("User has failed to login..")}},"Login"),s.a.createElement(i.b,{to:"/signup"},s.a.createElement("button",{className:"button is-success has-margins-0-5"},"Sign Up"))))))},ta=Object(n.forwardRef)((function(e,a){var t={vegan:Le("Vegan","checkbox"),vegetarian:Le("Vegetarian","checkbox"),glutenFree:Le("Gluten Free","checkbox"),kosher:Le("Kosher","checkbox"),halal:Le("Halal","checkbox"),none:Le("None","checkbox")},r=Object(n.useState)("hidden"),l=Object(c.a)(r,2),i=l[0],o=l[1],m=t.vegan.value||t.vegetarian.value||t.glutenFree.value||t.kosher.value||t.halal.value,u=!!t.none.value;return Object(n.useImperativeHandle)(a,(function(){return{checkValues:function(){t.none.value||m||o("")},valid:function(){return t.none.value||m}}})),s.a.createElement(s.a.Fragment,null,s.a.createElement(ze,{props:t.vegan,icon:V.Vegan,isDisabled:u}),s.a.createElement(ze,{props:t.vegetarian,icon:V.Vegetarian,isDisabled:u}),s.a.createElement(ze,{props:t.glutenFree,icon:V.GlutenFree,isDisabled:u}),s.a.createElement(ze,{props:t.kosher,icon:V.Kosher,isDisabled:u}),s.a.createElement(ze,{props:t.halal,icon:V.Halal,isDisabled:u}),s.a.createElement(ze,{props:t.none,isDisabled:m}),s.a.createElement("div",{className:""!==i||!t.none.value&&!0!==m?i:"hidden"},s.a.createElement("article",{className:"message is-danger error-msg"},s.a.createElement("div",{className:"message-body"},"Please select any dietary restrictions you have. If none are applicable, please select N/A."))))})),na=t(86),sa=Object(n.forwardRef)((function(e,a){var t={a_firstName:Le("First Name","text"),a_lastName:Le("Last Name","text"),a_dob:Le("Date of Birth","date")},r=Object(n.useState)([]),l=Object(c.a)(r,2),i=l[0],o=l[1],m=Object(n.useState)(!1),u=Object(c.a)(m,2),d=u[0],p=u[1],f=function(){for(var e in t)t[e].resetinput();p(!1)};return Object(n.useImperativeHandle)(a,(function(){return{persons:i}})),s.a.createElement("div",{className:"column has-text-centered"},d?s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:"button is-success has-margins-0-5",onClick:f},"Cancel"),s.a.createElement("button",{className:"button is-success has-margins-0-5",onClick:function(){var e=[t.a_firstName.value,t.a_lastName.value,t.a_dob.value],a=!0;for(var n in t)t[n].validate()||(a=!1);a&&(i.push(e),o(Object(na.a)(i)),f(),console.log(i))}},"Save")):s.a.createElement("button",{className:"button is-success has-margins-0-5",onClick:function(){return p(!0)}},"Add a Family Member"),d&&s.a.createElement(s.a.Fragment,null,s.a.createElement(ze,{props:t.a_firstName}),s.a.createElement(ze,{props:t.a_lastName}),s.a.createElement(ze,{props:t.a_dob})),s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"column"},i.map((function(e,a){return s.a.createElement("p",{key:a},e[0]+" "+e[1]," ",s.a.createElement("button",{onClick:function(){return function(e){i.splice(e,1),console.log(e),console.log(i),o(Object(na.a)(i))}(a)}}," X "))})))))}));var ra=function(){var e=Fe(),a=Object(o.g)(),t=Object(n.useRef)(),r=Object(n.useRef)(),l={firstName:Le("First Name","text"),lastName:Le("Last Name","text"),dob:Le("Date of Birth","date"),phoneNumber:Le("Phone Number","tel"),email:Le("Email Address","email"),emailConfirm:Le("Confirm Email","email"),password:Le("Password","password"),passwordConfirm:Le("Confirm Password","password"),address_1:Le("Address 1","text"),address_2:Le("Address 2","text",!1),city:Le("City","text"),state:Le("State","text"),zip:Le("Zip","text"),license:Le("Drivers License","text",!1),licenseImg:Le("License Image","file",!1),monthlyIncome:Le("Monthly Income","number",!1)};return s.a.createElement("div",{className:"login-signup-page signup-background-image"},s.a.createElement("form",{onSubmit:function(e){e.preventDefault()},onKeyPress:function(e){13===e.which&&e.preventDefault()},style:{width:"720px",maxWidth:"100%"}},s.a.createElement("div",{className:"column has-text-black"},s.a.createElement("div",null,s.a.createElement("p",{className:"subtitle is-1 has-margin-top-1 has-text-centered has-text-black"},"Sign Up"),s.a.createElement("div",{className:"columns has-margin-top-1"},s.a.createElement("div",{className:"column"},s.a.createElement(ze,{props:l.firstName})),s.a.createElement("div",{className:"column"},s.a.createElement(ze,{props:l.lastName}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-8"},s.a.createElement("div",{className:"field-body"},s.a.createElement("div",{className:"field is-expanded"},s.a.createElement("div",{className:"field has-addons"},s.a.createElement("div",{className:"control"},s.a.createElement("a",{className:"button is-static"},"+1")),s.a.createElement("div",{className:"control is-expanded"},s.a.createElement(ze,{props:l.phoneNumber})))))),s.a.createElement("div",{className:"column"},s.a.createElement(ze,{props:l.dob}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(ze,{props:l.email})),s.a.createElement("div",{className:"column"},s.a.createElement(ze,{props:l.emailConfirm}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(ze,{props:l.password})),s.a.createElement("div",{className:"column"},s.a.createElement(ze,{props:l.passwordConfirm})))),s.a.createElement("hr",{className:"is-light-gray"}),s.a.createElement("div",null,s.a.createElement("p",{className:"subtitle is-3 has-margin-top-1 has-text-centered has-text-black"},"Would you like to add a permanent address?"),s.a.createElement("p",{className:"subtitle is-4 has-text-centered has-text-black"},"Or ",s.a.createElement("u",null,"use my current location")," instead."),s.a.createElement("p",{className:"subtitle is-4 has-margin-top-1 has-text-centered has-text-black"},"Add An Address"),s.a.createElement("div",{className:"columns has-margin-top-1"},s.a.createElement("div",{className:"column"},s.a.createElement(ze,{props:l.address_1})),s.a.createElement("div",{className:"column"},s.a.createElement(ze,{props:l.address_2}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(ze,{props:l.city})),s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:l.state,data:e.data})),s.a.createElement("div",{className:"column"},s.a.createElement(ze,{props:l.zip})))),s.a.createElement("hr",{className:"is-light-gray"}),s.a.createElement("div",null,s.a.createElement("p",{className:"subtitle is-3 has-margin-top-1 has-text-centered has-text-black"},"Optional Personal Information"),s.a.createElement("div",{className:"columns has-margin-top-1"},s.a.createElement(sa,{ref:r}),s.a.createElement("div",{className:"column"},s.a.createElement(ze,{props:l.license}),s.a.createElement("div",{className:"box"},s.a.createElement(ze,{props:l.licenseImg})))),s.a.createElement("div",{className:"field-body"},s.a.createElement("div",{className:"field is-expanded"},s.a.createElement("div",{className:"field has-addons"},s.a.createElement("div",{className:"control"},s.a.createElement("a",{className:"button is-static"},"$")),s.a.createElement("div",{className:"control is-expanded"},s.a.createElement(ze,{props:l.monthlyIncome})))))),s.a.createElement("hr",{className:"is-light-gray"}),s.a.createElement("p",{className:"right-most",title:"Substitutions allow users to choose different items that align with their dietary restrictions to add to their total cart."},"* Opt for substitutions."),s.a.createElement("p",{className:"subtitle is-3 has-text-centered has-text-black"},"Dietary Restrictions*"),s.a.createElement(ta,{ref:t}),s.a.createElement("div",{className:"has-text-centered"},s.a.createElement("button",{className:"button is-success has-margins-0-5",type:"button",onClick:function(){console.log("User has tried to sign up..");var e=function(){var e=!0;for(var a in l)l[a].validate()||(e=!1);return e}();t.current.checkValues();var n=t.current.valid()&&e;if(n&&(l.email.value!==l.emailConfirm.value&&(console.log("Email mismatch."),n=!1),l.password.value!==l.passwordConfirm.value&&(console.log("Password mismatch."),n=!1)),n){var s={};for(var c in l)"file"!==l[c].type?s[c]=l[c].value:s[c]=l[c].file;s.persons=r.current.persons,console.log("Data:",s),console.log("we did it!");var i={first_name:l.firstName.value,last_name:l.lastName.value,address1:l.address_1.value,address2:l.address_2.value,city:l.city.value,state:l.state.value,zipcode:l.zip.value,phone:l.phoneNumber.value,email:l.email.value,password:l.password.value};console.log("Test:",i),X.a.post("https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/signup",i).then((function(e){console.log(e),200===e.status&&a.push("/signup/verify")})).catch((function(e){console.log(e)}))}else console.log("Sign up failed...")}},"Sign Up")))))};var la=function(){var e=Fe(),a=Object(o.h)(),t=Object(o.g)(),r=Object(n.useRef)(),l=Object(n.useRef)(),i=Object(n.useState)(""),m=Object(c.a)(i,2),u=m[0],d=m[1],p=Object(n.useState)(""),f=Object(c.a)(p,2),v=f[0],E=f[1],g=Object(n.useState)(""),b=Object(c.a)(g,2),h=b[0],N=b[1],k=Object(n.useState)(""),y=Object(c.a)(k,2),_=y[0],O=y[1],x=Object(n.useState)(""),w=Object(c.a)(x,2),j=w[0],S=w[1],I=Object(n.useState)(""),C=Object(c.a)(I,2),A=C[0],D=C[1],M=Le("Phone Number","tel"),L=Le("Date of Birth","date"),z=Le("Address 1","text"),P=Le("Address 2","text",!1),U=Le("City","text"),F=Le("State","text"),V=Le("Zip","text"),T=Le("Vegan","checkbox"),R=Le("Vegetarian","checkbox"),J=Le("Gluten Free","checkbox"),B=Le("Kosher","checkbox"),H=Le("Halal","checkbox"),q=Le("None","checkbox"),W=Le("Drivers License","text",!1),$=Le("License Image","file",!1),K=Le("Monthly Income","number",!1);function Z(e){d(e.email),N(e.lastname),E(e.firstname),O(e.accessToken),S(e.refreshToken),D(e.social)}return Object(n.useEffect)((function(){!function(){var e=Object(G.a)(Y.a.mark((function e(a){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=3;break}return e.next=3,Z(a);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()(a.state)}),[]),s.a.createElement("div",{className:"login-signup-page signup-background-image"},s.a.createElement("form",{onSubmit:function(e){e.preventDefault()},onKeyPress:function(e){13===e.which&&e.preventDefault()},style:{width:"720px",maxWidth:"100%"}},s.a.createElement("div",{className:"column has-text-black"},s.a.createElement("div",null,s.a.createElement("p",{className:"subtitle is-1 has-margin-top-1 has-text-centered has-text-black"},"Social Sign Up"),s.a.createElement("div",{className:"columns has-margin-top-1"},s.a.createElement("div",{className:"column"},s.a.createElement("input",{className:"input",type:"text",value:v,readOnly:!0})),s.a.createElement("div",{className:"column"},s.a.createElement("input",{className:"input",type:"text",value:h,readOnly:!0}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-8"},s.a.createElement("div",{className:"field-body"},s.a.createElement("div",{className:"field is-expanded"},s.a.createElement("div",{className:"field has-addons"},s.a.createElement("div",{className:"control"},s.a.createElement("a",{className:"button is-static"},"+1")),s.a.createElement("div",{className:"control is-expanded"},s.a.createElement(ze,{props:M})))))),s.a.createElement("div",{className:"column"},s.a.createElement(ze,{props:L}))),s.a.createElement("input",{className:"input",type:"text",value:u,readOnly:!0})),s.a.createElement("hr",{className:"is-light-gray"}),s.a.createElement("div",null,s.a.createElement("p",{className:"subtitle is-3 has-margin-top-1 has-text-centered has-text-black"},"Would you like to add a permanent address?"),s.a.createElement("p",{className:"subtitle is-4 has-text-centered has-text-black"},"Or ",s.a.createElement("u",null,"use my current location")," instead."),s.a.createElement("p",{className:"subtitle is-4 has-margin-top-1 has-text-centered has-text-black"},"Add An Address"),s.a.createElement("div",{className:"columns has-margin-top-1"},s.a.createElement("div",{className:"column"},s.a.createElement(ze,{props:z})),s.a.createElement("div",{className:"column"},s.a.createElement(ze,{props:P}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement(ze,{props:U})),s.a.createElement("div",{className:"column"},s.a.createElement(Ve,{props:F,data:e.data})),s.a.createElement("div",{className:"column"},s.a.createElement(ze,{props:V})))),s.a.createElement("hr",{className:"is-light-gray"}),s.a.createElement("div",null,s.a.createElement("p",{className:"subtitle is-3 has-margin-top-1 has-text-centered has-text-black"},"Optional Personal Information"),s.a.createElement("div",{className:"columns has-margin-top-1"},s.a.createElement(sa,{ref:l}),s.a.createElement("div",{className:"column"},s.a.createElement(ze,{props:W}),s.a.createElement("div",{className:"box"},s.a.createElement(ze,{props:$})))),s.a.createElement("div",{className:"field-body"},s.a.createElement("div",{className:"field is-expanded"},s.a.createElement("div",{className:"field has-addons"},s.a.createElement("div",{className:"control"},s.a.createElement("a",{className:"button is-static"},"$")),s.a.createElement("div",{className:"control is-expanded"},s.a.createElement(ze,{props:K})))))),s.a.createElement("hr",{className:"is-light-gray"}),s.a.createElement("p",{className:"right-most",title:"Substitutions allow users to choose different items that align with their dietary restrictions to add to their total cart."},"* Opt for substitutions."),s.a.createElement("p",{className:"subtitle is-3 has-text-centered has-text-black"},"Dietary Restrictions*"),s.a.createElement(ta,{ref:r}),s.a.createElement("div",{className:"has-text-centered"},s.a.createElement("button",{className:"button is-success has-margins-0-5",type:"button",onClick:function(){console.log("User has tried to sign up..");var e=function(){var e=!0;return!M.validate()|!L.validate()|!z.validate()|!P.validate()|!U.validate()|!F.validate()|!V.validate()|!T.validate()|!R.validate()|!J.validate()|!B.validate()|!H.validate()|!q.validate()&&(e=!1),e}();if(r.current.checkValues(),r.current.valid()&&e){var a={};a.email=u,a.first_name=v,a.last_name=h,a.access_token=_,a.refresh_token=j,a.social_media=A,a.phone=M.value,a.dob=L.value,a.address1=z.value,a.address2=P.value,a.city=U.value,a.state=F.value,a.zipcode=V.value,a.vegan=T.value,a.vegetarian=R.value,a.glutenFree=J.value,a.kosher=B.value,a.halal=H.value,a.none=q.value,a.persons=l.current.persons,console.log("Data:",a),console.log("we did it!");var n={first_name:v,last_name:h,address1:z.value,address2:P.value,city:U.value,state:F.value,zipcode:V.value,phone:M.value,email:u,social_media:A,access_token:_,refresh_token:j};console.log("Test:",n),X.a.post("https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/socialsignup",n).then((function(e){console.log(e),200===e.status&&t.push("/login")})).catch((function(e){console.log(e)}))}else console.log("Sign up failed...")}},"Sign Up")))))},ca=function(){return s.a.createElement("div",{className:"login-signup-page"},s.a.createElement("div",{className:"tile is-ancestor"},s.a.createElement("div",{className:"tile is-parent has-margin-top-1"},s.a.createElement("article",{className:"tile box is-child notification is-primary"},s.a.createElement("h6",{className:"has-text-white has-text-centered"},"You have successfully created a Feed The Hungry account!",s.a.createElement("br",null),s.a.createElement("br",null),"A confirmation email has been sent to your email address with instructions to help you complete your registration.",s.a.createElement("br",null),s.a.createElement("br",null),"Thank you.")))))},ia=t(38),oa=t(127),ma=t.n(oa);var ua=function(){return s.a.createElement("div",{className:"not-found-page"},s.a.createElement("div",{className:"not-found-page-body"},s.a.createElement("figure",{class:"image is-128x128"},s.a.createElement("img",{src:ma.a,alt:"Not-found image"})),s.a.createElement("div",{className:"not-found-page-content"},s.a.createElement("p",{className:"title is-6 has-text-grey"},"Oh no! A problem occurred when we were trying to process your order."),s.a.createElement("p",{className:"subtitle is-bold is-6 has-text-grey "},"Your order could not be placed."),s.a.createElement("div",{className:"space-1-5"}),s.a.createElement(i.b,{to:"/"},s.a.createElement("button",{className:"button is-danger"},s.a.createElement("span",null,"Contact Support"))))))};var da=function(e){var a=e.initialUrl,t=e.unconfirmed_order,r=e.order,l=Object(n.useState)(a),i=Object(c.a)(l,2),o=i[0],m=(i[1],Object(n.useState)(t)),u=Object(c.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)(!1),v=Object(c.a)(f,2),E=v[0],g=v[1],b=Object(n.useState)(!1),h=Object(c.a)(b,2),N=h[0],k=h[1],y=Object(n.useContext)(le);return Object(n.useEffect)((function(){var e=function(){var e=Object(G.a)(Y.a.mark((function e(){var a,t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,X.a.post(o,r);case 4:return a=e.sent,e.next=7,a.data;case 7:t=e.sent,window.localStorage.removeItem("cart"),y.setOrderInfo(0),p((function(e){return Object(ia.a)(Object(ia.a)({},e),{},{isSent:!0,order_id:t.result.order_id})})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),k(!0);case 17:return e.prev=17,g(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})));return function(){return e.apply(this,arguments)}}();d.isSent||e()}),[o]),window.localStorage.setItem("unconfirmed_order",JSON.stringify(d)),E?s.a.createElement($,null):N?s.a.createElement(ua,null):s.a.createElement("div",{className:"confirmation-page"},s.a.createElement("div",{className:"confirmation-page-layer"},s.a.createElement("div",{className:"confirmation-page-content"},s.a.createElement("div",{className:"confirmation-page-title"},s.a.createElement("p",{className:"title is-3"},d.kitchen_name)),s.a.createElement("div",{className:"space-2-5"}),s.a.createElement("div",{className:"confirmation-page-body"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-7"},s.a.createElement("div",{className:"confirm-order-container"},s.a.createElement("p",{className:"title is-6"},"Your order has been placed"),s.a.createElement("p",{className:"title is-6"},"Confirmation number: ",d.order_id," "),s.a.createElement("p",{className:"subtitle is-6"},"A confirmation email has been sent to"," ",d.email),s.a.createElement("p",{className:"subtitle is-6"},"Click ",s.a.createElement("a",{href:"#"},"here")," to resend confirmation email"),s.a.createElement("div",{className:"divider"}),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-4"},s.a.createElement("p",{className:"subtitle is-6"},"Delivery confirmed for: ",d.date),s.a.createElement("p",{className:"subtitle is-6"}," ","delivery"===r.order_type?"Delivery address":"Pickup address",":")),s.a.createElement("div",{className:"column is-8"},s.a.createElement("p",{className:"subtitle is-6"},d.delivery_date),"delivery"===d.order_type?s.a.createElement("div",null,s.a.createElement("p",{className:"subtitle is-6"},d.street),s.a.createElement("p",{className:"subtitle is-6"},d.city,", ",d.state," ",d.zipcode)):s.a.createElement("p",{className:"subtitle is-6"},d.kitchen_address))))),s.a.createElement("div",{className:"column is-5"},s.a.createElement("div",{className:"total-order-container"},d.ordered_items.map((function(e){return s.a.createElement("div",{key:e.info.food_id,className:"card cart-item"},s.a.createElement("div",{className:"card-image cart-item-image"},s.a.createElement("img",{src:e.info.fl_image,alt:"Placeholder image"})),s.a.createElement("div",{className:"card-content no-overflow"},s.a.createElement("p",{className:"title is-7 has-text-grey-light item-brand"},e.info.fl_brand),s.a.createElement("p",{className:"subtitle is-6 is-bold"},e.info.food_name),s.a.createElement("span",{className:"tag"},s.a.createElement("span",{className:"subtitle is-7"},e.info.fl_package_type," x",e.amount))))})))))),s.a.createElement("div",{className:"divider"}))))},pa=Object(o.k)((function(){console.log("confirm page");var e=JSON.parse(window.localStorage.getItem("unconfirmed_order"))||{},a=e.ordered_items?e.ordered_items:[];if(0===a.length)return s.a.createElement(te,null);var t={customer_id:e.customer_id,phone:e.phone,street:e.street,city:e.city,state:e.state,zipcode:e.zipcode,totalAmount:e.totalAmount,delivery_note:"",kitchen_id:e.kitchen_id,longitude:e.longitude,latitude:e.latitude,delivery_date:e.delivery_date,order_type:e.order_type,ordered_items:[]};return a.forEach((function(e){return t.ordered_items.push({meal_id:e.info.food_id,qty:e.amount})})),console.log(t),s.a.createElement(da,{initialUrl:"https://dc3so1gav1.execute-api.us-west-1.amazonaws.com/dev/api/v2/add_order",unconfirmed_order:e,order:t})})),fa=t(60),va=function(e){var a=e.component,t=e.isAuth,n=Object(fa.a)(e,["component","isAuth"]);return s.a.createElement(o.b,Object.assign({},n,{render:function(e){return t?s.a.createElement(a,e):s.a.createElement(o.a,{to:"/login"})}}))},Ea=function(e){var a=e.component,t=e.isAuth,n=Object(fa.a)(e,["component","isAuth"]);return s.a.createElement(o.b,Object.assign({},n,{render:function(e){return t?s.a.createElement(o.a,{to:"/"}):s.a.createElement(a,e)}}))};var ga=function(){var e=Object(n.useState)({bankId:"",total:0,order_type:"",items:[]}),a=Object(c.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)(0),m=Object(c.a)(l,2),u=m[0],d=m[1],p=Object(n.useState)(""),f=Object(c.a)(p,2),v=f[0],E=f[1],g=Object(n.useState)(!1),b=Object(c.a)(g,2),h=b[0],N=b[1],k=Object(n.useState)(!0),y=Object(c.a)(k,2),_=y[0],O=y[1];function x(){try{!h&&JSON.parse(window.localStorage.getItem("userInfo"))?(console.log("Authenticated"),N(!0)):JSON.parse(window.localStorage.getItem("userInfo"))||(console.log("User is not logged in"),N(!1))}catch(e){console.log(e)}O(!1)}return Object(n.useEffect)((function(){return x(),window.addEventListener("storage",x),function(){window.removeEventListener("storage",x)}}),[]),!_&&s.a.createElement(i.a,{basename:"feed-the-hungry"},s.a.createElement(le.Provider,{value:{orderInfo:u,setOrderInfo:d,isAuth:h,setIsAuth:N,deliveryMethod:v,setDeliveryMethod:E,cartInfo:t,setCartInfo:r}},s.a.createElement(ke,null),s.a.createElement(o.d,null,s.a.createElement(Ea,{exact:!0,path:"/login",isAuth:h,component:aa}),s.a.createElement(Ea,{exact:!0,path:"/signup",isAuth:h,component:ra}),s.a.createElement(o.b,{exact:!0,path:"/"},s.a.createElement(se,null)),s.a.createElement(Ea,{exact:!0,path:"/signup/social",isAuth:h,component:la}),s.a.createElement(Ea,{exact:!0,path:"/signup/verify",isAuth:h,component:ca}),s.a.createElement(va,{exact:!0,path:"/banks/:bankId/products",isAuth:h,component:Ee}),s.a.createElement(va,{exact:!0,path:"/order/cart",isAuth:h,component:Ke}),s.a.createElement(va,{exact:!0,path:"/order/cart/confirm",isAuth:h,component:pa}),s.a.createElement(o.b,{component:te}),s.a.createElement(o.a,{to:"/404"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(i.a,null,s.a.createElement(ga,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,a,t){},45:function(e,a,t){},48:function(e,a,t){e.exports=t.p+"static/media/empty-cart.545cd479.png"}},[[132,1,2]]]);
//# sourceMappingURL=main.0000872d.chunk.js.map